<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>æ–‘ç‹¸</title>
  
  <subtitle>ç¼˜èµ·æ€§ç©º</subtitle>
  <link href="http://example.com/atom.xml" rel="self"/>
  
  <link href="http://example.com/"/>
  <updated>2024-01-03T04:38:28.558Z</updated>
  <id>http://example.com/</id>
  
  <author>
    <name>æ–‘ç‹¸</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>ä½¿ç”¨ VueUse çš„ useScroll åˆ¤æ–­é¡µé¢æ»šåŠ¨è·ç¦»</title>
    <link href="http://example.com/2024/01/03/%E4%BD%BF%E7%94%A8VueUse%E7%9A%84useScroll%E5%88%A4%E6%96%AD%E9%A1%B5%E9%9D%A2%E6%BB%9A%E5%8A%A8%E8%B7%9D%E7%A6%BB/"/>
    <id>http://example.com/2024/01/03/%E4%BD%BF%E7%94%A8VueUse%E7%9A%84useScroll%E5%88%A4%E6%96%AD%E9%A1%B5%E9%9D%A2%E6%BB%9A%E5%8A%A8%E8%B7%9D%E7%A6%BB/</id>
    <published>2024-01-03T04:25:36.000Z</published>
    <updated>2024-01-03T04:38:28.558Z</updated>
    
    <content type="html"><![CDATA[<h5 id="1-æ³¨å†Œå®‰è£…"><a href="#1-æ³¨å†Œå®‰è£…" class="headerlink" title="1 æ³¨å†Œå®‰è£…"></a>1 æ³¨å†Œå®‰è£…</h5><p>å®˜ç½‘ï¼š<a class="link"   href="https://www.vueusejs.com/core/useScroll/" >https://www.vueusejs.com/core/useScroll/<i class="fas fa-external-link-alt"></i></a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i @vueuse/core</span><br></pre></td></tr></table></figure><h5 id="2-ä½¿ç”¨æ–¹æ³•"><a href="#2-ä½¿ç”¨æ–¹æ³•" class="headerlink" title="2 ä½¿ç”¨æ–¹æ³•"></a>2 ä½¿ç”¨æ–¹æ³•</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;script setup lang=&quot;ts&quot;&gt;</span><br><span class="line">import &#123; useScroll &#125; from &#x27;@vueuse/core&#x27;</span><br><span class="line"></span><br><span class="line">const el = ref&lt;HTMLElement | null&gt;(null)</span><br><span class="line">const &#123; x, y, isScrolling, arrivedState, directions &#125; = useScroll(el)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div ref=&quot;el&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line">// vueUse</span><br><span class="line">import &#123; useScroll &#125; from &#x27;@vueuse/core&#x27;</span><br><span class="line">const &#123; y &#125; = useScroll(window)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;app-header-sticky&quot; :class=&quot;&#123; show: y &gt; 78 &#125;&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h5 id=&quot;1-æ³¨å†Œå®‰è£…&quot;&gt;&lt;a href=&quot;#1-æ³¨å†Œå®‰è£…&quot; class=&quot;headerlink&quot; title=&quot;1 æ³¨å†Œå®‰è£…&quot;&gt;&lt;/a&gt;1 æ³¨å†Œå®‰è£…&lt;/h5&gt;&lt;p&gt;å®˜ç½‘ï¼š&lt;a class=&quot;link&quot;   href=&quot;https://www.vueusejs.com/co</summary>
      
    
    
    
    <category term="Vue3" scheme="http://example.com/categories/Vue3/"/>
    
    <category term="VueUse" scheme="http://example.com/categories/Vue3/VueUse/"/>
    
    
    <category term="Vue3" scheme="http://example.com/tags/Vue3/"/>
    
    <category term="VueUse" scheme="http://example.com/tags/VueUse/"/>
    
  </entry>
  
  <entry>
    <title>Vue3 ä¸­ router/index.js åŸºç¡€é…ç½®</title>
    <link href="http://example.com/2024/01/02/Vue3%E4%B8%ADrouter-index-js%E5%9F%BA%E7%A1%80%E9%85%8D%E7%BD%AE/"/>
    <id>http://example.com/2024/01/02/Vue3%E4%B8%ADrouter-index-js%E5%9F%BA%E7%A1%80%E9%85%8D%E7%BD%AE/</id>
    <published>2024-01-02T04:24:17.000Z</published>
    <updated>2024-01-02T04:30:47.775Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// createRouter: åˆ›å»ºrouterå®ä¾‹å¯¹è±¡</span></span><br><span class="line"><span class="comment">// createWebHistory: åˆ›å»ºHistoryæ¨¡å¼çš„è·¯ç”±</span></span><br><span class="line"><span class="keyword">import</span> &#123; createRouter, createWebHistory &#125; <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">HomeView</span> <span class="keyword">from</span> <span class="string">&#x27;../views/HomeView.vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> router = <span class="title function_">createRouter</span>(&#123;</span><br><span class="line">  <span class="attr">history</span>: <span class="title function_">createWebHistory</span>(<span class="keyword">import</span>.<span class="property">meta</span>.<span class="property">env</span>.<span class="property">BASE_URL</span>),</span><br><span class="line">  <span class="attr">routes</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">path</span>: <span class="string">&#x27;/&#x27;</span>,</span><br><span class="line">      <span class="attr">name</span>: <span class="string">&#x27;home&#x27;</span>,</span><br><span class="line">      <span class="attr">component</span>: <span class="title class_">HomeView</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">path</span>: <span class="string">&#x27;/about&#x27;</span>,</span><br><span class="line">      <span class="attr">name</span>: <span class="string">&#x27;about&#x27;</span>,</span><br><span class="line">      <span class="comment">// route level code-splitting</span></span><br><span class="line">      <span class="comment">// this generates a separate chunk (About.[hash].js) for this route</span></span><br><span class="line">      <span class="comment">// which is lazy-loaded when the route is visited.</span></span><br><span class="line">      <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&#x27;../views/AboutView.vue&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createRouter, createWebHistory &#125; <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Layout</span> <span class="keyword">from</span> <span class="string">&#x27;@/views/layout/index.vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Login</span> <span class="keyword">from</span> <span class="string">&#x27;@/views/login/index.vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> router = <span class="title function_">createRouter</span>(&#123;</span><br><span class="line">  <span class="attr">history</span>: <span class="title function_">createWebHistory</span>(<span class="keyword">import</span>.<span class="property">meta</span>.<span class="property">env</span>.<span class="property">BASE_URL</span>),</span><br><span class="line">  <span class="attr">routes</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">path</span>: <span class="string">&#x27;/&#x27;</span>,</span><br><span class="line">      <span class="attr">component</span>: <span class="title class_">Layout</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">path</span>: <span class="string">&#x27;/login&#x27;</span>,</span><br><span class="line">      <span class="attr">component</span>: <span class="title class_">Login</span></span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;l</summary>
      
    
    
    
    <category term="Vue3" scheme="http://example.com/categories/Vue3/"/>
    
    <category term="Vue3 åŸºç¡€" scheme="http://example.com/categories/Vue3/Vue3-%E5%9F%BA%E7%A1%80/"/>
    
    
    <category term="Vue3" scheme="http://example.com/tags/Vue3/"/>
    
    <category term="vue-router" scheme="http://example.com/tags/vue-router/"/>
    
  </entry>
  
  <entry>
    <title>ElementPlus ä¸»é¢˜å®šåˆ¶</title>
    <link href="http://example.com/2024/01/02/elementPlus%E4%B8%BB%E9%A2%98%E5%AE%9A%E5%88%B6/"/>
    <id>http://example.com/2024/01/02/elementPlus%E4%B8%BB%E9%A2%98%E5%AE%9A%E5%88%B6/</id>
    <published>2024-01-02T03:34:28.000Z</published>
    <updated>2024-01-02T04:03:10.654Z</updated>
    
    <content type="html"><![CDATA[<h5 id="1-å®‰è£…-scss"><a href="#1-å®‰è£…-scss" class="headerlink" title="1 å®‰è£… scss"></a>1 å®‰è£… scss</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i sass -D</span><br></pre></td></tr></table></figure><h5 id="2-å‡†å¤‡å®šåˆ¶æ ·å¼æ–‡ä»¶"><a href="#2-å‡†å¤‡å®šåˆ¶æ ·å¼æ–‡ä»¶" class="headerlink" title="2 å‡†å¤‡å®šåˆ¶æ ·å¼æ–‡ä»¶"></a>2 å‡†å¤‡å®šåˆ¶æ ·å¼æ–‡ä»¶</h5><p>æ–°å»º /src/styles/element/index.scss<br><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// styles/element/index.scss</span></span><br><span class="line"><span class="comment">/* åªéœ€è¦é‡å†™ä½ éœ€è¦çš„å³å¯ */</span></span><br><span class="line"><span class="keyword">@forward</span> <span class="string">&#x27;element-plus/theme-chalk/src/common/var.scss&#x27;</span> with (</span><br><span class="line">  <span class="variable">$colors</span>: (</span><br><span class="line">    <span class="string">&#x27;primary&#x27;</span>: (</span><br><span class="line">      <span class="string">&#x27;base&#x27;</span>: green,</span><br><span class="line">    ),</span><br><span class="line">  ),</span><br><span class="line">);</span><br></pre></td></tr></table></figure></p><h5 id="3-å¯¹-ElementPlus-æ ·å¼è¿›è¡Œè¦†ç›–"><a href="#3-å¯¹-ElementPlus-æ ·å¼è¿›è¡Œè¦†ç›–" class="headerlink" title="3 å¯¹ ElementPlus æ ·å¼è¿›è¡Œè¦†ç›–"></a>3 å¯¹ ElementPlus æ ·å¼è¿›è¡Œè¦†ç›–</h5><p>é€šçŸ¥ Element é‡‡ç”¨ scss è¯­è¨€ï¼Œä¹‹åå¯¼å…¥å®šåˆ¶ scss æ–‡ä»¶è¦†ç›–<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// vite.config.js</span></span><br><span class="line"><span class="keyword">import</span> &#123; fileURLToPath, <span class="variable constant_">URL</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;node:url&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; defineConfig &#125; <span class="keyword">from</span> <span class="string">&#x27;vite&#x27;</span></span><br><span class="line"><span class="keyword">import</span> vue <span class="keyword">from</span> <span class="string">&#x27;@vitejs/plugin-vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">AutoImport</span> <span class="keyword">from</span> <span class="string">&#x27;unplugin-auto-import/vite&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Components</span> <span class="keyword">from</span> <span class="string">&#x27;unplugin-vue-components/vite&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">ElementPlusResolver</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;unplugin-vue-components/resolvers&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// https://vitejs.dev/config/</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title function_">defineConfig</span>(&#123;</span><br><span class="line">  <span class="attr">plugins</span>: [</span><br><span class="line">    <span class="title function_">vue</span>(),</span><br><span class="line">    <span class="title class_">AutoImport</span>(&#123;</span><br><span class="line">      <span class="attr">resolvers</span>: [<span class="title class_">ElementPlusResolver</span>(&#123; <span class="attr">importStyle</span>: <span class="string">&#x27;sass&#x27;</span> &#125;)]</span><br><span class="line">    &#125;),</span><br><span class="line">    <span class="title class_">Components</span>(&#123;</span><br><span class="line">      <span class="attr">resolvers</span>: [<span class="title class_">ElementPlusResolver</span>(&#123; <span class="attr">importStyle</span>: <span class="string">&#x27;sass&#x27;</span> &#125;)]</span><br><span class="line">    &#125;)</span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">resolve</span>: &#123;</span><br><span class="line">    <span class="attr">alias</span>: &#123;</span><br><span class="line">      <span class="string">&#x27;@&#x27;</span>: <span class="title function_">fileURLToPath</span>(<span class="keyword">new</span> <span class="title function_">URL</span>(<span class="string">&#x27;./src&#x27;</span>, <span class="keyword">import</span>.<span class="property">meta</span>.<span class="property">url</span>))</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">css</span>: &#123;</span><br><span class="line">    <span class="attr">preprocessorOptions</span>: &#123;</span><br><span class="line">      <span class="attr">scss</span>: &#123;</span><br><span class="line">        <span class="comment">// è‡ªåŠ¨å¯¼å…¥å®šåˆ¶åŒ–æ ·å¼æ–‡ä»¶è¿›è¡Œæ ·å¼è¦†ç›–</span></span><br><span class="line">        <span class="attr">additionalData</span>: <span class="string">`</span></span><br><span class="line"><span class="string">          @use &quot;@/styles/element/index.scss&quot; as *;</span></span><br><span class="line"><span class="string">        `</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h5 id=&quot;1-å®‰è£…-scss&quot;&gt;&lt;a href=&quot;#1-å®‰è£…-scss&quot; class=&quot;headerlink&quot; title=&quot;1 å®‰è£… scss&quot;&gt;&lt;/a&gt;1 å®‰è£… scss&lt;/h5&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td</summary>
      
    
    
    
    <category term="Vue3" scheme="http://example.com/categories/Vue3/"/>
    
    <category term="ElementPlus ç»„ä»¶åº“" scheme="http://example.com/categories/Vue3/ElementPlus-%E7%BB%84%E4%BB%B6%E5%BA%93/"/>
    
    
    <category term="Vue3" scheme="http://example.com/tags/Vue3/"/>
    
    <category term="ElementPlus ç»„ä»¶åº“" scheme="http://example.com/tags/ElementPlus-%E7%BB%84%E4%BB%B6%E5%BA%93/"/>
    
  </entry>
  
  <entry>
    <title>ElementPlus è‡ªåŠ¨æŒ‰éœ€å¯¼å…¥é…ç½®</title>
    <link href="http://example.com/2024/01/02/elementPlus%E8%87%AA%E5%8A%A8%E6%8C%89%E9%9C%80%E5%AF%BC%E5%85%A5%E9%85%8D%E7%BD%AE/"/>
    <id>http://example.com/2024/01/02/elementPlus%E8%87%AA%E5%8A%A8%E6%8C%89%E9%9C%80%E5%AF%BC%E5%85%A5%E9%85%8D%E7%BD%AE/</id>
    <published>2024-01-02T03:14:07.000Z</published>
    <updated>2024-01-02T03:57:14.581Z</updated>
    
    <content type="html"><![CDATA[<h5 id="1-å®‰è£…"><a href="#1-å®‰è£…" class="headerlink" title="1 å®‰è£…"></a>1 å®‰è£…</h5><h6 id="1-1-ElementPlus-ç»„ä»¶åº“åœ°å€"><a href="#1-1-ElementPlus-ç»„ä»¶åº“åœ°å€" class="headerlink" title="1.1 ElementPlus ç»„ä»¶åº“åœ°å€"></a>1.1 ElementPlus ç»„ä»¶åº“åœ°å€</h6><p><a class="link"   href="https://element-plus.org/zh-CN/" >https://element-plus.org/zh-CN/<i class="fas fa-external-link-alt"></i></a></p><h6 id="1-2-é€šè¿‡-npm-å®‰è£…"><a href="#1-2-é€šè¿‡-npm-å®‰è£…" class="headerlink" title="1.2 é€šè¿‡ npm å®‰è£…"></a>1.2 é€šè¿‡ npm å®‰è£…</h6><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install element-plus --save</span><br></pre></td></tr></table></figure><h5 id="2-æŒ‰éœ€å¼•å…¥ç»„ä»¶"><a href="#2-æŒ‰éœ€å¼•å…¥ç»„ä»¶" class="headerlink" title="2 æŒ‰éœ€å¼•å…¥ç»„ä»¶"></a>2 æŒ‰éœ€å¼•å…¥ç»„ä»¶</h5><p>é¦–å…ˆéœ€è¦å®‰è£… unplugin-vue-components å’Œ unplugin-auto-import è¿™ä¸¤æ¬¾æ’ä»¶<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -D unplugin-vue-components unplugin-auto-import</span><br></pre></td></tr></table></figure></p><p>é…ç½® vite.config.js<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// vite.config.js</span></span><br><span class="line"><span class="keyword">import</span> &#123; defineConfig &#125; <span class="keyword">from</span> <span class="string">&#x27;vite&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">AutoImport</span> <span class="keyword">from</span> <span class="string">&#x27;unplugin-auto-import/vite&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Components</span> <span class="keyword">from</span> <span class="string">&#x27;unplugin-vue-components/vite&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">ElementPlusResolver</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;unplugin-vue-components/resolvers&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title function_">defineConfig</span>(&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  <span class="attr">plugins</span>: [</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    <span class="title class_">AutoImport</span>(&#123;</span><br><span class="line">      <span class="attr">resolvers</span>: [<span class="title class_">ElementPlusResolver</span>()],</span><br><span class="line">    &#125;),</span><br><span class="line">    <span class="title class_">Components</span>(&#123;</span><br><span class="line">      <span class="attr">resolvers</span>: [<span class="title class_">ElementPlusResolver</span>()],</span><br><span class="line">    &#125;),</span><br><span class="line">  ],</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h5 id=&quot;1-å®‰è£…&quot;&gt;&lt;a href=&quot;#1-å®‰è£…&quot; class=&quot;headerlink&quot; title=&quot;1 å®‰è£…&quot;&gt;&lt;/a&gt;1 å®‰è£…&lt;/h5&gt;&lt;h6 id=&quot;1-1-ElementPlus-ç»„ä»¶åº“åœ°å€&quot;&gt;&lt;a href=&quot;#1-1-ElementPlus-ç»„ä»¶åº“åœ°å€&quot; c</summary>
      
    
    
    
    <category term="Vue3" scheme="http://example.com/categories/Vue3/"/>
    
    <category term="ElementPlus ç»„ä»¶åº“" scheme="http://example.com/categories/Vue3/ElementPlus-%E7%BB%84%E4%BB%B6%E5%BA%93/"/>
    
    
    <category term="Vue3" scheme="http://example.com/tags/Vue3/"/>
    
    <category term="ElementPlus ç»„ä»¶åº“" scheme="http://example.com/tags/ElementPlus-%E7%BB%84%E4%BB%B6%E5%BA%93/"/>
    
  </entry>
  
  <entry>
    <title>æ–°å»º Vue3 é¡¹ç›®çš„æ­¥éª¤</title>
    <link href="http://example.com/2024/01/02/%E6%96%B0%E5%BB%BAVue3%E9%A1%B9%E7%9B%AE%E7%9A%84%E6%AD%A5%E9%AA%A4/"/>
    <id>http://example.com/2024/01/02/%E6%96%B0%E5%BB%BAVue3%E9%A1%B9%E7%9B%AE%E7%9A%84%E6%AD%A5%E9%AA%A4/</id>
    <published>2024-01-02T02:17:19.000Z</published>
    <updated>2024-01-02T04:41:58.501Z</updated>
    
    <content type="html"><![CDATA[<h5 id="1-æ–°å»ºé¡¹ç›®"><a href="#1-æ–°å»ºé¡¹ç›®" class="headerlink" title="1 æ–°å»ºé¡¹ç›®"></a>1 æ–°å»ºé¡¹ç›®</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm init vue@latest</span><br></pre></td></tr></table></figure><h5 id="2-å¯åŠ¨é¡¹ç›®"><a href="#2-å¯åŠ¨é¡¹ç›®" class="headerlink" title="2 å¯åŠ¨é¡¹ç›®"></a>2 å¯åŠ¨é¡¹ç›®</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> é¡¹ç›®åç§°</span><br><span class="line">npm install</span><br><span class="line">npm run dev</span><br></pre></td></tr></table></figure><h5 id="3-é…ç½®-Eslint-å’Œ-Prettier"><a href="#3-é…ç½®-Eslint-å’Œ-Prettier" class="headerlink" title="3 é…ç½® Eslint å’Œ Prettier"></a>3 é…ç½® Eslint å’Œ Prettier</h5><h6 id="3-1-eslintrc-cjs-æ–‡ä»¶"><a href="#3-1-eslintrc-cjs-æ–‡ä»¶" class="headerlink" title="3.1 .eslintrc.cjs æ–‡ä»¶"></a>3.1 .eslintrc.cjs æ–‡ä»¶</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* eslint-env node */</span></span><br><span class="line"><span class="built_in">require</span>(<span class="string">&#x27;@rushstack/eslint-patch/modern-module-resolution&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">root</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">extends</span>: [</span><br><span class="line">    <span class="string">&#x27;plugin:vue/vue3-essential&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;eslint:recommended&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;@vue/eslint-config-prettier/skip-formatting&#x27;</span></span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">parserOptions</span>: &#123;</span><br><span class="line">    <span class="attr">ecmaVersion</span>: <span class="string">&#x27;latest&#x27;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">rules</span>: &#123;</span><br><span class="line">    <span class="string">&#x27;prettier/prettier&#x27;</span>: [</span><br><span class="line">      <span class="string">&#x27;warn&#x27;</span>,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">singleQuote</span>: <span class="literal">true</span>, <span class="comment">// å•å¼•å·</span></span><br><span class="line">        <span class="attr">semi</span>: <span class="literal">false</span>, <span class="comment">// æ— åˆ†å·</span></span><br><span class="line">        <span class="attr">printWidth</span>: <span class="number">80</span>, <span class="comment">// æ¯è¡Œå®½åº¦è‡³å¤š80å­—ç¬¦</span></span><br><span class="line">        <span class="attr">trailingComma</span>: <span class="string">&#x27;none&#x27;</span>, <span class="comment">// ä¸åŠ å¯¹è±¡|æ•°ç»„æœ€åé€—å·</span></span><br><span class="line">        <span class="attr">endOfLine</span>: <span class="string">&#x27;auto&#x27;</span> <span class="comment">// æ¢è¡Œç¬¦å·ä¸é™åˆ¶ï¼ˆwin mac ä¸ä¸€è‡´ï¼‰</span></span><br><span class="line">      &#125;</span><br><span class="line">    ],</span><br><span class="line">    <span class="string">&#x27;vue/multi-word-component-names&#x27;</span>: [</span><br><span class="line">      <span class="string">&#x27;warn&#x27;</span>,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">ignores</span>: [<span class="string">&#x27;index&#x27;</span>] <span class="comment">// vueç»„ä»¶åç§°å¤šå•è¯ç»„æˆï¼ˆå¿½ç•¥index.vueï¼‰</span></span><br><span class="line">      &#125;</span><br><span class="line">    ],</span><br><span class="line">    <span class="comment">// æˆ–è€…ï¼Œä¸å†å¼ºåˆ¶è¦æ±‚ç»„ä»¶å‘½å</span></span><br><span class="line">    <span class="comment">// &#x27;vue/multi-word-component-names&#x27;: 0,</span></span><br><span class="line">    <span class="string">&#x27;vue/no-setup-props-destructure&#x27;</span>: [<span class="string">&#x27;off&#x27;</span>], <span class="comment">// å…³é—­ props è§£æ„çš„æ ¡éªŒ</span></span><br><span class="line">    <span class="comment">// ğŸ’¡ æ·»åŠ æœªå®šä¹‰å˜é‡é”™è¯¯æç¤ºï¼Œcreate-vue@3.6.3 å…³é—­ï¼Œè¿™é‡ŒåŠ ä¸Šæ˜¯ä¸ºäº†æ”¯æŒä¸‹ä¸€ä¸ªç« èŠ‚æ¼”ç¤ºã€‚</span></span><br><span class="line">    <span class="string">&#x27;no-undef&#x27;</span>: <span class="string">&#x27;error&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="3-2-prettierrc-json-æ–‡ä»¶"><a href="#3-2-prettierrc-json-æ–‡ä»¶" class="headerlink" title="3.2 .prettierrc.json æ–‡ä»¶"></a>3.2 .prettierrc.json æ–‡ä»¶</h6><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;$schema&quot;</span><span class="punctuation">:</span> <span class="string">&quot;https://json.schemastore.org/prettierrc&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;semi&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;tabWidth&quot;</span><span class="punctuation">:</span> <span class="number">2</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;singleQuote&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;printWidth&quot;</span><span class="punctuation">:</span> <span class="number">100</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;trailingComma&quot;</span><span class="punctuation">:</span> <span class="string">&quot;none&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h5 id=&quot;1-æ–°å»ºé¡¹ç›®&quot;&gt;&lt;a href=&quot;#1-æ–°å»ºé¡¹ç›®&quot; class=&quot;headerlink&quot; title=&quot;1 æ–°å»ºé¡¹ç›®&quot;&gt;&lt;/a&gt;1 æ–°å»ºé¡¹ç›®&lt;/h5&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutt</summary>
      
    
    
    
    <category term="Vue3" scheme="http://example.com/categories/Vue3/"/>
    
    <category term="Vue3 åŸºç¡€" scheme="http://example.com/categories/Vue3/Vue3-%E5%9F%BA%E7%A1%80/"/>
    
    
    <category term="Vue3" scheme="http://example.com/tags/Vue3/"/>
    
  </entry>
  
  <entry>
    <title>è·¯ç”±æ‡’åŠ è½½</title>
    <link href="http://example.com/2023/12/21/%E8%B7%AF%E7%94%B1%E6%87%92%E5%8A%A0%E8%BD%BD/"/>
    <id>http://example.com/2023/12/21/%E8%B7%AF%E7%94%B1%E6%87%92%E5%8A%A0%E8%BD%BD/</id>
    <published>2023-12-21T03:44:24.000Z</published>
    <updated>2023-12-21T06:41:10.442Z</updated>
    
    <content type="html"><![CDATA[<h5 id="1-å¼‚æ­¥ç»„ä»¶æ”¹é€ "><a href="#1-å¼‚æ­¥ç»„ä»¶æ”¹é€ " class="headerlink" title="1 å¼‚æ­¥ç»„ä»¶æ”¹é€ "></a>1 å¼‚æ­¥ç»„ä»¶æ”¹é€ </h5><p>å®˜ç½‘é“¾æ¥ï¼š<a class="link"   href="https://router.vuejs.org/zh/guide/advanced/lazy-loading.html#%E4%BD%BF%E7%94%A8-webpack" >https://router.vuejs.org/zh/guide/advanced/lazy-loading.html#%E4%BD%BF%E7%94%A8-webpack<i class="fas fa-external-link-alt"></i></a><br>å½“æ‰“åŒ…æ„å»ºåº”ç”¨æ—¶ï¼ŒJavaScript åŒ…ä¼šå˜å¾—éå¸¸å¤§ï¼Œå½±å“é¡µé¢åŠ è½½ã€‚å¦‚æœæˆ‘ä»¬èƒ½æŠŠä¸åŒè·¯ç”±å¯¹åº”çš„ç»„ä»¶åˆ†å‰²æˆä¸åŒçš„ä»£ç å—ï¼Œç„¶åå½“è·¯ç”±è¢«è®¿é—®çš„æ—¶å€™æ‰åŠ è½½å¯¹åº”ç»„ä»¶ï¼Œè¿™æ ·å°±æ›´åŠ é«˜æ•ˆäº†ã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// router/index.js</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">ProDetail</span> = (<span class="params"></span>) =&gt; <span class="keyword">import</span>(<span class="string">&#x27;@/views/prodetail&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> <span class="title function_">Pay</span> = (<span class="params"></span>) =&gt; <span class="keyword">import</span>(<span class="string">&#x27;@/views/pay&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> <span class="title function_">MyOrder</span> = (<span class="params"></span>) =&gt; <span class="keyword">import</span>(<span class="string">&#x27;@/views/myorder&#x27;</span>)</span><br></pre></td></tr></table></figure></p><h5 id="2-è·¯ç”±ä¸­åº”ç”¨"><a href="#2-è·¯ç”±ä¸­åº”ç”¨" class="headerlink" title="2 è·¯ç”±ä¸­åº”ç”¨"></a>2 è·¯ç”±ä¸­åº”ç”¨</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// router/index.js</span></span><br><span class="line">&#123; <span class="attr">path</span>:<span class="string">&#x27;/pay&#x27;</span>, <span class="attr">component</span>: <span class="title class_">Pay</span> &#125;,</span><br><span class="line">......</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h5 id=&quot;1-å¼‚æ­¥ç»„ä»¶æ”¹é€ &quot;&gt;&lt;a href=&quot;#1-å¼‚æ­¥ç»„ä»¶æ”¹é€ &quot; class=&quot;headerlink&quot; title=&quot;1 å¼‚æ­¥ç»„ä»¶æ”¹é€ &quot;&gt;&lt;/a&gt;1 å¼‚æ­¥ç»„ä»¶æ”¹é€ &lt;/h5&gt;&lt;p&gt;å®˜ç½‘é“¾æ¥ï¼š&lt;a class=&quot;link&quot;   href=&quot;https://router.vu</summary>
      
    
    
    
    <category term="Vue2" scheme="http://example.com/categories/Vue2/"/>
    
    <category term="Vue2 åŸºç¡€" scheme="http://example.com/categories/Vue2/Vue2-%E5%9F%BA%E7%A1%80/"/>
    
    
    <category term="Vue2" scheme="http://example.com/tags/Vue2/"/>
    
  </entry>
  
  <entry>
    <title>Vue2 é¡¹ç›®çš„æ‰“åŒ…å‘å¸ƒ</title>
    <link href="http://example.com/2023/12/21/vue2%E9%A1%B9%E7%9B%AE%E7%9A%84%E6%89%93%E5%8C%85%E5%8F%91%E5%B8%83/"/>
    <id>http://example.com/2023/12/21/vue2%E9%A1%B9%E7%9B%AE%E7%9A%84%E6%89%93%E5%8C%85%E5%8F%91%E5%B8%83/</id>
    <published>2023-12-21T03:34:41.000Z</published>
    <updated>2023-12-21T03:41:06.903Z</updated>
    
    <content type="html"><![CDATA[<h5 id="1-å‘½ä»¤"><a href="#1-å‘½ä»¤" class="headerlink" title="1 å‘½ä»¤"></a>1 å‘½ä»¤</h5><p>æ‰§è¡Œè¯¥å‘½ä»¤ï¼Œåœ¨é¡¹ç›®æ ¹ç›®å½•ä¼šè‡ªåŠ¨åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ distï¼Œdistä¸­çš„æ–‡ä»¶å°±æ˜¯æ‰“åŒ…åçš„æ–‡ä»¶ï¼Œåªéœ€è¦æ”¾åœ¨æœåŠ¡å™¨ä¸­å³å¯ã€‚<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm run build</span><br></pre></td></tr></table></figure></p><h5 id="2-é…ç½®"><a href="#2-é…ç½®" class="headerlink" title="2 é…ç½®"></a>2 é…ç½®</h5><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œéœ€è¦æ”¾åˆ°æœåŠ¡å™¨æ ¹ç›®å½•æ‰“å¼€ï¼Œå¦‚æœå¸Œæœ›åŒå‡»è¿è¡Œï¼Œéœ€è¦é…ç½® publicPath é…æˆç›¸å¯¹è·¯å¾„ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// vue.config.js</span></span><br><span class="line"><span class="keyword">const</span> &#123; defineConfig &#125; = <span class="built_in">require</span>(<span class="string">&#x27;@vue/cli-service&#x27;</span>)</span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = <span class="title function_">defineConfig</span>(&#123;</span><br><span class="line">  <span class="attr">publicPath</span>: <span class="string">&#x27;./&#x27;</span>,</span><br><span class="line">  <span class="attr">transpileDependencies</span>: <span class="literal">true</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h5 id=&quot;1-å‘½ä»¤&quot;&gt;&lt;a href=&quot;#1-å‘½ä»¤&quot; class=&quot;headerlink&quot; title=&quot;1 å‘½ä»¤&quot;&gt;&lt;/a&gt;1 å‘½ä»¤&lt;/h5&gt;&lt;p&gt;æ‰§è¡Œè¯¥å‘½ä»¤ï¼Œåœ¨é¡¹ç›®æ ¹ç›®å½•ä¼šè‡ªåŠ¨åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ distï¼Œdistä¸­çš„æ–‡ä»¶å°±æ˜¯æ‰“åŒ…åçš„æ–‡ä»¶ï¼Œåªéœ€è¦æ”¾åœ¨æœåŠ¡å™¨ä¸­å³å¯ã€‚&lt;br&gt;&lt;</summary>
      
    
    
    
    <category term="Vue2" scheme="http://example.com/categories/Vue2/"/>
    
    <category term="Vue2 åŸºç¡€" scheme="http://example.com/categories/Vue2/Vue2-%E5%9F%BA%E7%A1%80/"/>
    
    
    <category term="Vue2" scheme="http://example.com/tags/Vue2/"/>
    
  </entry>
  
  <entry>
    <title>Vuex ä¸­å­æ¨¡å—è°ƒç”¨å…¨å±€æ•°æ®</title>
    <link href="http://example.com/2023/12/21/vuex%E4%B8%AD%E5%AD%90%E6%A8%A1%E5%9D%97%E8%B0%83%E7%94%A8%E5%85%A8%E5%B1%80%E6%95%B0%E6%8D%AE/"/>
    <id>http://example.com/2023/12/21/vuex%E4%B8%AD%E5%AD%90%E6%A8%A1%E5%9D%97%E8%B0%83%E7%94%A8%E5%85%A8%E5%B1%80%E6%95%B0%E6%8D%AE/</id>
    <published>2023-12-21T02:46:10.000Z</published>
    <updated>2023-12-21T03:34:27.225Z</updated>
    
    <content type="html"><![CDATA[<h5 id="1-æ„å»ºå­æ¨¡å—"><a href="#1-æ„å»ºå­æ¨¡å—" class="headerlink" title="1 æ„å»ºå­æ¨¡å—"></a>1 æ„å»ºå­æ¨¡å—</h5><p>å‚è€ƒæ–¹æ³•ï¼š<a class="link"   href="https://banlixxx.github.io/2023/12/12/vuex%E6%9E%84%E5%BB%BA%E5%AD%90%E6%A8%A1%E5%9D%97/" >Vuex æ„å»ºå­æ¨¡å—<i class="fas fa-external-link-alt"></i></a></p><h5 id="2-å­æ¨¡å—è°ƒç”¨å…¨å±€æ•°æ®"><a href="#2-å­æ¨¡å—è°ƒç”¨å…¨å±€æ•°æ®" class="headerlink" title="2 å­æ¨¡å—è°ƒç”¨å…¨å±€æ•°æ®"></a>2 å­æ¨¡å—è°ƒç”¨å…¨å±€æ•°æ®</h5><p>Vuex3 å®˜æ–¹æ–‡æ¡£ï¼š<a class="link"   href="https://v3.vuex.vuejs.org/zh/" >https://v3.vuex.vuejs.org/zh/<i class="fas fa-external-link-alt"></i></a><br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">actions</span>: &#123;</span><br><span class="line">    <span class="title function_">logout</span>(<span class="params">context</span>) &#123;</span><br><span class="line">      context.<span class="title function_">commit</span>(<span class="string">&#x27;setUserInfo&#x27;</span>, &#123;&#125;)</span><br><span class="line">      <span class="comment">// è°ƒç”¨å¦ä¸€ä¸ªcartå­æ¨¡å—çš„å‡½æ•°</span></span><br><span class="line">      context.<span class="title function_">commit</span>(<span class="string">&#x27;cart/setCartList&#x27;</span>, [], &#123; <span class="attr">root</span>: <span class="literal">true</span> &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h5 id=&quot;1-æ„å»ºå­æ¨¡å—&quot;&gt;&lt;a href=&quot;#1-æ„å»ºå­æ¨¡å—&quot; class=&quot;headerlink&quot; title=&quot;1 æ„å»ºå­æ¨¡å—&quot;&gt;&lt;/a&gt;1 æ„å»ºå­æ¨¡å—&lt;/h5&gt;&lt;p&gt;å‚è€ƒæ–¹æ³•ï¼š&lt;a class=&quot;link&quot;   href=&quot;https://banlixxx.gith</summary>
      
    
    
    
    <category term="Vue2" scheme="http://example.com/categories/Vue2/"/>
    
    <category term="Vue2 åŸºç¡€" scheme="http://example.com/categories/Vue2/Vue2-%E5%9F%BA%E7%A1%80/"/>
    
    
    <category term="Vue2" scheme="http://example.com/tags/Vue2/"/>
    
    <category term="Vuex" scheme="http://example.com/tags/Vuex/"/>
    
  </entry>
  
  <entry>
    <title>vantç»„ä»¶-Tabæ ‡ç­¾é¡µ</title>
    <link href="http://example.com/2023/12/18/vant%E7%BB%84%E4%BB%B6-Tab%E6%A0%87%E7%AD%BE%E9%A1%B5/"/>
    <id>http://example.com/2023/12/18/vant%E7%BB%84%E4%BB%B6-Tab%E6%A0%87%E7%AD%BE%E9%A1%B5/</id>
    <published>2023-12-18T04:21:03.000Z</published>
    <updated>2023-12-18T04:23:11.099Z</updated>
    
    <content type="html"><![CDATA[<h5 id="1-æ³¨å†Œå®‰è£…"><a href="#1-æ³¨å†Œå®‰è£…" class="headerlink" title="1 æ³¨å†Œå®‰è£…"></a>1 æ³¨å†Œå®‰è£…</h5><p>å®˜ç½‘ï¼š<a class="link"   href="https://vant-contrib.gitee.io/vant/v2/#/zh-CN/tab" >https://vant-contrib.gitee.io/vant/v2/#/zh-CN/tab<i class="fas fa-external-link-alt"></i></a></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Tab</span>, <span class="title class_">Tabs</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;vant&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">Tab</span>)</span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">Tabs</span>)</span><br></pre></td></tr></table></figure><h5 id="2-ä½¿ç”¨æ–¹å¼"><a href="#2-ä½¿ç”¨æ–¹å¼" class="headerlink" title="2 ä½¿ç”¨æ–¹å¼"></a>2 ä½¿ç”¨æ–¹å¼</h5><p>é€šè¿‡ v-model ç»‘å®šå½“å‰æ¿€æ´»æ ‡ç­¾å¯¹åº”çš„ç´¢å¼•å€¼ï¼Œé»˜è®¤æƒ…å†µä¸‹å¯ç”¨ç¬¬ä¸€ä¸ªæ ‡ç­¾ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;van-tabs v-model=<span class="string">&quot;active&quot;</span>&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">van-tab</span> <span class="attr">title</span>=<span class="string">&quot;æ ‡ç­¾ 1&quot;</span>&gt;</span>å†…å®¹ 1<span class="tag">&lt;/<span class="name">van-tab</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">van-tab</span> <span class="attr">title</span>=<span class="string">&quot;æ ‡ç­¾ 2&quot;</span>&gt;</span>å†…å®¹ 2<span class="tag">&lt;/<span class="name">van-tab</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">van-tab</span> <span class="attr">title</span>=<span class="string">&quot;æ ‡ç­¾ 3&quot;</span>&gt;</span>å†…å®¹ 3<span class="tag">&lt;/<span class="name">van-tab</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">van-tab</span> <span class="attr">title</span>=<span class="string">&quot;æ ‡ç­¾ 4&quot;</span>&gt;</span>å†…å®¹ 4<span class="tag">&lt;/<span class="name">van-tab</span>&gt;</span></span></span><br><span class="line">&lt;/van-tabs&gt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">active</span>: <span class="number">2</span>,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h5 id=&quot;1-æ³¨å†Œå®‰è£…&quot;&gt;&lt;a href=&quot;#1-æ³¨å†Œå®‰è£…&quot; class=&quot;headerlink&quot; title=&quot;1 æ³¨å†Œå®‰è£…&quot;&gt;&lt;/a&gt;1 æ³¨å†Œå®‰è£…&lt;/h5&gt;&lt;p&gt;å®˜ç½‘ï¼š&lt;a class=&quot;link&quot;   href=&quot;https://vant-contrib.gitee.</summary>
      
    
    
    
    <category term="Vue2" scheme="http://example.com/categories/Vue2/"/>
    
    <category term="Vant ç»„ä»¶åº“" scheme="http://example.com/categories/Vue2/Vant-%E7%BB%84%E4%BB%B6%E5%BA%93/"/>
    
    
    <category term="Vue2" scheme="http://example.com/tags/Vue2/"/>
    
    <category term="Vant ç»„ä»¶åº“" scheme="http://example.com/tags/Vant-%E7%BB%84%E4%BB%B6%E5%BA%93/"/>
    
  </entry>
  
  <entry>
    <title>Mixins æ··å…¥å¤„ç†</title>
    <link href="http://example.com/2023/12/18/mixins%E6%B7%B7%E5%85%A5%E5%A4%84%E7%90%86/"/>
    <id>http://example.com/2023/12/18/mixins%E6%B7%B7%E5%85%A5%E5%A4%84%E7%90%86/</id>
    <published>2023-12-18T03:38:39.000Z</published>
    <updated>2023-12-18T03:45:28.662Z</updated>
    
    <content type="html"><![CDATA[<h5 id="1-æ–°å»ºæ–‡ä»¶"><a href="#1-æ–°å»ºæ–‡ä»¶" class="headerlink" title="1 æ–°å»ºæ–‡ä»¶"></a>1 æ–°å»ºæ–‡ä»¶</h5><p>æ–°å»º /src/mixins/test.js</p><h5 id="2-ç¼–å†™æ‰€éœ€è¦æ··å…¥çš„å†…å®¹"><a href="#2-ç¼–å†™æ‰€éœ€è¦æ··å…¥çš„å†…å®¹" class="headerlink" title="2 ç¼–å†™æ‰€éœ€è¦æ··å…¥çš„å†…å®¹"></a>2 ç¼–å†™æ‰€éœ€è¦æ··å…¥çš„å†…å®¹</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="comment">// æ­¤å¤„ç¼–å†™çš„å°±æ˜¯Vueç»„ä»¶å®ä¾‹çš„é…ç½®é¡¹ï¼Œé€šè¿‡ä¸€å®šè¯­æ³•ï¼Œå¯ä»¥ç›´æ¥æ··å…¥åˆ°ç»„ä»¶å†…éƒ¨</span></span><br><span class="line">  <span class="comment">// data mothods computed ç”Ÿå‘½å‘¨æœŸå‡½æ•°...</span></span><br><span class="line">  <span class="comment">// 1.æ³¨æ„ç‚¹ï¼šå¦‚æœæ­¤å¤„å’Œç»„ä»¶å†…ï¼Œæä¾›äº†åŒåçš„dataæˆ–methodsï¼Œåˆ™ç»„ä»¶å†…ä¼˜å…ˆçº§æ›´é«˜</span></span><br><span class="line">  <span class="comment">// 2.å¦‚æœç¼–å†™äº†ç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼Œåˆ™mixinsä¸­çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°å’Œé¡µé¢çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼Œä¼šç”¨æ•°ç»„ç®¡ç†ï¼Œç»Ÿä¸€æ‰§è¡Œ</span></span><br><span class="line">  <span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">title</span>: <span class="string">&#x27;æ ‡é¢˜&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">methods</span>: &#123;</span><br><span class="line">    <span class="title function_">sayHi</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;ä½ å¥½&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="3-ç»„ä»¶ä¸­å¯¼å…¥"><a href="#3-ç»„ä»¶ä¸­å¯¼å…¥" class="headerlink" title="3 ç»„ä»¶ä¸­å¯¼å…¥"></a>3 ç»„ä»¶ä¸­å¯¼å…¥</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="keyword">import</span> test <span class="keyword">from</span> <span class="string">&#x27;@/mixins/test.js&#x27;</span></span><br><span class="line">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    <span class="attr">mixins</span>: [test],</span><br><span class="line">    <span class="comment">// è°ƒç”¨å¯¼å…¥çš„æ•°æ®</span></span><br><span class="line">    <span class="title function_">created</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">title</span>),</span><br><span class="line">      <span class="variable language_">this</span>.<span class="title function_">sayHi</span>()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h5 id=&quot;1-æ–°å»ºæ–‡ä»¶&quot;&gt;&lt;a href=&quot;#1-æ–°å»ºæ–‡ä»¶&quot; class=&quot;headerlink&quot; title=&quot;1 æ–°å»ºæ–‡ä»¶&quot;&gt;&lt;/a&gt;1 æ–°å»ºæ–‡ä»¶&lt;/h5&gt;&lt;p&gt;æ–°å»º /src/mixins/test.js&lt;/p&gt;
&lt;h5 id=&quot;2-ç¼–å†™æ‰€éœ€è¦æ··å…¥çš„å†…å®¹&quot;&gt;&lt;a hr</summary>
      
    
    
    
    <category term="Vue2" scheme="http://example.com/categories/Vue2/"/>
    
    <category term="Vue2 åŸºç¡€" scheme="http://example.com/categories/Vue2/Vue2-%E5%9F%BA%E7%A1%80/"/>
    
    
    <category term="Vue2" scheme="http://example.com/tags/Vue2/"/>
    
    <category term="Mixins" scheme="http://example.com/tags/Mixins/"/>
    
  </entry>
  
  <entry>
    <title>Vuex ä¸­å­æ¨¡å—è°ƒç”¨è‡ªèº«æ•°æ®</title>
    <link href="http://example.com/2023/12/17/vuex%E4%B8%AD%E5%AD%90%E6%A8%A1%E5%9D%97%E8%B0%83%E7%94%A8%E8%87%AA%E8%BA%AB%E6%95%B0%E6%8D%AE/"/>
    <id>http://example.com/2023/12/17/vuex%E4%B8%AD%E5%AD%90%E6%A8%A1%E5%9D%97%E8%B0%83%E7%94%A8%E8%87%AA%E8%BA%AB%E6%95%B0%E6%8D%AE/</id>
    <published>2023-12-17T02:36:16.000Z</published>
    <updated>2023-12-17T05:41:18.960Z</updated>
    
    <content type="html"><![CDATA[<h5 id="1-æ„å»ºå­æ¨¡å—"><a href="#1-æ„å»ºå­æ¨¡å—" class="headerlink" title="1 æ„å»ºå­æ¨¡å—"></a>1 æ„å»ºå­æ¨¡å—</h5><p>å‚è€ƒæ–¹æ³•ï¼š<a class="link"   href="https://banlixxx.github.io/2023/12/12/vuex%E6%9E%84%E5%BB%BA%E5%AD%90%E6%A8%A1%E5%9D%97/" >Vuex æ„å»ºå­æ¨¡å—<i class="fas fa-external-link-alt"></i></a></p><h5 id="2-å­æ¨¡å—è°ƒç”¨è‡ªèº«æ•°æ®"><a href="#2-å­æ¨¡å—è°ƒç”¨è‡ªèº«æ•°æ®" class="headerlink" title="2 å­æ¨¡å—è°ƒç”¨è‡ªèº«æ•°æ®"></a>2 å­æ¨¡å—è°ƒç”¨è‡ªèº«æ•°æ®</h5><p>Vuex3 å®˜æ–¹æ–‡æ¡£ï¼š<a class="link"   href="https://v3.vuex.vuejs.org/zh/" >https://v3.vuex.vuejs.org/zh/<i class="fas fa-external-link-alt"></i></a><br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; getCartList &#125; <span class="keyword">from</span> <span class="string">&#x27;@/api/cart.js&#x27;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="attr">namespaced</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="title function_">state</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">cartList</span>: []</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">mutations</span>: &#123;</span><br><span class="line">    <span class="title function_">setCartList</span>(<span class="params">state, newList</span>) &#123;</span><br><span class="line">      state.<span class="property">cartList</span> = newList</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">actions</span>: &#123;</span><br><span class="line">    <span class="keyword">async</span> <span class="title function_">getCartAction</span>(<span class="params">context</span>) &#123;</span><br><span class="line">      <span class="keyword">const</span> &#123; data &#125; = <span class="keyword">await</span> <span class="title function_">getCartList</span>()</span><br><span class="line">      data.<span class="property">list</span>.<span class="title function_">forEach</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> &#123;</span><br><span class="line">        item.<span class="property">isChecked</span> = <span class="literal">true</span></span><br><span class="line">      &#125;)</span><br><span class="line">      context.<span class="title function_">commit</span>(<span class="string">&#x27;setCartList&#x27;</span>, data.<span class="property">list</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">getters</span>: &#123;</span><br><span class="line">    <span class="comment">// æ±‚æ‰€æœ‰çš„å•†å“ç´¯åŠ æ€»æ•°</span></span><br><span class="line">    <span class="title function_">cartTotal</span>(<span class="params">state</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> state.<span class="property">cartList</span>.<span class="title function_">reduce</span>(<span class="function">(<span class="params">sum, item</span>) =&gt;</span> sum + item.<span class="property">goods_num</span>, <span class="number">0</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// é€‰ä¸­çš„å•†å“</span></span><br><span class="line">    <span class="title function_">selCartList</span>(<span class="params">state</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> state.<span class="property">cartList</span>.<span class="title function_">filter</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> item.<span class="property">isChecked</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// é€‰ä¸­çš„æ€»æ•°</span></span><br><span class="line">    <span class="title function_">selCount</span>(<span class="params">state, getters</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> getters.<span class="property">selCartList</span>.<span class="title function_">reduce</span>(<span class="function">(<span class="params">sum, item</span>) =&gt;</span> item.<span class="property">goods_num</span> + sum, <span class="number">0</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// é€‰ä¸­çš„æ€»ä»·</span></span><br><span class="line">    <span class="title function_">selPrice</span>(<span class="params">state, getters</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> getters.<span class="property">selCartList</span>.<span class="title function_">reduce</span>(<span class="function">(<span class="params">sum, item</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> sum + item.<span class="property">goods_num</span> * item.<span class="property">goods</span>.<span class="property">goods_price_min</span></span><br><span class="line">      &#125;, <span class="number">0</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h5 id=&quot;1-æ„å»ºå­æ¨¡å—&quot;&gt;&lt;a href=&quot;#1-æ„å»ºå­æ¨¡å—&quot; class=&quot;headerlink&quot; title=&quot;1 æ„å»ºå­æ¨¡å—&quot;&gt;&lt;/a&gt;1 æ„å»ºå­æ¨¡å—&lt;/h5&gt;&lt;p&gt;å‚è€ƒæ–¹æ³•ï¼š&lt;a class=&quot;link&quot;   href=&quot;https://banlixxx.gith</summary>
      
    
    
    
    <category term="Vue2" scheme="http://example.com/categories/Vue2/"/>
    
    <category term="Vue2 åŸºç¡€" scheme="http://example.com/categories/Vue2/Vue2-%E5%9F%BA%E7%A1%80/"/>
    
    
    <category term="Vue2" scheme="http://example.com/tags/Vue2/"/>
    
    <category term="Vuex" scheme="http://example.com/tags/Vuex/"/>
    
  </entry>
  
  <entry>
    <title>XR-FRAME - åŸºç¡€èƒ½åŠ› - VisibleLayer æ˜¾ç¤ºå’Œå›¾å±‚</title>
    <link href="http://example.com/2023/12/15/XR-FRAME-%E5%9F%BA%E7%A1%80%E8%83%BD%E5%8A%9B-VisibleLayer%E6%98%BE%E7%A4%BA%E5%92%8C%E5%9B%BE%E5%B1%82/"/>
    <id>http://example.com/2023/12/15/XR-FRAME-%E5%9F%BA%E7%A1%80%E8%83%BD%E5%8A%9B-VisibleLayer%E6%98%BE%E7%A4%BA%E5%92%8C%E5%9B%BE%E5%B1%82/</id>
    <published>2023-12-15T08:00:55.000Z</published>
    <updated>2023-12-15T08:43:10.328Z</updated>
    
    <content type="html"><![CDATA[<h4 id="1-é¡¹ç›®åœ°å€"><a href="#1-é¡¹ç›®åœ°å€" class="headerlink" title="1 é¡¹ç›®åœ°å€"></a>1 é¡¹ç›®åœ°å€</h4><p>å®˜æ–¹é¡¹ç›®åœ°å€ï¼š<a class="link"   href="https://github.com/dtysky/xr-frame-demo/tree/master/miniprogram/components/xr-basic-visible-layer" >https://github.com/dtysky/xr-frame-demo/tree/master/miniprogram/components/xr-basic-visible-layer<i class="fas fa-external-link-alt"></i></a></p><h4 id="2-ä»£ç è§£æ"><a href="#2-ä»£ç è§£æ" class="headerlink" title="2 ä»£ç è§£æ"></a>2 ä»£ç è§£æ</h4><p>ä¸»è¦ä»£ç ï¼š<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&lt;xr-scene id=&quot;xr-scene&quot; bind:ready=&quot;handleReady&quot;&gt;</span><br><span class="line">  &lt;xr-assets bind:progress=&quot;handleAssetsProgress&quot; bind:loaded=&quot;handleAssetsLoaded&quot;&gt;</span><br><span class="line">    &lt;xr-asset-material asset-id=&quot;standard-mat&quot; effect=&quot;standard&quot; /&gt;</span><br><span class="line">  &lt;/xr-assets&gt;</span><br><span class="line">  &lt;xr-node node-id=&quot;camera-target&quot; position=&quot;0 1.25 -5&quot;&gt;&lt;/xr-node&gt;</span><br><span class="line">  &lt;xr-node visible=&quot;&#123;&#123;visibleIndex === 1&#125;&#125;&quot;&gt;</span><br><span class="line">    &lt;xr-mesh node-id=&quot;mesh-plane&quot; position=&quot;0 -0.05 -4&quot; rotation=&quot;0 0 0&quot; scale=&quot;5 1 5&quot; geometry=&quot;plane&quot; material=&quot;standard-mat&quot; uniforms=&quot;u_baseColorFactor:0.48 0.78 0.64 1&quot;&gt;&lt;/xr-mesh&gt;</span><br><span class="line">  &lt;/xr-node&gt;</span><br><span class="line">  &lt;xr-node visible=&quot;&#123;&#123;visibleIndex === 2&#125;&#125;&quot;&gt;</span><br><span class="line">    &lt;xr-mesh id=&quot;cube&quot; node-id=&quot;mesh-cube&quot; position=&quot;-1 0.5 -3.5&quot; scale=&quot;1 1 1&quot; rotation=&quot;0 45 0&quot; geometry=&quot;cube&quot; material=&quot;standard-mat&quot; uniforms=&quot;u_baseColorFactor:0.298 0.764 0.85 1&quot;&gt;&lt;/xr-mesh&gt;</span><br><span class="line">  &lt;/xr-node&gt;</span><br><span class="line">  &lt;xr-node layer=&quot;1&quot;&gt;</span><br><span class="line">    &lt;xr-mesh node-id=&quot;mesh-sphere&quot; position=&quot;0 1.25 -5&quot; scale=&quot;1.25 1.25 1.25&quot; geometry=&quot;sphere&quot; material=&quot;standard-mat&quot; uniforms=&quot;u_baseColorFactor:0.937 0.176 0.368 1&quot;&gt;&lt;/xr-mesh&gt;</span><br><span class="line">    &lt;xr-node layer=&quot;2&quot;&gt;</span><br><span class="line">      &lt;xr-mesh node-id=&quot;mesh-cylinder&quot; position=&quot;1 0.7 -3.5&quot; scale=&quot;1 0.7 1&quot; geometry=&quot;cylinder&quot; material=&quot;standard-mat&quot; uniforms=&quot;u_baseColorFactor:1 0.776 0.364 1&quot;&gt;&lt;/xr-mesh&gt;</span><br><span class="line">    &lt;/xr-node&gt;</span><br><span class="line">  &lt;/xr-node&gt;</span><br><span class="line">  &lt;xr-camera</span><br><span class="line">    id=&quot;camera&quot; node-id=&quot;camera&quot; position=&quot;0 1.6 0&quot; clear-color=&quot;0.925 0.925 0.925 1&quot;</span><br><span class="line">    target=&quot;camera-target&quot; cull-mask=&quot;&#123;&#123;cullMask&#125;&#125;&quot;</span><br><span class="line">    camera-orbit-control=&quot;&quot;</span><br><span class="line">  &gt;&lt;/xr-camera&gt;</span><br><span class="line">  &lt;xr-node node-id=&quot;lights&quot;&gt;</span><br><span class="line">    &lt;xr-light type=&quot;ambient&quot; color=&quot;1 1 1&quot; intensity=&quot;1&quot; /&gt;</span><br><span class="line">    &lt;xr-light type=&quot;directional&quot; rotation=&quot;40 170 0&quot; color=&quot;1 1 1&quot; intensity=&quot;3&quot; /&gt;</span><br><span class="line">  &lt;/xr-node&gt;</span><br><span class="line">&lt;/xr-scene&gt;</span><br></pre></td></tr></table></figure></p><h6 id="2-1-visible"><a href="#2-1-visible" class="headerlink" title="2.1 visible"></a>2.1 visible</h6><p>&emsp;&emsp;å½“éœ€è¦ä¸€ä¸ªå¼€å…³ç›´æˆªäº†å½“å¾—è®©æŸä¸ªèŠ‚ç‚¹ä¹‹ä¸‹çš„æ‰€æœ‰æ¨¡å‹æˆ–è€…ç¯å…‰éƒ½æ˜¾ç¤ºæˆ–è€…ä¸æ˜¾ç¤ºï¼Œæœ€æ–¹ä¾¿çš„æ–¹æ³•å°±æ˜¯ä½¿ç”¨ visibleï¼Œå½“çˆ¶èŠ‚ç‚¹è®¾ç½®ä¸º false æ—¶ï¼Œå³ä¾¿å­èŠ‚ç‚¹æ˜¾å¼å®šä¹‰äº† trueï¼Œä¹Ÿä¼šè¢«éšè—ã€‚é€‚ç”¨äº nodeã€meshã€Light ç»„ä»¶ã€‚<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;xr-node visible=&quot;&#123;&#123;visibleIndex === 1&#125;&#125;&quot;&gt;</span><br><span class="line">  &lt;xr-mesh node-id=&quot;mesh-plane&quot; position=&quot;0 -0.05 -4&quot; rotation=&quot;0 0 0&quot; scale=&quot;5 1 5&quot; geometry=&quot;plane&quot; material=&quot;standard-mat&quot; uniforms=&quot;u_baseColorFactor:0.48 0.78 0.64 1&quot;&gt;&lt;/xr-mesh&gt;</span><br><span class="line">&lt;/xr-node&gt;</span><br><span class="line">&lt;xr-node visible=&quot;&#123;&#123;visibleIndex === 2&#125;&#125;&quot;&gt;</span><br><span class="line">  &lt;xr-mesh id=&quot;cube&quot; node-id=&quot;mesh-cube&quot; position=&quot;-1 0.5 -3.5&quot; scale=&quot;1 1 1&quot; rotation=&quot;0 45 0&quot; geometry=&quot;cube&quot; material=&quot;standard-mat&quot; uniforms=&quot;u_baseColorFactor:0.298 0.764 0.85 1&quot;&gt;&lt;/xr-mesh&gt;</span><br><span class="line">&lt;/xr-node&gt;</span><br></pre></td></tr></table></figure></p><h6 id="2-2-layer"><a href="#2-2-layer" class="headerlink" title="2.2 layer"></a>2.2 layer</h6><p>&emsp;&emsp;é™¤äº†è¿™ç§åœºæ™¯ï¼Œåœ¨å¦å¤–ä¸€äº›åœºæ™¯è¿˜ä¼šæœ‰æ›´å¤æ‚çš„éœ€æ±‚ï¼Œæ¯”å¦‚åªæ˜¯æƒ³é’ˆå¯¹æ€§å¾—å‰”é™¤æ‰æŸä¸€ç±»æ¨¡å‹æˆ–æ˜¯ç¯å…‰ï¼Œè€ŒéæŒ‰ç…§å±‚çº§ç»“æ„ï¼Œè¿™æ—¶å€™å›¾å±‚ layer å°±æ´¾ä¸Šç”¨åœºäº†ã€‚<br>&emsp;&emsp;å¯¹äºä¸¤ä¸ª xr-node èŠ‚ç‚¹ï¼Œç»™ç¬¬ä¸€å±‚æŒ‡å®šäº† layer=1ï¼Œç¬¬äºŒå±‚æŒ‡å®šäº† layer=2ï¼Œç„¶åå°† xr-camere èŠ‚ç‚¹çš„ cull-mask å±æ€§ï¼ˆå¯¹åº”äº Camera ç»„ä»¶çš„ cullMask æ•°æ®ï¼‰è®¾ç½®ä¸º 0b011ã€‚å¦‚æ­¤è®¾ç½®çš„æ•ˆæœåº”è¯¥æ˜¯ç¬¬ä¸€ä¸ª mesh è¢«æ¸²æŸ“ï¼Œç¬¬äºŒä¸ªä¸è¢«æ¸²æŸ“ã€‚<br>&emsp;&emsp;å…¶ä¸­ layer å¯ä»¥è®¾ç½® 1~32 å…± 32 ä¸ªå€¼ï¼Œè€Œç›¸æœºçš„ cullMask æ˜¯ä¸€ä¸ª 32 ä½æ— ç¬¦å·æ•´æ•°ï¼Œæ¯ä¸€ä½éƒ½ä»£è¡¨ä¸€ä¸ª layerã€‚åªæœ‰å½“ä¸€ä¸ªèŠ‚ç‚¹ä»é¡¶å±‚åˆ°è‡ªèº«è·¯å¾„ä¸­çš„æ‰€æœ‰èŠ‚ç‚¹éƒ½é€šè¿‡äº†è¿™ä¸ª mask çš„æµ‹è¯•ï¼ˆä»çˆ¶èŠ‚ç‚¹åˆ°è‡ªèº«èŠ‚ç‚¹ï¼Œè¿™ä¸ªè·¯å¾„ä¸Šæ‰€æœ‰èŠ‚ç‚¹çš„ layerï¼Œæ‰€å¯¹åº”çš„ cullMusk éƒ½ä¸º 1 æ—¶ï¼‰ï¼Œè‡ªèº«æ‰ä¼šè¢«æ˜¾ç¤ºå‡ºæ¥ã€‚è¿™ä¹Ÿé€‚ç”¨äº meshã€Light ç»„ä»¶ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;xr-node layer=&quot;1&quot;&gt;</span><br><span class="line">  &lt;xr-mesh node-id=&quot;mesh-sphere&quot; position=&quot;0 1.25 -5&quot; scale=&quot;1.25 1.25 1.25&quot; geometry=&quot;sphere&quot; material=&quot;standard-mat&quot; uniforms=&quot;u_baseColorFactor:0.937 0.176 0.368 1&quot;&gt;&lt;/xr-mesh&gt;</span><br><span class="line">  &lt;xr-node layer=&quot;2&quot;&gt;</span><br><span class="line">    &lt;xr-mesh node-id=&quot;mesh-cylinder&quot; position=&quot;1 0.7 -3.5&quot; scale=&quot;1 0.7 1&quot; geometry=&quot;cylinder&quot; material=&quot;standard-mat&quot; uniforms=&quot;u_baseColorFactor:1 0.776 0.364 1&quot;&gt;&lt;/xr-mesh&gt;</span><br><span class="line">  &lt;/xr-node&gt;</span><br><span class="line">&lt;/xr-node&gt;</span><br><span class="line">&lt;xr-camera</span><br><span class="line">  id=&quot;camera&quot; node-id=&quot;camera&quot; position=&quot;0 1.6 0&quot; clear-color=&quot;0.925 0.925 0.925 1&quot;</span><br><span class="line">  target=&quot;camera-target&quot; cull-mask=&quot;&#123;&#123;cullMask&#125;&#125;&quot;</span><br><span class="line">  camera-orbit-control=&quot;&quot;</span><br><span class="line">&gt;&lt;/xr-camera&gt;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h4 id=&quot;1-é¡¹ç›®åœ°å€&quot;&gt;&lt;a href=&quot;#1-é¡¹ç›®åœ°å€&quot; class=&quot;headerlink&quot; title=&quot;1 é¡¹ç›®åœ°å€&quot;&gt;&lt;/a&gt;1 é¡¹ç›®åœ°å€&lt;/h4&gt;&lt;p&gt;å®˜æ–¹é¡¹ç›®åœ°å€ï¼š&lt;a class=&quot;link&quot;   href=&quot;https://github.com/dtys</summary>
      
    
    
    
    <category term="å¾®ä¿¡å°ç¨‹åº" scheme="http://example.com/categories/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/"/>
    
    <category term="xr-frame" scheme="http://example.com/categories/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/xr-frame/"/>
    
    
    <category term="å¾®ä¿¡å°ç¨‹åº" scheme="http://example.com/tags/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/"/>
    
    <category term="xr-frame" scheme="http://example.com/tags/xr-frame/"/>
    
  </entry>
  
  <entry>
    <title>XR-FRAME - åŸºç¡€èƒ½åŠ› - Share å½•å±å’Œæˆªå±</title>
    <link href="http://example.com/2023/12/15/XR-FRAME-%E5%9F%BA%E7%A1%80%E8%83%BD%E5%8A%9B-Share%E5%BD%95%E5%B1%8F%E5%92%8C%E6%88%AA%E5%B1%8F/"/>
    <id>http://example.com/2023/12/15/XR-FRAME-%E5%9F%BA%E7%A1%80%E8%83%BD%E5%8A%9B-Share%E5%BD%95%E5%B1%8F%E5%92%8C%E6%88%AA%E5%B1%8F/</id>
    <published>2023-12-15T06:45:39.000Z</published>
    <updated>2023-12-15T07:59:33.022Z</updated>
    
    <content type="html"><![CDATA[<h4 id="1-é¡¹ç›®åœ°å€"><a href="#1-é¡¹ç›®åœ°å€" class="headerlink" title="1 é¡¹ç›®åœ°å€"></a>1 é¡¹ç›®åœ°å€</h4><p>å®˜æ–¹é¡¹ç›®åœ°å€ï¼š<a class="link"   href="https://github.com/dtysky/xr-frame-demo/tree/master/miniprogram/components/xr-basic-share" >https://github.com/dtysky/xr-frame-demo/tree/master/miniprogram/components/xr-basic-share<i class="fas fa-external-link-alt"></i></a></p><h4 id="2-ä»£ç è§£æ"><a href="#2-ä»£ç è§£æ" class="headerlink" title="2 ä»£ç è§£æ"></a>2 ä»£ç è§£æ</h4><p>ä¸»è¦ä»£ç ï¼š<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- wxmlæ–‡ä»¶é‡Œçš„ä»£ç è¾ƒä¸ºç®€å•ï¼ŒåŠ è½½äº†ä¸€ä¸ªgltfæ—¶é’Ÿ --&gt;</span><br><span class="line">&lt;xr-scene bind:ready=&quot;handleReady&quot;&gt;</span><br><span class="line">  &lt;xr-asset-load type=&quot;gltf&quot; asset-id=&quot;clock&quot; src=&quot;https://mmbizwxaminiprogram-1258344707.cos.ap-guangzhou.myqcloud.com/xr-frame/demo/clock/scene.gltf&quot; /&gt;</span><br><span class="line"></span><br><span class="line">  &lt;xr-light type=&quot;ambient&quot; color=&quot;1 1 1&quot; intensity=&quot;1&quot; /&gt;</span><br><span class="line">  &lt;xr-light type=&quot;directional&quot; rotation=&quot;40 70 0&quot; color=&quot;1 1 1&quot; intensity=&quot;3&quot; cast-shadow /&gt;</span><br><span class="line"></span><br><span class="line">  &lt;slot&gt;&lt;/slot&gt;</span><br><span class="line">  </span><br><span class="line">  &lt;xr-gltf model=&quot;clock&quot; scale=&quot;0.1 0.1 0.1&quot; rotation=&quot;90 0 0&quot; anim-autoplay /&gt;</span><br><span class="line"></span><br><span class="line">  &lt;xr-node node-id=&quot;target&quot;&gt;&lt;/xr-node&gt;</span><br><span class="line">  &lt;xr-camera node-id=&quot;camera&quot; clear-color=&quot;0.4 0.8 0.6 1&quot; position=&quot;0 0 4&quot; target=&quot;target&quot; camera-orbit-control /&gt;</span><br><span class="line">&lt;/xr-scene&gt;</span><br></pre></td></tr></table></figure></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br></pre></td><td class="code"><pre><span class="line">// ä¸»è¦é€»è¾‘åœ¨jsä¸­</span><br><span class="line">Component(&#123;</span><br><span class="line">  behaviors: [require(&#x27;../common/share-behavior&#x27;).default],</span><br><span class="line">  // çˆ¶ä¼ å­ï¼Œçˆ¶ç»„ä»¶ä¼ é€’çš„å‚æ•°</span><br><span class="line">  properties: &#123;</span><br><span class="line">  // captureStateç”¨æ¥æ§åˆ¶æˆªå›¾</span><br><span class="line">    captureState: &#123;</span><br><span class="line">      type: Number,</span><br><span class="line">      value: 0,</span><br><span class="line">      observer: function (newVal, oldVal) &#123;</span><br><span class="line">        if (newVal !== oldVal) &#123;</span><br><span class="line">          if (newVal === 1) &#123;</span><br><span class="line">            // captureStateä¸º1æ—¶è¿›è¡Œæˆªå›¾æ“ä½œ</span><br><span class="line">            this.capture();</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">    // recordStateç”¨æ¥æ§åˆ¶å½•å±</span><br><span class="line">    recordState: &#123;</span><br><span class="line">      type: Number,</span><br><span class="line">      value: 0,</span><br><span class="line">      observer: function (newVal, oldVal) &#123;</span><br><span class="line">        if (newVal !== oldVal) &#123;</span><br><span class="line">          if (newVal === 0) &#123;</span><br><span class="line">          // recordStateä¸º0æ—¶å½•å±ç»“æŸ</span><br><span class="line">            this.recordEnd();</span><br><span class="line">          &#125; else &#123;</span><br><span class="line">          // recordStateä¸º1æ—¶å½•å±å¼€å§‹</span><br><span class="line">            this.recordStart();</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    // æˆªå±è´¨é‡</span><br><span class="line">    captureQuality: &#123;</span><br><span class="line">      type: Number,</span><br><span class="line">      value: 0.8,</span><br><span class="line">    &#125;,</span><br><span class="line">    // æˆªå±æ ¼å¼</span><br><span class="line">    captureType: &#123;</span><br><span class="line">      type: String,</span><br><span class="line">      value: &#x27;jpg&#x27;,</span><br><span class="line">    &#125;,</span><br><span class="line">    // å½•å±FPS</span><br><span class="line">    recordFPS: &#123;</span><br><span class="line">      type: Number,</span><br><span class="line">      value: 30,</span><br><span class="line">    &#125;,</span><br><span class="line">    // å½•å±å°ºå¯¸ç›¸å…³</span><br><span class="line">    recordWidth: &#123;</span><br><span class="line">      type: Number,</span><br><span class="line">      value: undefined,</span><br><span class="line">    &#125;,</span><br><span class="line">    // å½•å±å°ºå¯¸ç›¸å…³</span><br><span class="line">    recordHeight: &#123;</span><br><span class="line">      type: Number,</span><br><span class="line">      value: undefined,</span><br><span class="line">    &#125;,</span><br><span class="line">    // å½•å±BPS</span><br><span class="line">    recordBPS: &#123;</span><br><span class="line">      type: Number,</span><br><span class="line">      value: 1000,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  data: &#123;</span><br><span class="line">    loaded: false</span><br><span class="line">  &#125;,</span><br><span class="line">  lifetimes: &#123;&#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    handleReady(&#123;detail&#125;) &#123;</span><br><span class="line">      const scene = this.scene = detail.value;</span><br><span class="line">      // share.recordPause() æš‚åœæœ¬æ¬¡å½•å±</span><br><span class="line">      const appHide = () =&gt; this.scene.share.recordPause();</span><br><span class="line">      // share.recordResume() å”¤é†’æœ¬æ¬¡å½•å±</span><br><span class="line">      const appShow = () =&gt; this.scene.share.recordResume();</span><br><span class="line">      wx.onAppHide(appHide);</span><br><span class="line">      wx.onAppShow(appShow);</span><br><span class="line">      wx.offAppHide(appHide);</span><br><span class="line">      wx.offAppShow(appShow);</span><br><span class="line">      </span><br><span class="line">      // å­ä¼ çˆ¶ï¼Œå­ç»„ä»¶å‘çˆ¶ç»„ä»¶ä¼ é€’å‚æ•°</span><br><span class="line">      this.triggerEvent(&#x27;sceneReady&#x27;, &#123;width: scene.width, height: scene.height&#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">    // æˆªå±</span><br><span class="line">    capture() &#123;</span><br><span class="line">      // share.captureToFriends() ç›´æ¥æˆªå±åˆ†äº«ç»™å¥½å‹</span><br><span class="line">      // filetype è¾“å‡ºå›¾ç‰‡ç¼–ç ï¼Œå¯é€‰&#x27;jpg&#x27;ã€&#x27;png&#x27;</span><br><span class="line">      // quality è¾“å‡ºå›¾ç‰‡jpgæ—¶çš„å“è´¨ï¼Œ0~1</span><br><span class="line">      this.scene.share.captureToFriends(&#123;</span><br><span class="line">        fileType: this.data.captureType,</span><br><span class="line">        quality: this.data.captureQuality</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">    // å¼€å§‹å½•å±</span><br><span class="line">    recordStart() &#123;</span><br><span class="line">      console.log(&#x27;recordStart&#x27;)</span><br><span class="line">      // share.recordStart() å¯åŠ¨å½•å±</span><br><span class="line">      // fps è¾“å‡ºå¸§ç‡ï¼Œé»˜è®¤30</span><br><span class="line">      // videoBitsPerSecond è§†é¢‘æ¯”ç‰¹ç‡ï¼Œé»˜è®¤1000</span><br><span class="line">      // width å½•åˆ¶è§†é¢‘å®½åº¦</span><br><span class="line">      // height å½•åˆ¶è§†é¢‘é«˜åº¦</span><br><span class="line">      this.scene.share.recordStart(&#123;</span><br><span class="line">        fps: this.data.recordFPS,</span><br><span class="line">        videoBitsPerSecond: this.data.recordBPS,</span><br><span class="line">        width: this.data.recordWidth,</span><br><span class="line">        height: this.data.recordHeight</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">    // åœæ­¢å½•å±</span><br><span class="line">    recordEnd() &#123;</span><br><span class="line">      console.log(&#x27;recordEnd&#x27;)</span><br><span class="line">      // share.recordFinishToAlbum() å½•å±å®Œæˆï¼Œç›´æ¥ä¿å­˜åˆ°ç”¨æˆ·ç›¸å†Œ</span><br><span class="line">      this.scene.share.recordFinishToAlbum();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h4 id=&quot;1-é¡¹ç›®åœ°å€&quot;&gt;&lt;a href=&quot;#1-é¡¹ç›®åœ°å€&quot; class=&quot;headerlink&quot; title=&quot;1 é¡¹ç›®åœ°å€&quot;&gt;&lt;/a&gt;1 é¡¹ç›®åœ°å€&lt;/h4&gt;&lt;p&gt;å®˜æ–¹é¡¹ç›®åœ°å€ï¼š&lt;a class=&quot;link&quot;   href=&quot;https://github.com/dtys</summary>
      
    
    
    
    <category term="å¾®ä¿¡å°ç¨‹åº" scheme="http://example.com/categories/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/"/>
    
    <category term="xr-frame" scheme="http://example.com/categories/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/xr-frame/"/>
    
    
    <category term="å¾®ä¿¡å°ç¨‹åº" scheme="http://example.com/tags/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/"/>
    
    <category term="xr-frame" scheme="http://example.com/tags/xr-frame/"/>
    
  </entry>
  
  <entry>
    <title>Vant ç»„ä»¶ - Checkbox å¤é€‰æ¡†</title>
    <link href="http://example.com/2023/12/15/vant%E7%BB%84%E4%BB%B6-Checkbox%E5%A4%8D%E9%80%89%E6%A1%86/"/>
    <id>http://example.com/2023/12/15/vant%E7%BB%84%E4%BB%B6-Checkbox%E5%A4%8D%E9%80%89%E6%A1%86/</id>
    <published>2023-12-15T04:23:05.000Z</published>
    <updated>2023-12-15T06:02:18.902Z</updated>
    
    <content type="html"><![CDATA[<h5 id="1-æ³¨å†Œå®‰è£…"><a href="#1-æ³¨å†Œå®‰è£…" class="headerlink" title="1 æ³¨å†Œå®‰è£…"></a>1 æ³¨å†Œå®‰è£…</h5><p>å®˜ç½‘ï¼š<a class="link"   href="https://vant-contrib.gitee.io/vant/v2/#/zh-CN/checkbox" >https://vant-contrib.gitee.io/vant/v2/#/zh-CN/checkbox<i class="fas fa-external-link-alt"></i></a></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Checkbox</span>, <span class="title class_">CheckboxGroup</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;vant&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">Checkbox</span>);</span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">CheckboxGroup</span>);</span><br></pre></td></tr></table></figure><h5 id="2-ä½¿ç”¨æ–¹å¼"><a href="#2-ä½¿ç”¨æ–¹å¼" class="headerlink" title="2 ä½¿ç”¨æ–¹å¼"></a>2 ä½¿ç”¨æ–¹å¼</h5><p>é€šè¿‡ v-model ç»‘å®šå¤é€‰æ¡†çš„å‹¾é€‰çŠ¶æ€ã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;van-checkbox v-model=<span class="string">&quot;checked&quot;</span>&gt;å¤é€‰æ¡†&lt;/van-checkbox&gt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">checked</span>: <span class="literal">true</span>,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h5 id=&quot;1-æ³¨å†Œå®‰è£…&quot;&gt;&lt;a href=&quot;#1-æ³¨å†Œå®‰è£…&quot; class=&quot;headerlink&quot; title=&quot;1 æ³¨å†Œå®‰è£…&quot;&gt;&lt;/a&gt;1 æ³¨å†Œå®‰è£…&lt;/h5&gt;&lt;p&gt;å®˜ç½‘ï¼š&lt;a class=&quot;link&quot;   href=&quot;https://vant-contrib.gitee.</summary>
      
    
    
    
    <category term="Vue2" scheme="http://example.com/categories/Vue2/"/>
    
    <category term="Vant ç»„ä»¶åº“" scheme="http://example.com/categories/Vue2/Vant-%E7%BB%84%E4%BB%B6%E5%BA%93/"/>
    
    
    <category term="Vue2" scheme="http://example.com/tags/Vue2/"/>
    
    <category term="Vant ç»„ä»¶åº“" scheme="http://example.com/tags/Vant-%E7%BB%84%E4%BB%B6%E5%BA%93/"/>
    
  </entry>
  
  <entry>
    <title>è¯·æ±‚æ‹¦æˆªå™¨ç»Ÿä¸€æºå¸¦Token</title>
    <link href="http://example.com/2023/12/15/%E8%AF%B7%E6%B1%82%E6%8B%A6%E6%88%AA%E5%99%A8%E7%BB%9F%E4%B8%80%E6%90%BA%E5%B8%A6Token/"/>
    <id>http://example.com/2023/12/15/%E8%AF%B7%E6%B1%82%E6%8B%A6%E6%88%AA%E5%99%A8%E7%BB%9F%E4%B8%80%E6%90%BA%E5%B8%A6Token/</id>
    <published>2023-12-15T03:51:41.000Z</published>
    <updated>2023-12-15T03:54:18.750Z</updated>
    
    <content type="html"><![CDATA[<h5 id="1-é…ç½®-Axios"><a href="#1-é…ç½®-Axios" class="headerlink" title="1 é…ç½® Axios"></a>1 é…ç½® Axios</h5><p>å‚è€ƒæ–¹æ³•ï¼š<a class="link"   href="https://banlixxx.github.io/2023/12/10/axios%E5%B0%81%E8%A3%85/" >Axios å°è£…<i class="fas fa-external-link-alt"></i></a></p><h5 id="2-é…ç½®è¯·æ±‚æ‹¦æˆªå™¨"><a href="#2-é…ç½®è¯·æ±‚æ‹¦æˆªå™¨" class="headerlink" title="2 é…ç½®è¯·æ±‚æ‹¦æˆªå™¨"></a>2 é…ç½®è¯·æ±‚æ‹¦æˆªå™¨</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Toast</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;vant&#x27;</span></span><br><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">&#x27;@/store/index&#x27;</span></span><br><span class="line">...</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ·»åŠ è¯·æ±‚æ‹¦æˆªå™¨</span></span><br><span class="line">request.<span class="property">interceptors</span>.<span class="property">request</span>.<span class="title function_">use</span>(</span><br><span class="line">  <span class="keyword">function</span> (<span class="params">config</span>) &#123;</span><br><span class="line">    <span class="comment">// åœ¨å‘é€è¯·æ±‚ä¹‹å‰åšäº›ä»€ä¹ˆ</span></span><br><span class="line">    <span class="title class_">Toast</span>.<span class="title function_">loading</span>(&#123;</span><br><span class="line">      <span class="attr">message</span>: <span class="string">&#x27;è¯·æ±‚ä¸­...&#x27;</span>,</span><br><span class="line">      <span class="attr">forbidClick</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="attr">loadingType</span>: <span class="string">&#x27;spinner&#x27;</span>,</span><br><span class="line">      <span class="attr">duration</span>: <span class="number">0</span></span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åªè¦æœ‰ tokenï¼Œå°±åœ¨è¯·æ±‚æ—¶æºå¸¦ï¼Œä¾¿äºè¯·æ±‚è¯·æ±‚éœ€è¦æˆæƒçš„æ¥å£</span></span><br><span class="line">    <span class="keyword">const</span> token = store.<span class="property">getters</span>.<span class="property">token</span></span><br><span class="line">    <span class="keyword">if</span> (token) &#123;</span><br><span class="line">      config.<span class="property">headers</span>[<span class="string">&#x27;Access-Token&#x27;</span>] = token</span><br><span class="line">      config.<span class="property">headers</span>.<span class="property">platform</span> = <span class="string">&#x27;H5&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> config</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="keyword">function</span> (<span class="params">error</span>) &#123;</span><br><span class="line">    <span class="comment">// å¯¹è¯·æ±‚é”™è¯¯åšäº›ä»€ä¹ˆ</span></span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(error)</span><br><span class="line">  &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h5 id=&quot;1-é…ç½®-Axios&quot;&gt;&lt;a href=&quot;#1-é…ç½®-Axios&quot; class=&quot;headerlink&quot; title=&quot;1 é…ç½® Axios&quot;&gt;&lt;/a&gt;1 é…ç½® Axios&lt;/h5&gt;&lt;p&gt;å‚è€ƒæ–¹æ³•ï¼š&lt;a class=&quot;link&quot;   href=&quot;https://b</summary>
      
    
    
    
    <category term="Vue2" scheme="http://example.com/categories/Vue2/"/>
    
    <category term="Vue2 åŸºç¡€" scheme="http://example.com/categories/Vue2/Vue2-%E5%9F%BA%E7%A1%80/"/>
    
    
    <category term="Vue2" scheme="http://example.com/tags/Vue2/"/>
    
    <category term="Axios" scheme="http://example.com/tags/Axios/"/>
    
  </entry>
  
  <entry>
    <title>Vantç»„ä»¶ - Dialog å¼¹å‡ºæ¡†</title>
    <link href="http://example.com/2023/12/15/vant%E7%BB%84%E4%BB%B6-Dialog%E5%BC%B9%E5%87%BA%E6%A1%86/"/>
    <id>http://example.com/2023/12/15/vant%E7%BB%84%E4%BB%B6-Dialog%E5%BC%B9%E5%87%BA%E6%A1%86/</id>
    <published>2023-12-15T03:12:40.000Z</published>
    <updated>2023-12-15T06:02:26.724Z</updated>
    
    <content type="html"><![CDATA[<h5 id="1-æ³¨å†Œå®‰è£…"><a href="#1-æ³¨å†Œå®‰è£…" class="headerlink" title="1 æ³¨å†Œå®‰è£…"></a>1 æ³¨å†Œå®‰è£…</h5><p>å®˜ç½‘ï¼š<a class="link"   href="https://vant-contrib.gitee.io/vant/v2/#/zh-CN/dialog" >https://vant-contrib.gitee.io/vant/v2/#/zh-CN/dialog<i class="fas fa-external-link-alt"></i></a></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Dialog</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;vant&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å…¨å±€æ³¨å†Œ</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">Dialog</span>);</span><br></pre></td></tr></table></figure><h5 id="2-ä½¿ç”¨æ–¹å¼"><a href="#2-ä½¿ç”¨æ–¹å¼" class="headerlink" title="2 ä½¿ç”¨æ–¹å¼"></a>2 ä½¿ç”¨æ–¹å¼</h5><p>ç”¨äºç¡®è®¤æ¶ˆæ¯ï¼ŒåŒ…å«å–æ¶ˆå’Œç¡®è®¤æŒ‰é’®ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Dialog</span>.<span class="title function_">confirm</span>(&#123;</span><br><span class="line">  <span class="attr">title</span>: <span class="string">&#x27;æ ‡é¢˜&#x27;</span>,</span><br><span class="line">  <span class="attr">message</span>: <span class="string">&#x27;å¼¹çª—å†…å®¹&#x27;</span>,</span><br><span class="line">&#125;)</span><br><span class="line">  .<span class="title function_">then</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// on confirm</span></span><br><span class="line">  &#125;)</span><br><span class="line">  .<span class="title function_">catch</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// on cancel</span></span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure><p>å½“ç„¶ï¼Œå¼•å…¥ Dialog ç»„ä»¶åï¼Œä¼šè‡ªåŠ¨åœ¨ Vue çš„ prototype ä¸ŠæŒ‚è½½ $dialog æ–¹æ³•ï¼Œåœ¨æ‰€æœ‰ç»„ä»¶å†…éƒ¨éƒ½å¯ä»¥ç›´æ¥è°ƒç”¨æ­¤æ–¹æ³•ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="title function_">mounted</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">$dialog</span>.<span class="title function_">alert</span>(&#123;</span><br><span class="line">      <span class="attr">message</span>: <span class="string">&#x27;å¼¹çª—å†…å®¹&#x27;</span>,</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h5 id=&quot;1-æ³¨å†Œå®‰è£…&quot;&gt;&lt;a href=&quot;#1-æ³¨å†Œå®‰è£…&quot; class=&quot;headerlink&quot; title=&quot;1 æ³¨å†Œå®‰è£…&quot;&gt;&lt;/a&gt;1 æ³¨å†Œå®‰è£…&lt;/h5&gt;&lt;p&gt;å®˜ç½‘ï¼š&lt;a class=&quot;link&quot;   href=&quot;https://vant-contrib.gitee.</summary>
      
    
    
    
    <category term="Vue2" scheme="http://example.com/categories/Vue2/"/>
    
    <category term="Vant ç»„ä»¶åº“" scheme="http://example.com/categories/Vue2/Vant-%E7%BB%84%E4%BB%B6%E5%BA%93/"/>
    
    
    <category term="Vue2" scheme="http://example.com/tags/Vue2/"/>
    
    <category term="Vant ç»„ä»¶åº“" scheme="http://example.com/tags/Vant-%E7%BB%84%E4%BB%B6%E5%BA%93/"/>
    
  </entry>
  
  <entry>
    <title>XR-FRAME - åŸºç¡€èƒ½åŠ› - Interactionäº¤äº’</title>
    <link href="http://example.com/2023/12/14/XR-FRAME-%E5%9F%BA%E7%A1%80%E8%83%BD%E5%8A%9B-Interaction%E4%BA%A4%E4%BA%92/"/>
    <id>http://example.com/2023/12/14/XR-FRAME-%E5%9F%BA%E7%A1%80%E8%83%BD%E5%8A%9B-Interaction%E4%BA%A4%E4%BA%92/</id>
    <published>2023-12-14T06:54:48.000Z</published>
    <updated>2023-12-15T08:43:08.614Z</updated>
    
    <content type="html"><![CDATA[<h4 id="1-é¡¹ç›®åœ°å€"><a href="#1-é¡¹ç›®åœ°å€" class="headerlink" title="1 é¡¹ç›®åœ°å€"></a>1 é¡¹ç›®åœ°å€</h4><p>å®˜æ–¹é¡¹ç›®åœ°å€ï¼š<a class="link"   href="https://github.com/dtysky/xr-frame-demo/tree/master/miniprogram/components/xr-basic-touch" >https://github.com/dtysky/xr-frame-demo/tree/master/miniprogram/components/xr-basic-touch<i class="fas fa-external-link-alt"></i></a></p><h4 id="2-ä»£ç è§£æ"><a href="#2-ä»£ç è§£æ" class="headerlink" title="2 ä»£ç è§£æ"></a>2 ä»£ç è§£æ</h4><p>ä¸»è¦ä»£ç ï¼š<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&lt;xr-scene id=&quot;xr-scene&quot; bind:tick=&quot;handleTick&quot; bind:ready=&quot;handleReady&quot;&gt;</span><br><span class="line">  &lt;xr-assets bind:progress=&quot;handleAssetsProgress&quot; bind:loaded=&quot;handleAssetsLoaded&quot;&gt;</span><br><span class="line">    &lt;xr-asset-load type=&quot;texture&quot; asset-id=&quot;earth-texture&quot; src=&quot;https://mmbizwxaminiprogram-1258344707.cos.ap-guangzhou.myqcloud.com/xr-frame/demo/2k_earth_daymap.jpeg&quot; /&gt;</span><br><span class="line">    &lt;xr-asset-load type=&quot;texture&quot; asset-id=&quot;moon-texture&quot; src=&quot;https://mmbizwxaminiprogram-1258344707.cos.ap-guangzhou.myqcloud.com/xr-frame/demo/2k_moon.jpeg&quot; /&gt;</span><br><span class="line">    &lt;xr-asset-load type=&quot;texture&quot; asset-id=&quot;sky&quot; src=&quot;https://mmbizwxaminiprogram-1258344707.cos.ap-guangzhou.myqcloud.com/xr-frame/demo/dark-cosmos.jpg&quot; /&gt;</span><br><span class="line">    &lt;xr-asset-material asset-id=&quot;standard-mat&quot; effect=&quot;standard&quot; /&gt;</span><br><span class="line">    &lt;xr-asset-material asset-id=&quot;earth-mat&quot; effect=&quot;standard&quot; uniforms=&quot;u_baseColorMap: earth-texture&quot; render-queue=&quot;501&quot;/&gt;</span><br><span class="line">    &lt;xr-asset-material asset-id=&quot;earth-silhouette&quot; effect=&quot;simple&quot; uniforms=&quot;u_baseColorFactor: 1.0 0.5 0 1.0&quot; states=&quot;depthTestWrite: false&quot; render-queue=&quot;500&quot;/&gt;</span><br><span class="line">    &lt;xr-asset-material asset-id=&quot;moon-mat&quot; effect=&quot;standard&quot; uniforms=&quot;u_baseColorMap: moon-texture&quot; render-queue=&quot;503&quot;/&gt;</span><br><span class="line">    &lt;xr-asset-material asset-id=&quot;moon-silhouette&quot; effect=&quot;simple&quot; uniforms=&quot;u_baseColorFactor: 0.476 0.82 0.957 1.0&quot; states=&quot;depthTestWrite: false&quot; render-queue=&quot;502&quot;/&gt;</span><br><span class="line">  &lt;/xr-assets&gt;</span><br><span class="line">  &lt;xr-env sky-map=&quot;sky&quot; is-sky2d/&gt;</span><br><span class="line">  &lt;xr-node&gt;</span><br><span class="line">    &lt;xr-mesh node-id=&quot;mesh-earth&quot; position=&quot;0 0 0&quot; scale=&quot;8 8 8&quot; geometry=&quot;sphere&quot; material=&quot;earth-mat&quot; bind:touch-shape=&quot;handleTouchEarth&quot; bind:untouch-shape=&quot;handleUntouchEarth&quot; bind:drag-shape=&quot;handleEarthRotation&quot; sphere-shape receive-shadow cast-shadow&gt;&lt;/xr-mesh&gt;</span><br><span class="line">    &lt;xr-mesh node-id=&quot;earth-silhouette&quot; scale=&quot;8.15 8.15 8.15&quot; geometry=&quot;sphere&quot; material=&quot;earth-silhouette&quot; visible=&quot;&#123;&#123;touchingEarth&#125;&#125;&quot;&gt;&lt;/xr-mesh&gt;</span><br><span class="line">    &lt;xr-mesh node-id=&quot;mesh-moon&quot; position=&quot;10 0 0&quot; scale=&quot;1.5 1.5 1.5&quot; rotation=&quot;0 90 0&quot; geometry=&quot;sphere&quot; material=&quot;moon-mat&quot; bind:drag-shape=&quot;handleDragMoon&quot; bind:touch-shape=&quot;handleTouchMoon&quot; bind:untouch-shape=&quot;handleUntouchMoon&quot; sphere-shape=&quot;radius: 1.5&quot; receive-shadow cast-shadow&gt;&lt;/xr-mesh&gt;</span><br><span class="line">    &lt;xr-mesh node-id=&quot;moon-silhouette&quot; scale=&quot;1.1 1.1 1.1&quot; geometry=&quot;sphere&quot; material=&quot;moon-silhouette&quot; visible=&quot;&#123;&#123;touchingMoon&#125;&#125;&quot;&gt;&lt;/xr-mesh&gt;</span><br><span class="line">    &lt;xr-camera</span><br><span class="line">      id=&quot;camera&quot; node-id=&quot;camera&quot; position=&quot;0 20 -35&quot; clear-color=&quot;0 0 0 1&quot;</span><br><span class="line">      target=&quot;mesh-earth&quot;</span><br><span class="line">      background=&quot;skybox&quot;</span><br><span class="line">    &gt;&lt;/xr-camera&gt;</span><br><span class="line">  &lt;/xr-node&gt;</span><br><span class="line">  &lt;xr-node node-id=&quot;lights&quot;&gt;</span><br><span class="line">    &lt;xr-light type=&quot;ambient&quot; color=&quot;1 1 1&quot; intensity=&quot;0.1&quot; /&gt;</span><br><span class="line">    &lt;xr-light id=&quot;directional-light&quot; type=&quot;directional&quot; rotation=&quot;0 60 0&quot; color=&quot;1 1 1&quot; intensity=&quot;5&quot;  shadow-distance=&quot;40&quot; cast-shadow shadow-bias=&quot;0.004&quot;/&gt;</span><br><span class="line">  &lt;/xr-node&gt;</span><br><span class="line">&lt;/xr-scene&gt;</span><br></pre></td></tr></table></figure></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line">Component(&#123;</span><br><span class="line">  behaviors: [require(&#x27;../common/share-behavior&#x27;).default],</span><br><span class="line">  properties: &#123;</span><br><span class="line">    a: Number,</span><br><span class="line">  &#125;,</span><br><span class="line">  data: &#123;</span><br><span class="line">    loaded: false,</span><br><span class="line">    touchingMoon: false,</span><br><span class="line">    touchingEarth: false,</span><br><span class="line">    Î¸: Math.PI,</span><br><span class="line">    r: 10,</span><br><span class="line">    Ï‰: 5e-4,</span><br><span class="line">    outerRing: 20,</span><br><span class="line">    innerRing: 10</span><br><span class="line">  &#125;,</span><br><span class="line">  lifetimes: &#123;&#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    handleReady(&#123;detail&#125;) &#123;</span><br><span class="line">      const xrScene = this.scene = detail.value;</span><br><span class="line">      console.log(&#x27;xr-scene&#x27;, xrScene);</span><br><span class="line">    &#125;,</span><br><span class="line">    handleAssetsProgress: function(&#123;detail&#125;) &#123;</span><br><span class="line">      console.log(&#x27;assets progress&#x27;, detail.value);</span><br><span class="line">    &#125;,</span><br><span class="line">    handleAssetsLoaded: function(&#123;detail&#125;) &#123;</span><br><span class="line">      console.log(&#x27;assets loaded&#x27;, detail.value);</span><br><span class="line">      this.setData(&#123;loaded: true&#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">    handleTouchEarth: function() &#123;</span><br><span class="line">      this.setData(&#123;</span><br><span class="line">        touchingEarth: true</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">    handleUntouchEarth: function() &#123;</span><br><span class="line">      this.setData(&#123;</span><br><span class="line">        touchingEarth: false</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">    handleEarthRotation: function(&#123;detail&#125;) &#123;</span><br><span class="line">        const &#123; target, deltaX &#125; = detail.value;</span><br><span class="line">        target._components.transform.rotation.y += deltaX / 100;</span><br><span class="line">    &#125;,</span><br><span class="line">    handleDragMoon: function(&#123;detail&#125;) &#123;</span><br><span class="line">        const &#123; dir, target, camera &#125; = detail.value;</span><br><span class="line">        const cameraPos = camera.el._components.transform.worldPosition;</span><br><span class="line">        const k = -cameraPos.y / dir[1];</span><br><span class="line">        const x = cameraPos.x + k * dir[0];</span><br><span class="line">        const z = cameraPos.z + k * dir[2];</span><br><span class="line">        const len = Math.sqrt(x * x + z * z);</span><br><span class="line">        if (len &gt; this.data.innerRing) &#123;</span><br><span class="line">            const transform = target._components.transform;</span><br><span class="line">            const scale = len &gt; this.data.outerRing ? this.data.outerRing / len : 1.0;</span><br><span class="line">            transform.position.x = x * scale;</span><br><span class="line">            transform.position.z = z * scale;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    handleTouchMoon: function() &#123;</span><br><span class="line">        this.setData(&#123;touchingMoon: true&#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">    handleUntouchMoon: function() &#123;</span><br><span class="line">        const moon = this.scene.getNodeById(&quot;mesh-moon&quot;);</span><br><span class="line">        const transform = moon.el._components.transform;</span><br><span class="line">        const x = transform.position.x;</span><br><span class="line">        const z = transform.position.z;</span><br><span class="line">        const len = Math.sqrt(x * x + z * z);</span><br><span class="line">        this.setData(&#123;</span><br><span class="line">            r: len,</span><br><span class="line">            Î¸: x &lt; 0 ? Math.atan(z / x) + Math.PI : Math.atan(z / x),</span><br><span class="line">            Ï‰: Math.sqrt(2.5e-4 / (len * len * len))</span><br><span class="line">        &#125;);</span><br><span class="line">        this.setData(&#123;touchingMoon: false&#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">    handleTick: function(&#123;detail&#125;) &#123;</span><br><span class="line">        if (this.data.touchingMoon || !this.scene) return;</span><br><span class="line">        const deltaTime = detail.value;</span><br><span class="line">        const moon = this.scene.getNodeById(&quot;mesh-moon&quot;);</span><br><span class="line">        const transform = moon.el._components.transform;</span><br><span class="line">        const x = Math.cos(this.data.Î¸) * this.data.r;</span><br><span class="line">        const z = Math.sin(this.data.Î¸) * this.data.r;</span><br><span class="line">        transform.position.x = x;</span><br><span class="line">        transform.position.z = z;</span><br><span class="line">        transform.rotation.y -= this.data.Ï‰ * deltaTime;</span><br><span class="line">        this.setData(&#123;</span><br><span class="line">            Î¸: this.data.Î¸ + this.data.Ï‰ * deltaTime</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h5 id="2-1-åœ°çƒæ¨¡å—"><a href="#2-1-åœ°çƒæ¨¡å—" class="headerlink" title="2.1 åœ°çƒæ¨¡å—"></a>2.1 åœ°çƒæ¨¡å—</h5><h6 id="2-1-1-åœ°çƒ-åŠ è½½èµ„æº"><a href="#2-1-1-åœ°çƒ-åŠ è½½èµ„æº" class="headerlink" title="2.1.1 åœ°çƒ - åŠ è½½èµ„æº"></a>2.1.1 åœ°çƒ - åŠ è½½èµ„æº</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;xr-asset-load type=&quot;texture&quot; asset-id=&quot;earth-texture&quot; src=&quot;https://mmbizwxaminiprogram-1258344707.cos.ap-guangzhou.myqcloud.com/xr-frame/demo/2k_earth_daymap.jpeg&quot; /&gt;</span><br><span class="line">&lt;xr-asset-material asset-id=&quot;earth-mat&quot; effect=&quot;standard&quot; uniforms=&quot;u_baseColorMap: earth-texture&quot; render-queue=&quot;501&quot;/&gt;</span><br><span class="line">&lt;xr-asset-material asset-id=&quot;earth-silhouette&quot; effect=&quot;simple&quot; uniforms=&quot;u_baseColorFactor: 1.0 0.5 0 1.0&quot; states=&quot;depthTestWrite: false&quot; render-queue=&quot;500&quot;/&gt;</span><br></pre></td></tr></table></figure><p>&emsp;&emsp;é¦–å…ˆå»åŠ è½½å›¾ç‰‡ï¼Œå‘½å asset-id ä¸º earth-textureï¼›ä¹‹ååŠ è½½äº†ä¸¤ç§æè´¨ï¼Œæè´¨ earth-mat ç”¨äºç”Ÿæˆåœ°çƒç½‘æ ¼ï¼Œé€šè¿‡ uniforms ç»‘å®šäº†åˆšåˆšåŠ è½½çš„å›¾ç‰‡ earth-textureï¼Œæè´¨ earth-silhouette ç”¨äºç”Ÿæˆç‚¹å‡»åœ°çƒæ—¶å‡ºç°çš„è½®å»“çš„ç½‘æ ¼ã€‚</p><h6 id="2-1-2-åœ°çƒ-ç”Ÿæˆç½‘æ ¼"><a href="#2-1-2-åœ°çƒ-ç”Ÿæˆç½‘æ ¼" class="headerlink" title="2.1.2 åœ°çƒ - ç”Ÿæˆç½‘æ ¼"></a>2.1.2 åœ°çƒ - ç”Ÿæˆç½‘æ ¼</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;xr-mesh node-id=&quot;mesh-earth&quot; position=&quot;0 0 0&quot; scale=&quot;8 8 8&quot; geometry=&quot;sphere&quot; material=&quot;earth-mat&quot; bind:touch-shape=&quot;handleTouchEarth&quot; bind:untouch-shape=&quot;handleUntouchEarth&quot; bind:drag-shape=&quot;handleEarthRotation&quot; sphere-shape receive-shadow cast-shadow&gt;&lt;/xr-mesh&gt;</span><br><span class="line">&lt;xr-mesh node-id=&quot;earth-silhouette&quot; scale=&quot;8.15 8.15 8.15&quot; geometry=&quot;sphere&quot; material=&quot;earth-silhouette&quot; visible=&quot;&#123;&#123;touchingEarth&#125;&#125;&quot;&gt;&lt;/xr-mesh&gt;</span><br></pre></td></tr></table></figure><p>&emsp;&emsp;é€šè¿‡ material ç»‘å®šä¸åŒçš„æè´¨ï¼Œç”Ÿæˆäº†åœ°çƒç½‘æ ¼å’Œè½®å»“ç½‘æ ¼ã€‚</p><h6 id="2-1-3-åœ°çƒ-äº‹ä»¶è§£æ"><a href="#2-1-3-åœ°çƒ-äº‹ä»¶è§£æ" class="headerlink" title="2.1.3 åœ°çƒ - äº‹ä»¶è§£æ"></a>2.1.3 åœ°çƒ - äº‹ä»¶è§£æ</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">handleTouchEarth: function() &#123;</span><br><span class="line">  this.setData(&#123;</span><br><span class="line">    touchingEarth: true</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;,</span><br><span class="line">handleUntouchEarth: function() &#123;</span><br><span class="line">  this.setData(&#123;</span><br><span class="line">    touchingEarth: false</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;,</span><br><span class="line">handleEarthRotation: function(&#123;detail&#125;) &#123;</span><br><span class="line">    const &#123; target, deltaX &#125; = detail.value;</span><br><span class="line">    target._components.transform.rotation.y += deltaX / 100;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><p>&emsp;&emsp;åœ°çƒç½‘æ ¼ä¸Šç»‘å®šäº†ä¸‰ä¸ªäº‹ä»¶å¤„ç†å‡½æ•°ï¼š<br>&emsp;&emsp;é€šè¿‡æ‰‹æŒ‡çš„è§¦æ‘¸ä¸æ¾å¼€åœ°çƒç½‘æ ¼ï¼Œè§¦å‘çš„äº‹ä»¶å‡½æ•° handleTouchEarth å’Œäº‹ä»¶å‡½æ•° handleUntouchEarthï¼Œå¯ä»¥æ”¹å˜è½®å»“ç½‘æ ¼ä¸Šç»‘å®šçš„ touchingEarth çš„å€¼ï¼Œæ¥æ§åˆ¶è½®å»“ç½‘æ ¼çš„ç°å®ä¸éšè—ã€‚<br>&emsp;&emsp;é€šè¿‡æ‰‹æŒ‡å¯¹åœ°çƒç½‘æ ¼çš„æ‹–æ‹½ï¼Œè§¦å‘çš„äº‹ä»¶å‡½æ•° handleEarthRotationï¼Œå¯ä»¥æ”¹å˜åœ°çƒçš„è§’åº¦ã€‚å…¶ä¸­ target å¯ä»¥è·å–åˆ°åœ°çƒç½‘æ ¼ï¼ŒdeltaX ä¸ºç”¨æˆ·æ‰‹æŒ‡åœ¨å±å¹•ä¸Šåˆ’è¿‡çš„è·ç¦»ï¼ŒæŒ‰ç…§ä¸€å®šçš„æ¯”ä¾‹ï¼Œé€šè¿‡ deltaX æ¥æ”¹å˜åœ°çƒç½‘æ ¼çš„ transform.rotation.yï¼Œä½¿å¾—åœ°çƒç½‘æ ¼æ—‹è½¬èµ·æ¥ã€‚</p><h5 id="2-2-æœˆçƒæ¨¡å—"><a href="#2-2-æœˆçƒæ¨¡å—" class="headerlink" title="2.2 æœˆçƒæ¨¡å—"></a>2.2 æœˆçƒæ¨¡å—</h5><h6 id="2-2-1-æœˆçƒ-åŠ è½½èµ„æº"><a href="#2-2-1-æœˆçƒ-åŠ è½½èµ„æº" class="headerlink" title="2.2.1 æœˆçƒ - åŠ è½½èµ„æº"></a>2.2.1 æœˆçƒ - åŠ è½½èµ„æº</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;xr-asset-load type=&quot;texture&quot; asset-id=&quot;moon-texture&quot; src=&quot;https://mmbizwxaminiprogram-1258344707.cos.ap-guangzhou.myqcloud.com/xr-frame/demo/2k_moon.jpeg&quot; /&gt;</span><br><span class="line">&lt;xr-asset-material asset-id=&quot;moon-mat&quot; effect=&quot;standard&quot; uniforms=&quot;u_baseColorMap: moon-texture&quot; render-queue=&quot;503&quot;/&gt;</span><br><span class="line">&lt;xr-asset-material asset-id=&quot;moon-silhouette&quot; effect=&quot;simple&quot; uniforms=&quot;u_baseColorFactor: 0.476 0.82 0.957 1.0&quot; states=&quot;depthTestWrite: false&quot; render-queue=&quot;502&quot;/&gt;</span><br></pre></td></tr></table></figure><p>&emsp;&emsp;åŒæ ·çš„æ–¹æ³•åŠ è½½èµ„æºï¼Œç”Ÿæˆæœˆçƒç½‘æ ¼å’Œç‚¹å‡»æ—¶å‡ºç°çš„è½®å»“çš„ç½‘æ ¼ã€‚</p><h6 id="2-2-2-æœˆçƒ-ç”Ÿæˆç½‘æ ¼"><a href="#2-2-2-æœˆçƒ-ç”Ÿæˆç½‘æ ¼" class="headerlink" title="2.2.2 æœˆçƒ - ç”Ÿæˆç½‘æ ¼"></a>2.2.2 æœˆçƒ - ç”Ÿæˆç½‘æ ¼</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;xr-mesh node-id=&quot;mesh-moon&quot; position=&quot;10 0 0&quot; scale=&quot;1.5 1.5 1.5&quot; rotation=&quot;0 90 0&quot; geometry=&quot;sphere&quot; material=&quot;moon-mat&quot; bind:drag-shape=&quot;handleDragMoon&quot; bind:touch-shape=&quot;handleTouchMoon&quot; bind:untouch-shape=&quot;handleUntouchMoon&quot; sphere-shape=&quot;radius: 1.5&quot; receive-shadow cast-shadow&gt;&lt;/xr-mesh&gt;</span><br><span class="line">&lt;xr-mesh node-id=&quot;moon-silhouette&quot; scale=&quot;1.1 1.1 1.1&quot; geometry=&quot;sphere&quot; material=&quot;moon-silhouette&quot; visible=&quot;&#123;&#123;touchingMoon&#125;&#125;&quot;&gt;&lt;/xr-mesh&gt;</span><br></pre></td></tr></table></figure><h6 id="2-2-3-æœˆçƒ-äº‹ä»¶è§£æ"><a href="#2-2-3-æœˆçƒ-äº‹ä»¶è§£æ" class="headerlink" title="2.2.3 æœˆçƒ - äº‹ä»¶è§£æ"></a>2.2.3 æœˆçƒ - äº‹ä»¶è§£æ</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">handleDragMoon: function(&#123;detail&#125;) &#123;</span><br><span class="line">    const &#123; dir, target, camera &#125; = detail.value;</span><br><span class="line">    const cameraPos = camera.el._components.transform.worldPosition;</span><br><span class="line">    const k = -cameraPos.y / dir[1];</span><br><span class="line">    const x = cameraPos.x + k * dir[0];</span><br><span class="line">    const z = cameraPos.z + k * dir[2];</span><br><span class="line">    const len = Math.sqrt(x * x + z * z);</span><br><span class="line">    if (len &gt; this.data.innerRing) &#123;</span><br><span class="line">        const transform = target._components.transform;</span><br><span class="line">        const scale = len &gt; this.data.outerRing ? this.data.outerRing / len : 1.0;</span><br><span class="line">        transform.position.x = x * scale;</span><br><span class="line">        transform.position.z = z * scale;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br><span class="line">handleTouchMoon: function() &#123;</span><br><span class="line">    this.setData(&#123;touchingMoon: true&#125;);</span><br><span class="line">&#125;,</span><br><span class="line">handleUntouchMoon: function() &#123;</span><br><span class="line">    const moon = this.scene.getNodeById(&quot;mesh-moon&quot;);</span><br><span class="line">    const transform = moon.el._components.transform;</span><br><span class="line">    const x = transform.position.x;</span><br><span class="line">    const z = transform.position.z;</span><br><span class="line">    const len = Math.sqrt(x * x + z * z);</span><br><span class="line">    this.setData(&#123;</span><br><span class="line">        r: len,</span><br><span class="line">        Î¸: x &lt; 0 ? Math.atan(z / x) + Math.PI : Math.atan(z / x),</span><br><span class="line">        Ï‰: Math.sqrt(2.5e-4 / (len * len * len))</span><br><span class="line">    &#125;);</span><br><span class="line">    this.setData(&#123;touchingMoon: false&#125;);</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><p>&emsp;&emsp;æœˆçƒç½‘æ ¼ä¸Šç»‘å®šäº†ä¸‰ä¸ªäº‹ä»¶å¤„ç†å‡½æ•°ï¼š<br>&emsp;&emsp;é€šè¿‡æ‰‹æŒ‡çš„è§¦æ‘¸ä¸æ¾å¼€æœˆçƒç½‘æ ¼ï¼Œè§¦å‘çš„äº‹ä»¶å‡½æ•° handleTouchMoon å’Œäº‹ä»¶å‡½æ•° handleUntouchMoonï¼Œå¯ä»¥æ”¹å˜è½®å»“ç½‘æ ¼ä¸Šç»‘å®šçš„ touchingMoon çš„å€¼ï¼Œæ¥æ§åˆ¶è½®å»“ç½‘æ ¼çš„ç°å®ä¸éšè—ã€‚å½“ç„¶ï¼Œå› ä¸ºæœˆçƒç½‘æ ¼è¦å›´ç»•åœ°çƒå…¬è½¬ï¼Œæ‰€ä»¥åœ¨æ¾å¼€æ‰‹æŒ‡æ—¶ï¼Œè¦æ›´æ–°æœˆçƒåˆ°åœ°çƒçš„è·ç¦» rã€æœˆçƒå…¬è½¬æ—¶æ‰€éœ€è¦çš„è§’åº¦ Î¸ã€å…¬è½¬çš„è§’é€Ÿåº¦ Ï‰ï¼Œå…¶ä¸­<code>Ï‰: Math.sqrt(2.5e-4 / (len * len * len))</code>ä¸ºå¤©ä½“è¿åŠ¨çš„åŸºæœ¬å…¬å¼ï¼Œ</p><script type="math/tex; mode=display">ma=mÏ‰^2r=F=\frac{GMm}{r}^2</script><p>&emsp;&emsp;é€šè¿‡æ‰‹æŒ‡å¯¹æœˆçƒç½‘æ ¼çš„æ‹–æ‹½ï¼Œè§¦å‘çš„äº‹ä»¶å‡½æ•° handleDragMoonï¼Œå¯ä»¥æ”¹å˜æœˆçƒåˆ°åœ°çƒçš„è·ç¦»ã€‚å…·ä½“çš„è®¡ç®—æ–¹æ³•å¦‚ä¸‹ï¼š<br>&emsp;&emsp;dir æ˜¯ç”±ç›¸æœºå‘åœ°çƒå’Œæœˆçƒæ‰€åœ¨çš„ä¸‰ç»´ä¸–ç•Œå‘å°„å‡ºçš„ä¸€æ¡å°„çº¿çš„å•ä½å‘é‡ï¼Œé€šè¿‡æ‰‹æŒ‡åœ¨å±å¹•ä¸Šçš„æ»‘åŠ¨å¯ä»¥æ”¹å˜å°„çº¿çš„æ–¹å‘ï¼Œè¯¥å°„çº¿ä¸å¹³é¢ $y=0$ çš„äº¤ç‚¹ï¼Œå³ä¸ºæœˆçƒç½‘æ ¼çš„æ‰€åœ¨ä½ç½®ï¼ˆåœ¨ä¸å—åˆ°æœ€å¤§ã€æœ€å°è·ç¦»é™åˆ¶æ—¶ï¼‰ï¼›cameraPos æ˜¯ç›¸æœºçš„æ‰€åœ¨çš„åæ ‡ï¼Œå³å°„çº¿ä¸Šçš„ä¸€ä¸ªç‚¹ï¼›æœ‰äº†ç›´çº¿çš„å‘é‡å’Œä¸€ä¸ªç‚¹ï¼Œå¯çŸ¥ç›´çº¿æ–¹ç¨‹ä¸º:</p><script type="math/tex; mode=display">\frac{x-cameraPos.x}{dir[0]} = \frac{y-cameraPos.y}{dir[1]} = \frac{z-cameraPos.z}{dir[2]}</script><p>&emsp;&emsp;å‡è®¾è¯¥ç›´çº¿ä¸å¹³é¢ $y=0$ çš„äº¤ç‚¹ä¸º $(x_{0}, 0, z_{0})$ï¼Œé‚£ä¹ˆå¯çŸ¥ï¼š</p><script type="math/tex; mode=display">x_{0} = - \frac{cameraPos.y}{dir[1]} dir[0]+cameraPos.x</script><script type="math/tex; mode=display">z_{0} = - \frac{cameraPos.y}{dir[1]} dir[2]+cameraPos.z</script><p>&emsp;&emsp;å³ä¸ä»£ç ä¸­çš„ x ä¸ z å¯¹åº”ï¼Œå†è®¡ç®—å‡ºä¸åœ°çƒçš„è·ç¦» lenã€‚å½“ len å°äº this.data.innerRingï¼Œæ‰‹æŒ‡çš„æ‹–åŠ¨æ˜¯ä¸ä¼šæ”¹å˜æœˆçƒçš„ä½ç½®çš„ï¼›å½“ len å¤§äº this.data.innerRing æ—¶ï¼Œå°†åˆšåˆšè®¡ç®—å‡ºçš„ x ä¸ z èµ‹å€¼ç»™æœˆçƒç½‘æ ¼çš„ transformï¼Œæ¥æ”¹å˜æœˆçƒç½‘æ ¼çš„åæ ‡ï¼›ä½†å½“ len å¤§äº this.data.outerRing æ—¶ï¼ŒæŒ‰ç…§ä¸€å®šçš„æ¯”ä¾‹ scaleï¼Œå»æ”¹å˜æœˆçƒçš„ transformã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">handleTick: function(&#123;detail&#125;) &#123;</span><br><span class="line">  if (this.data.touchingMoon || !this.scene) return;</span><br><span class="line">  const deltaTime = detail.value;</span><br><span class="line">  const moon = this.scene.getNodeById(&quot;mesh-moon&quot;);</span><br><span class="line">  const transform = moon.el._components.transform;</span><br><span class="line">  const x = Math.cos(this.data.Î¸) * this.data.r;</span><br><span class="line">  const z = Math.sin(this.data.Î¸) * this.data.r;</span><br><span class="line">  transform.position.x = x;</span><br><span class="line">  transform.position.z = z;</span><br><span class="line">  transform.rotation.y -= this.data.Ï‰ * deltaTime;</span><br><span class="line">  this.setData(&#123;</span><br><span class="line">    Î¸: this.data.Î¸ + this.data.Ï‰ * deltaTime</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&emsp;&emsp;æœ€åçš„å‡½æ•° handleTick ç»‘å®šç»™äº† xr-sceneï¼Œæ¥å®ç°æœˆçƒå…¬è½¬å’Œè§¦ç¢°æœˆçƒæ—¶åœæ­¢å…¬è½¬çš„æ“ä½œã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h4 id=&quot;1-é¡¹ç›®åœ°å€&quot;&gt;&lt;a href=&quot;#1-é¡¹ç›®åœ°å€&quot; class=&quot;headerlink&quot; title=&quot;1 é¡¹ç›®åœ°å€&quot;&gt;&lt;/a&gt;1 é¡¹ç›®åœ°å€&lt;/h4&gt;&lt;p&gt;å®˜æ–¹é¡¹ç›®åœ°å€ï¼š&lt;a class=&quot;link&quot;   href=&quot;https://github.com/dtys</summary>
      
    
    
    
    <category term="å¾®ä¿¡å°ç¨‹åº" scheme="http://example.com/categories/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/"/>
    
    <category term="xr-frame" scheme="http://example.com/categories/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/xr-frame/"/>
    
    
    <category term="å¾®ä¿¡å°ç¨‹åº" scheme="http://example.com/tags/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/"/>
    
    <category term="xr-frame" scheme="http://example.com/tags/xr-frame/"/>
    
  </entry>
  
  <entry>
    <title>Vant ç»„ä»¶ - ActionSheet åŠ¨ä½œé¢æ¿</title>
    <link href="http://example.com/2023/12/14/vant%E7%BB%84%E4%BB%B6-ActionSheet%E5%8A%A8%E4%BD%9C%E9%9D%A2%E6%9D%BF/"/>
    <id>http://example.com/2023/12/14/vant%E7%BB%84%E4%BB%B6-ActionSheet%E5%8A%A8%E4%BD%9C%E9%9D%A2%E6%9D%BF/</id>
    <published>2023-12-14T03:43:42.000Z</published>
    <updated>2023-12-15T06:02:20.611Z</updated>
    
    <content type="html"><![CDATA[<h5 id="1-æ³¨å†Œå®‰è£…"><a href="#1-æ³¨å†Œå®‰è£…" class="headerlink" title="1 æ³¨å†Œå®‰è£…"></a>1 æ³¨å†Œå®‰è£…</h5><p>å®˜ç½‘ï¼š<a class="link"   href="https://vant-contrib.gitee.io/vant/v2/#/zh-CN/action-sheet" >https://vant-contrib.gitee.io/vant/v2/#/zh-CN/action-sheet<i class="fas fa-external-link-alt"></i></a></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">ActionSheet</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;vant&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">ActionSheet</span>)</span><br></pre></td></tr></table></figure><h5 id="2-ä½¿ç”¨æ–¹å¼"><a href="#2-ä½¿ç”¨æ–¹å¼" class="headerlink" title="2 ä½¿ç”¨æ–¹å¼"></a>2 ä½¿ç”¨æ–¹å¼</h5><p>åŠ¨ä½œé¢æ¿é€šè¿‡ actions å±æ€§æ¥å®šä¹‰é€‰é¡¹ï¼Œactions å±æ€§æ˜¯ä¸€ä¸ªç”±å¯¹è±¡æ„æˆçš„æ•°ç»„ï¼Œæ•°ç»„ä¸­çš„æ¯ä¸ªå¯¹è±¡é…ç½®ä¸€åˆ—ï¼Œå¯¹è±¡æ ¼å¼è§æ–‡æ¡£ä¸‹æ–¹è¡¨æ ¼ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;van-cell is-link title=<span class="string">&quot;åŸºç¡€ç”¨æ³•&quot;</span> @click=<span class="string">&quot;show = true&quot;</span> /&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">van-action-sheet</span> <span class="attr">v-model</span>=<span class="string">&quot;show&quot;</span> <span class="attr">:actions</span>=<span class="string">&quot;actions&quot;</span> @<span class="attr">select</span>=<span class="string">&quot;onSelect&quot;</span> /&gt;</span></span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Toast</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;vant&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">show</span>: <span class="literal">false</span>,</span><br><span class="line">      <span class="attr">actions</span>: [&#123; <span class="attr">name</span>: <span class="string">&#x27;é€‰é¡¹ä¸€&#x27;</span> &#125;, &#123; <span class="attr">name</span>: <span class="string">&#x27;é€‰é¡¹äºŒ&#x27;</span> &#125;, &#123; <span class="attr">name</span>: <span class="string">&#x27;é€‰é¡¹ä¸‰&#x27;</span> &#125;],</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">methods</span>: &#123;</span><br><span class="line">    <span class="title function_">onSelect</span>(<span class="params">item</span>) &#123;</span><br><span class="line">      <span class="comment">// é»˜è®¤æƒ…å†µä¸‹ç‚¹å‡»é€‰é¡¹æ—¶ä¸ä¼šè‡ªåŠ¨æ”¶èµ·</span></span><br><span class="line">      <span class="comment">// å¯ä»¥é€šè¿‡ close-on-click-action å±æ€§å¼€å¯è‡ªåŠ¨æ”¶èµ·</span></span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">show</span> = <span class="literal">false</span>;</span><br><span class="line">      <span class="title class_">Toast</span>(item.<span class="property">name</span>);</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h5 id=&quot;1-æ³¨å†Œå®‰è£…&quot;&gt;&lt;a href=&quot;#1-æ³¨å†Œå®‰è£…&quot; class=&quot;headerlink&quot; title=&quot;1 æ³¨å†Œå®‰è£…&quot;&gt;&lt;/a&gt;1 æ³¨å†Œå®‰è£…&lt;/h5&gt;&lt;p&gt;å®˜ç½‘ï¼š&lt;a class=&quot;link&quot;   href=&quot;https://vant-contrib.gitee.</summary>
      
    
    
    
    <category term="Vue2" scheme="http://example.com/categories/Vue2/"/>
    
    <category term="Vant ç»„ä»¶åº“" scheme="http://example.com/categories/Vue2/Vant-%E7%BB%84%E4%BB%B6%E5%BA%93/"/>
    
    
    <category term="Vue2" scheme="http://example.com/tags/Vue2/"/>
    
    <category term="Vant ç»„ä»¶åº“" scheme="http://example.com/tags/Vant-%E7%BB%84%E4%BB%B6%E5%BA%93/"/>
    
  </entry>
  
  <entry>
    <title>XR-FRAME - åŸºç¡€èƒ½åŠ› - Videoè§†é¢‘çº¹ç†</title>
    <link href="http://example.com/2023/12/13/XR-FRAME-%E5%9F%BA%E7%A1%80%E8%83%BD%E5%8A%9B-Video%E8%A7%86%E9%A2%91%E7%BA%B9%E7%90%86/"/>
    <id>http://example.com/2023/12/13/XR-FRAME-%E5%9F%BA%E7%A1%80%E8%83%BD%E5%8A%9B-Video%E8%A7%86%E9%A2%91%E7%BA%B9%E7%90%86/</id>
    <published>2023-12-13T08:10:15.000Z</published>
    <updated>2023-12-14T06:55:35.054Z</updated>
    
    <content type="html"><![CDATA[<h5 id="1-é¡¹ç›®åœ°å€"><a href="#1-é¡¹ç›®åœ°å€" class="headerlink" title="1 é¡¹ç›®åœ°å€"></a>1 é¡¹ç›®åœ°å€</h5><p>å®˜æ–¹é¡¹ç›®åœ°å€ï¼š<a class="link"   href="https://github.com/dtysky/xr-frame-demo/tree/master/miniprogram/components/xr-basic-video" >https://github.com/dtysky/xr-frame-demo/tree/master/miniprogram/components/xr-basic-video<i class="fas fa-external-link-alt"></i></a></p><h5 id="2-ä»£ç è§£æ"><a href="#2-ä»£ç è§£æ" class="headerlink" title="2 ä»£ç è§£æ"></a>2 ä»£ç è§£æ</h5><p>ä¸»è¦ä»£ç ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">&lt;xr-scene id=&quot;xr-scene&quot; bind:ready=&quot;handleReady&quot;&gt;</span><br><span class="line">  &lt;xr-assets bind:progress=&quot;handleAssetsProgress&quot; bind:loaded=&quot;handleAssetsLoaded&quot;&gt;</span><br><span class="line">    &lt;xr-asset-load</span><br><span class="line">      type=&quot;video-texture&quot; asset-id=&quot;cat&quot;</span><br><span class="line">      src=&quot;https://mmbizwxaminiprogram-1258344707.cos.ap-guangzhou.myqcloud.com/xr-frame/demo/videos/cat.mp4&quot; options=&quot;autoPlay:true,loop:true,abortAudio:false,placeHolder:https://mmbizwxaminiprogram-1258344707.cos.ap-guangzhou.myqcloud.com/xr-frame/demo/videos/cat.jpg&quot;</span><br><span class="line">    /&gt;</span><br><span class="line">    &lt;xr-asset-load</span><br><span class="line">      type=&quot;video-texture&quot; asset-id=&quot;skybox&quot;</span><br><span class="line">      src=&quot;https://mmbizwxaminiprogram-1258344707.cos.ap-guangzhou.myqcloud.com/xr-frame/demo/videos/office-skybox.mp4&quot; options=&quot;autoPlay:true,loop:true,placeHolder:https://mmbizwxaminiprogram-1258344707.cos.ap-guangzhou.myqcloud.com/xr-frame/demo/videos/office-skybox.jpg&quot;</span><br><span class="line">    /&gt;</span><br><span class="line">    &lt;xr-asset-material asset-id=&quot;standard-mat&quot; effect=&quot;standard&quot; /&gt;</span><br><span class="line">  &lt;/xr-assets&gt;</span><br><span class="line">  &lt;xr-env sky-map=&quot;video-skybox&quot; /&gt;</span><br><span class="line">  &lt;xr-node&gt;</span><br><span class="line">    &lt;xr-node node-id=&quot;target&quot; /&gt;</span><br><span class="line">    &lt;xr-mesh</span><br><span class="line">      node-id=&quot;mesh-cube&quot; scale=&quot;1.6 0.9 0.9&quot;</span><br><span class="line">      geometry=&quot;cube&quot; material=&quot;standard-mat&quot;</span><br><span class="line">      uniforms=&quot;u_baseColorMap:video-cat&quot;</span><br><span class="line">      cube-shape=&quot;autoFit:true&quot;</span><br><span class="line">      bind:touch-shape=&quot;handleTouchCube&quot;</span><br><span class="line">    /&gt;</span><br><span class="line">    &lt;xr-camera</span><br><span class="line">      id=&quot;camera&quot; node-id=&quot;camera&quot; position=&quot;0 0 3&quot; clear-color=&quot;0.925 0.925 0.925 1&quot;</span><br><span class="line">      target=&quot;target&quot; background=&quot;skybox&quot; camera-orbit-control=&quot;&quot;</span><br><span class="line">    &gt;&lt;/xr-camera&gt;</span><br><span class="line">  &lt;/xr-node&gt;</span><br><span class="line">  &lt;xr-node node-id=&quot;lights&quot;&gt;</span><br><span class="line">    &lt;xr-light type=&quot;ambient&quot; color=&quot;1 1 1&quot; intensity=&quot;1&quot; /&gt;</span><br><span class="line">    &lt;xr-light type=&quot;directional&quot; rotation=&quot;40 0 0&quot; color=&quot;1 1 1&quot; intensity=&quot;3&quot;/&gt;</span><br><span class="line">  &lt;/xr-node&gt;</span><br><span class="line">&lt;/xr-scene&gt;</span><br></pre></td></tr></table></figure><h6 id="2-1-é€šè¿‡åŠ è½½å™¨åˆ›å»º"><a href="#2-1-é€šè¿‡åŠ è½½å™¨åˆ›å»º" class="headerlink" title="2.1 é€šè¿‡åŠ è½½å™¨åˆ›å»º"></a>2.1 é€šè¿‡åŠ è½½å™¨åˆ›å»º</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;xr-asset-load</span><br><span class="line">  type=&quot;video-texture&quot; asset-id=&quot;cat&quot;</span><br><span class="line">  src=&quot;https://mmbizwxaminiprogram-1258344707.cos.ap-guangzhou.myqcloud.com/xr-frame/demo/videos/cat.mp4&quot; </span><br><span class="line">  options=&quot;autoPlay:true,loop:true,abortAudio:false,placeHolder:https://mmbizwxaminiprogram-1258344707.cos.ap-guangzhou.myqcloud.com/xr-frame/demo/videos/cat.jpg&quot;</span><br><span class="line">/&gt;</span><br><span class="line"></span><br><span class="line">// æˆ–è€…ä½¿ç”¨ä»£ç åŠ è½½è§†é¢‘</span><br><span class="line">scene.assets.loadAsset(&#123;</span><br><span class="line">  type: &#x27;video-texture&#x27;, assetId: &#x27;vt&#x27;, src: &#x27;/assets/video.mp4&#x27;,</span><br><span class="line">  options: &#123;autoPlay: true&#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>&emsp;&emsp;æ³¨æ„åˆ°è§†é¢‘çº¹ç†çš„å‡ ä¸ªé€‰é¡¹ï¼ŒautoPlay å¼€å¯åè§†é¢‘åŠ è½½æˆåŠŸæ—¶ä¼šè‡ªåŠ¨æ’­æ”¾ï¼Œloop å¼€å¯æ—¶ä¼šå¾ªç¯æ’­æ”¾ï¼ŒabortAudio ç”¨äºæŒ‡å®šæ˜¯å¦è¦ç¦æ­¢å£°éŸ³ï¼ˆé»˜è®¤ç¦æ­¢ï¼‰ï¼ŒplaceHolder åˆ™æ˜¯ä½œä¸ºè§†é¢‘å°šæœªåŠ è½½æˆåŠŸæ—¶çš„ä¸€ä¸ªå ä½å›¾ï¼Œå¯é€‰ã€‚ç‰¹åˆ«æ³¨æ„ï¼ŒplaceHolder çš„å°ºå¯¸å¿…é¡»å’Œè§†é¢‘å®Œå…¨ä¸€è‡´ï¼ï¼ï¼</p><h6 id="2-2-ä»£ç åˆ›å»º"><a href="#2-2-ä»£ç åˆ›å»º" class="headerlink" title="2.2 ä»£ç åˆ›å»º"></a>2.2 ä»£ç åˆ›å»º</h6><p>&emsp;&emsp;è§†é¢‘çº¹ç†ä¹Ÿå¯ä»¥æ‰‹åŠ¨åœ¨ä»£ç ä¸­åˆ›å»ºã€‚æ³¨æ„è¿™æ˜¯ä¸ªå¼‚æ­¥æ–¹æ³•ï¼Œåœ¨æœ‰placeHolderæ—¶ä¼šåœ¨å›¾ç‰‡åŠ è½½å®Œæ¯•æ—¶è¿”å›ï¼Œå¦åˆ™å°†åœ¨è§†é¢‘å‡†å¤‡å¥½æ—¶è¿”å›ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">const vt = await createVideoTexture(&#123;src, autoPlay, loop, placeHolder&#125;);</span><br></pre></td></tr></table></figure><p>&emsp;&emsp;å¯¹è§†é¢‘åŠ ä»¥æ§åˆ¶ã€‚æ³¨æ„ï¼Œå¦‚æœæ˜¯è‡ªå·±åˆ›å»ºçš„è§†é¢‘èµ„æºï¼Œè¯·åŠ¡å¿…è‡ªå·±è°ƒç”¨releaseæ–¹æ³•é‡Šæ”¾ï¼ï¼</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">// å¼€å§‹æ’­æ”¾ï¼Œå¼‚æ­¥æ–¹æ³•</span><br><span class="line">await vt.play();</span><br><span class="line"></span><br><span class="line">// ä»`pos`ç§’å¼€å§‹æ’­æ”¾ï¼Œå¼‚æ­¥æ–¹æ³•</span><br><span class="line">await vt.seek(pos);</span><br><span class="line"></span><br><span class="line">// åœæ­¢æ’­æ”¾</span><br><span class="line">vt.stop();</span><br><span class="line"></span><br><span class="line">// é‡Šæ”¾è§†é¢‘</span><br><span class="line">vt.release();</span><br><span class="line"></span><br><span class="line">// åœ¨æ’­æ”¾ç»“æŸå¹¶ä¸”éloopçš„æƒ…å†µä¸‹ï¼Œä¼šæ‰§è¡Œ</span><br><span class="line">vt.onEnd = () =&gt; &#123;&#125;;</span><br><span class="line"></span><br><span class="line">// åœ¨åŸºç¡€åº“`v2.33.0`åŠä»¥ä¸Šï¼Œæä¾›äº†æš‚åœ/å”¤é†’æ–¹æ³•</span><br><span class="line">// åŒæ—¶å¯ä»¥é…åˆæ–°æš´éœ²çš„æ’­æ”¾çŠ¶æ€ä½¿ç”¨</span><br><span class="line">const xrSystem = wx.getXrFrameSystem();</span><br><span class="line">if (vt.state === xrSystem.EVideoState.Playing) &#123;</span><br><span class="line">  vt.pause();</span><br><span class="line">&#125; else if (vt.state === xrSystem.EVideoState.Paused) &#123;</span><br><span class="line">  vt.resume();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&emsp;&emsp;æ·»åŠ åˆ°èµ„æºç³»ç»Ÿä¸­ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">const vt = await createVideoTexture(&#123;src, autoPlay, loop, placeHolder&#125;);</span><br><span class="line"></span><br><span class="line">// å½“ç„¶ï¼Œä¹Ÿå¯ä»¥æ·»åŠ åˆ°èµ„æºç³»ç»Ÿä¸­</span><br><span class="line">scene.assets.addAsset(&#x27;video-texture&#x27;, &#x27;vt&#x27;, vt);</span><br></pre></td></tr></table></figure><h6 id="2-3-åœ¨-mesh-ä¸ŠæŒ‚è½½è§†é¢‘"><a href="#2-3-åœ¨-mesh-ä¸ŠæŒ‚è½½è§†é¢‘" class="headerlink" title="2.3 åœ¨ mesh ä¸ŠæŒ‚è½½è§†é¢‘"></a>2.3 åœ¨ mesh ä¸ŠæŒ‚è½½è§†é¢‘</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;xr-mesh</span><br><span class="line">  node-id=&quot;mesh-cube&quot; scale=&quot;1.6 0.9 0.9&quot;</span><br><span class="line">  geometry=&quot;cube&quot; material=&quot;standard-mat&quot;</span><br><span class="line">  uniforms=&quot;u_baseColorMap:video-cat&quot;</span><br><span class="line">  cube-shape=&quot;autoFit:true&quot;</span><br><span class="line">  bind:touch-shape=&quot;handleTouchCube&quot;</span><br><span class="line">/&gt;</span><br></pre></td></tr></table></figure><p>&emsp;&emsp;å…¶ä¸­ uniforms é‡Œç»‘å®šäº†ç›¸åº”çš„ asset-idã€‚</p><h6 id="2-4-åœ¨-env-ä¸ŠæŒ‚è½½è§†é¢‘"><a href="#2-4-åœ¨-env-ä¸ŠæŒ‚è½½è§†é¢‘" class="headerlink" title="2.4 åœ¨ env ä¸ŠæŒ‚è½½è§†é¢‘"></a>2.4 åœ¨ env ä¸ŠæŒ‚è½½è§†é¢‘</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;xr-env sky-map=&quot;video-skybox&quot; /&gt;</span><br><span class="line"></span><br><span class="line">&lt;xr-camera</span><br><span class="line">  id=&quot;camera&quot; node-id=&quot;camera&quot; position=&quot;0 0 3&quot; clear-color=&quot;0.925 0.925 0.925 1&quot;</span><br><span class="line">  target=&quot;target&quot; background=&quot;skybox&quot; camera-orbit-control=&quot;&quot;</span><br><span class="line">&gt;&lt;/xr-camera&gt;</span><br></pre></td></tr></table></figure><p>&emsp;&emsp;å…¶ä¸­ envã€camera éƒ½ç»‘å®šäº†ç›¸åº”çš„ asset-idï¼Œä½œä¸ºå¤©ç©ºç›’å‘ˆç°ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h5 id=&quot;1-é¡¹ç›®åœ°å€&quot;&gt;&lt;a href=&quot;#1-é¡¹ç›®åœ°å€&quot; class=&quot;headerlink&quot; title=&quot;1 é¡¹ç›®åœ°å€&quot;&gt;&lt;/a&gt;1 é¡¹ç›®åœ°å€&lt;/h5&gt;&lt;p&gt;å®˜æ–¹é¡¹ç›®åœ°å€ï¼š&lt;a class=&quot;link&quot;   href=&quot;https://github.com/dtys</summary>
      
    
    
    
    <category term="å¾®ä¿¡å°ç¨‹åº" scheme="http://example.com/categories/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/"/>
    
    <category term="xr-frame" scheme="http://example.com/categories/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/xr-frame/"/>
    
    
    <category term="å¾®ä¿¡å°ç¨‹åº" scheme="http://example.com/tags/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/"/>
    
    <category term="xr-frame" scheme="http://example.com/tags/xr-frame/"/>
    
  </entry>
  
  <entry>
    <title>XR-FRAME - åŸºç¡€èƒ½åŠ› - AnimationåŠ¨ç”»</title>
    <link href="http://example.com/2023/12/13/XR-FRAME-%E5%9F%BA%E7%A1%80%E8%83%BD%E5%8A%9B-Animation%E5%8A%A8%E7%94%BB/"/>
    <id>http://example.com/2023/12/13/XR-FRAME-%E5%9F%BA%E7%A1%80%E8%83%BD%E5%8A%9B-Animation%E5%8A%A8%E7%94%BB/</id>
    <published>2023-12-13T06:55:58.000Z</published>
    <updated>2023-12-14T06:55:11.526Z</updated>
    
    <content type="html"><![CDATA[<h5 id="1-é¡¹ç›®åœ°å€"><a href="#1-é¡¹ç›®åœ°å€" class="headerlink" title="1 é¡¹ç›®åœ°å€"></a>1 é¡¹ç›®åœ°å€</h5><p>å®˜æ–¹é¡¹ç›®åœ°å€ï¼š<a class="link"   href="https://github.com/dtysky/xr-frame-demo/tree/master/miniprogram/components/xr-basic-animation" >https://github.com/dtysky/xr-frame-demo/tree/master/miniprogram/components/xr-basic-animation<i class="fas fa-external-link-alt"></i></a></p><h5 id="2-ä»£ç è§£æ"><a href="#2-ä»£ç è§£æ" class="headerlink" title="2 ä»£ç è§£æ"></a>2 ä»£ç è§£æ</h5><p>ä¸»è¦ä»£ç ï¼š</p><p>index.wxml æ–‡ä»¶<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">&lt;xr-scene id=&quot;xr-scene&quot; bind:ready=&quot;handleReady&quot;&gt;</span><br><span class="line">  &lt;xr-assets bind:progress=&quot;handleAssetsProgress&quot; bind:loaded=&quot;handleAssetsLoaded&quot;&gt;</span><br><span class="line">    &lt;xr-asset-load asset-id=&quot;basic-anim&quot; type=&quot;keyframe&quot; src=&quot;/assets/animation/basic-animation.json&quot;/&gt;</span><br><span class="line">    &lt;xr-asset-load type=&quot;texture&quot; asset-id=&quot;waifu&quot; src=&quot;/assets/waifu.png&quot; /&gt;</span><br><span class="line">    &lt;xr-asset-material asset-id=&quot;standard-mat&quot; effect=&quot;standard&quot; /&gt;</span><br><span class="line">  &lt;/xr-assets&gt;</span><br><span class="line">  &lt;xr-node&gt;</span><br><span class="line">    &lt;xr-node node-id=&quot;camera-target&quot; position=&quot;0 0 0&quot;&gt;&lt;/xr-node&gt;</span><br><span class="line">    &lt;xr-mesh</span><br><span class="line">      node-id=&quot;mesh-plane&quot; position=&quot;0 -0.8 0&quot; rotation=&quot;0 0 0&quot; scale=&quot;10 1 8&quot; geometry=&quot;plane&quot; material=&quot;standard-mat&quot; uniforms=&quot;u_baseColorFactor:0.48 0.78 0.64 1&quot; states=&quot;cullOn: false&quot;</span><br><span class="line">      anim-keyframe=&quot;basic-anim&quot; anim-autoplay=&quot;clip:plane, speed:4&quot;</span><br><span class="line">      receive-shadow</span><br><span class="line">    &gt;&lt;/xr-mesh&gt;</span><br><span class="line">    &lt;xr-mesh</span><br><span class="line">      node-id=&quot;mesh-cube&quot; position=&quot;-3 0 2&quot; scale=&quot;1 1 1&quot; rotation=&quot;0 0 0&quot; geometry=&quot;cube&quot; material=&quot;standard-mat&quot; uniforms=&quot;u_baseColorFactor:0.298 0.764 0.85 1&quot;</span><br><span class="line">      anim-keyframe=&quot;basic-anim&quot; anim-clipmap=&quot;default:cube&quot; anim-autoplay=&quot;clip:cube, speed:2&quot;</span><br><span class="line">      cast-shadow</span><br><span class="line">    &gt;&lt;/xr-mesh&gt;</span><br><span class="line">    ......</span><br><span class="line">    &lt;xr-mesh node-id=&quot;mesh-light-cube&quot; position=&quot;-5 1 0&quot; scale=&quot;0.5 10 10&quot; rotation=&quot;0 0 0&quot; geometry=&quot;cube&quot; material=&quot;standard-mat&quot; uniforms=&quot;u_baseColorFactor:0.3 0.3 0.3 1, u_baseColorMap: waifu&quot;&gt;&lt;/xr-mesh&gt;</span><br><span class="line">    &lt;xr-camera</span><br><span class="line">      id=&quot;camera&quot; node-id=&quot;camera&quot; position=&quot;5 3 0&quot; clear-color=&quot;0.925 0.925 0.925 1&quot;</span><br><span class="line">      target=&quot;camera-target&quot;</span><br><span class="line">      camera-orbit-control=&quot;&quot;</span><br><span class="line">    &gt;&lt;/xr-camera&gt;</span><br><span class="line">  &lt;/xr-node&gt;</span><br><span class="line">  &lt;xr-node node-id=&quot;lights&quot;&gt;</span><br><span class="line">    &lt;xr-light type=&quot;ambient&quot; color=&quot;1 1 1&quot; intensity=&quot;1&quot; /&gt;</span><br><span class="line">    &lt;xr-light type=&quot;directional&quot; rotation=&quot;30 230 0&quot; color=&quot;1 1 1&quot; intensity=&quot;3&quot; cast-shadow/&gt;</span><br><span class="line">    &lt;xr-light</span><br><span class="line">      type=&quot;spot&quot; position=&quot;-4 1 0&quot; rotation=&quot;0 -90 0&quot; color=&quot;0 1 0&quot; range=&quot;20&quot; intensity=&quot;100&quot; inner-cone-angle=&quot;20&quot; outer-cone-angle=&quot;60&quot;</span><br><span class="line">      anim-keyframe=&quot;basic-anim&quot; anim-autoplay=&quot;clip:spotLight, speed:2&quot;</span><br><span class="line">    /&gt;</span><br><span class="line">&lt;/xr-node&gt;</span><br><span class="line">&lt;/xr-scene&gt;</span><br></pre></td></tr></table></figure></p><p>basic-animation.json æ–‡ä»¶<br><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;keyframe&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;cube&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;0&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;position&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="number">-3</span><span class="punctuation">,</span> <span class="number">0</span><span class="punctuation">,</span> <span class="number">2</span><span class="punctuation">]</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;50&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;rotation&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="number">0</span><span class="punctuation">,</span> <span class="number">0</span><span class="punctuation">,</span> <span class="number">0</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;scale&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="number">1</span><span class="punctuation">,</span> <span class="number">1</span><span class="punctuation">,</span> <span class="number">1</span><span class="punctuation">]</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;100&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;position&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="number">3</span><span class="punctuation">,</span> <span class="number">0</span><span class="punctuation">,</span> <span class="number">2</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;rotation&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="number">0</span><span class="punctuation">,</span> <span class="number">3.14</span><span class="punctuation">,</span> <span class="number">0</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;scale&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="number">1.4</span><span class="punctuation">,</span> <span class="number">1.4</span><span class="punctuation">,</span> <span class="number">1.4</span><span class="punctuation">]</span></span><br><span class="line">      <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    ......</span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;animation&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;default&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;keyframe&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cube&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;duration&quot;</span><span class="punctuation">:</span> <span class="number">1</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;ease&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ease-in-out&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;loop&quot;</span><span class="punctuation">:</span> <span class="number">400000</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;delay&quot;</span><span class="punctuation">:</span> <span class="number">1</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;direction&quot;</span><span class="punctuation">:</span> <span class="string">&quot;both&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    ......</span><br><span class="line">    <span class="attr">&quot;spotLight&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;keyframe&quot;</span><span class="punctuation">:</span> <span class="string">&quot;spotLight&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;duration&quot;</span><span class="punctuation">:</span> <span class="number">2</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;ease&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ease-in-out&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;loop&quot;</span><span class="punctuation">:</span> <span class="number">400000</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;delay&quot;</span><span class="punctuation">:</span> <span class="number">1</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;direction&quot;</span><span class="punctuation">:</span> <span class="string">&quot;both&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure></p><h6 id="2-1-é¦–å…ˆå®šä¹‰åŠ¨ç”»"><a href="#2-1-é¦–å…ˆå®šä¹‰åŠ¨ç”»" class="headerlink" title="2.1 é¦–å…ˆå®šä¹‰åŠ¨ç”»"></a>2.1 é¦–å…ˆå®šä¹‰åŠ¨ç”»</h6><p>&emsp;&emsp;å¯ä»¥çœ‹åˆ°å…¶ä¸­æœ‰ä¸¤ä¸ªéƒ¨åˆ†ï¼škeyframe å’Œ animationã€‚<br>&emsp;&emsp;keyframe ä¸­å®šä¹‰äº†å¸§åŠ¨ç”»å…·ä½“çš„è¡Œä¸ºï¼Œæœ¬è´¨ä¸Šç±»ä¼¼äº css3 ä¸­çš„ keyframesï¼Œå…¶ä¸­è¿›åº¦çš„èŒƒå›´æ˜¯ 0~100ï¼Œæ¯ä¸ªè¿›åº¦ä¸‹æ˜¯åŠ¨ç”»å…·ä½“å½±å“çš„é”®å’Œå€¼ã€‚å±æ€§çš„å€¼ä»…ä»…æ”¯æŒ numberã€number-array å’Œ color ç±»å‹çš„æ•°æ®ï¼Œå¯ä»¥æœ‰ positionã€rotationã€scaleã€material(material.u_baseColorFactor) ç­‰ã€‚<br>&emsp;&emsp;animation ä¸­å®šä¹‰äº†æš´éœ²ç»™ animator çš„ç‰‡æ®µï¼Œå…¶ä¸­ç¬¬ä¸€çº§çš„æ¯ä¸ªé”®éƒ½æ˜¯ç‰‡æ®µçš„åå­—ï¼Œå®ƒå¯¹åº”çš„å€¼å°±æ˜¯å…¶ä½œä¸ºåŠ¨ç”»æ’­æ”¾æ—¶çš„ä¸€äº›å‚æ•°ã€‚keyframe å®šä¹‰è¿™ä¸ªç‰‡æ®µå¯¹åº”äºä¸Šé¢å®šä¹‰çš„å“ªä¸ª keyframeï¼Œduration æ˜¯ä»¥ç§’ä¸ºå•ä½çš„æ—¶é•¿ï¼Œloop æ˜¯é»˜è®¤å¾ªç¯æ¬¡æ•°ï¼ˆ-1ä¸ºæ°¸è¿œå¾ªç¯ï¼‰ï¼Œdelay æ˜¯æ’­æ”¾å»¶è¿Ÿï¼Œdirection æ˜¯æ’­æ”¾æ–¹å‘ï¼Œé»˜è®¤ forwardsï¼Œå¯é€‰ backwards å’Œ bothï¼ˆåœ¨å¾ªç¯æ—¶äº¤æ›¿å‰å‘åå‘ï¼‰ï¼Œease åˆ™æ˜¯æ—¶é—´å‡½æ•°ï¼Œå†³å®šåŠ¨ç”»çš„æ’å€¼æ›²çº¿ã€‚</p><h6 id="2-2-æŠŠåŠ¨ç”»ä½œä¸ºèµ„æºå¼•å…¥-xml"><a href="#2-2-æŠŠåŠ¨ç”»ä½œä¸ºèµ„æºå¼•å…¥-xml" class="headerlink" title="2.2 æŠŠåŠ¨ç”»ä½œä¸ºèµ„æºå¼•å…¥ xml"></a>2.2 æŠŠåŠ¨ç”»ä½œä¸ºèµ„æºå¼•å…¥ xml</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;xr-asset-load asset-id=&quot;basic-anim&quot; type=&quot;keyframe&quot; src=&quot;/assets/animation/basic-animation.json&quot;/&gt;</span><br></pre></td></tr></table></figure><p>&emsp;&emsp;å…¶ä¸­ asset-id ä¸ºç»™èµ„æºç»‘å®šçš„ idï¼Œtype ä¸º keyframe ç±»å‹ã€‚</p><h6 id="2-3-ç»™-mesh-æˆ–-light-ç­‰ç»‘å®šåŠ¨ç”»"><a href="#2-3-ç»™-mesh-æˆ–-light-ç­‰ç»‘å®šåŠ¨ç”»" class="headerlink" title="2.3 ç»™ mesh æˆ– light ç­‰ç»‘å®šåŠ¨ç”»"></a>2.3 ç»™ mesh æˆ– light ç­‰ç»‘å®šåŠ¨ç”»</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;xr-mesh</span><br><span class="line">  node-id=&quot;mesh-cube&quot; position=&quot;-3 0 2&quot; scale=&quot;1 1 1&quot; rotation=&quot;0 0 0&quot; geometry=&quot;cube&quot; material=&quot;standard-mat&quot; uniforms=&quot;u_baseColorFactor:0.298 0.764 0.85 1&quot;</span><br><span class="line">  anim-keyframe=&quot;basic-anim&quot; anim-clipmap=&quot;default:cube&quot; anim-autoplay=&quot;clip:cube, speed:2&quot;</span><br><span class="line">  cast-shadow</span><br><span class="line">&gt;&lt;/xr-mesh&gt;</span><br><span class="line"></span><br><span class="line">&lt;xr-light</span><br><span class="line">  type=&quot;spot&quot; position=&quot;-4 1 0&quot; rotation=&quot;0 -90 0&quot; color=&quot;0 1 0&quot; range=&quot;20&quot; intensity=&quot;100&quot; inner-cone-angle=&quot;20&quot; outer-cone-angle=&quot;60&quot;</span><br><span class="line">  anim-keyframe=&quot;basic-anim&quot; anim-autoplay=&quot;clip:spotLight, speed:2&quot;</span><br><span class="line">/&gt;</span><br></pre></td></tr></table></figure><p>&emsp;&emsp;å…¶ä¸­ anim-keyframe ç»‘å®šäº† asset-idï¼Œanim-autoplay ç»‘å®šäº†åŠ¨ç”»åã€‚<br>&emsp;&emsp;anim-autoplay æŒ‡å®šäº†æ˜¯å¦è¦é»˜è®¤æ’­æ”¾ä»¥åŠé»˜è®¤æ’­æ”¾çš„ç‰‡æ®µå’Œå‚æ•°ï¼Œå¦‚æœä¸å†™ clip æ•°æ®åˆ™ä¼šæ’­æ”¾æ‰€æœ‰çš„ç‰‡æ®µã€‚anim-clipmap åˆ™æ˜¯ç»™é»˜è®¤åŠ è½½çš„åŠ¨ç”»æŒ‡å®šä¸€ä¸ªç‰‡æ®µæ˜ å°„ï¼Œè€Œè¿™ä¸ªé»˜è®¤çš„åŠ¨ç”»å°±æ˜¯ anim-keyframe æŒ‡å®šçš„ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h5 id=&quot;1-é¡¹ç›®åœ°å€&quot;&gt;&lt;a href=&quot;#1-é¡¹ç›®åœ°å€&quot; class=&quot;headerlink&quot; title=&quot;1 é¡¹ç›®åœ°å€&quot;&gt;&lt;/a&gt;1 é¡¹ç›®åœ°å€&lt;/h5&gt;&lt;p&gt;å®˜æ–¹é¡¹ç›®åœ°å€ï¼š&lt;a class=&quot;link&quot;   href=&quot;https://github.com/dtys</summary>
      
    
    
    
    <category term="å¾®ä¿¡å°ç¨‹åº" scheme="http://example.com/categories/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/"/>
    
    <category term="xr-frame" scheme="http://example.com/categories/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/xr-frame/"/>
    
    
    <category term="å¾®ä¿¡å°ç¨‹åº" scheme="http://example.com/tags/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/"/>
    
    <category term="xr-frame" scheme="http://example.com/tags/xr-frame/"/>
    
  </entry>
  
</feed>
