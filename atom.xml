<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>斑狸</title>
  
  <subtitle>缘起性空</subtitle>
  <link href="http://example.com/atom.xml" rel="self"/>
  
  <link href="http://example.com/"/>
  <updated>2023-12-18T03:45:28.662Z</updated>
  <id>http://example.com/</id>
  
  <author>
    <name>斑狸</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Mixins 混入处理</title>
    <link href="http://example.com/2023/12/18/mixins%E6%B7%B7%E5%85%A5%E5%A4%84%E7%90%86/"/>
    <id>http://example.com/2023/12/18/mixins%E6%B7%B7%E5%85%A5%E5%A4%84%E7%90%86/</id>
    <published>2023-12-18T03:38:39.000Z</published>
    <updated>2023-12-18T03:45:28.662Z</updated>
    
    <content type="html"><![CDATA[<h5 id="1-新建文件"><a href="#1-新建文件" class="headerlink" title="1 新建文件"></a>1 新建文件</h5><p>新建 /src/mixins/test.js</p><h5 id="2-编写所需要混入的内容"><a href="#2-编写所需要混入的内容" class="headerlink" title="2 编写所需要混入的内容"></a>2 编写所需要混入的内容</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="comment">// 此处编写的就是Vue组件实例的配置项，通过一定语法，可以直接混入到组件内部</span></span><br><span class="line">  <span class="comment">// data mothods computed 生命周期函数...</span></span><br><span class="line">  <span class="comment">// 1.注意点：如果此处和组件内，提供了同名的data或methods，则组件内优先级更高</span></span><br><span class="line">  <span class="comment">// 2.如果编写了生命周期函数，则mixins中的生命周期函数和页面的生命周期函数，会用数组管理，统一执行</span></span><br><span class="line">  <span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">title</span>: <span class="string">&#x27;标题&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">methods</span>: &#123;</span><br><span class="line">    <span class="title function_">sayHi</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;你好&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="3-组件中导入"><a href="#3-组件中导入" class="headerlink" title="3 组件中导入"></a>3 组件中导入</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="keyword">import</span> test <span class="keyword">from</span> <span class="string">&#x27;@/mixins/test.js&#x27;</span></span><br><span class="line">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    <span class="attr">mixins</span>: [test],</span><br><span class="line">    <span class="comment">// 调用导入的数据</span></span><br><span class="line">    <span class="title function_">created</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">title</span>),</span><br><span class="line">      <span class="variable language_">this</span>.<span class="title function_">sayHi</span>()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h5 id=&quot;1-新建文件&quot;&gt;&lt;a href=&quot;#1-新建文件&quot; class=&quot;headerlink&quot; title=&quot;1 新建文件&quot;&gt;&lt;/a&gt;1 新建文件&lt;/h5&gt;&lt;p&gt;新建 /src/mixins/test.js&lt;/p&gt;
&lt;h5 id=&quot;2-编写所需要混入的内容&quot;&gt;&lt;a hr</summary>
      
    
    
    
    <category term="Vue2" scheme="http://example.com/categories/Vue2/"/>
    
    <category term="Vue2 基础" scheme="http://example.com/categories/Vue2/Vue2-%E5%9F%BA%E7%A1%80/"/>
    
    
    <category term="Vue2" scheme="http://example.com/tags/Vue2/"/>
    
    <category term="Mixins" scheme="http://example.com/tags/Mixins/"/>
    
  </entry>
  
  <entry>
    <title>Vuex 中子模块调用自身数据</title>
    <link href="http://example.com/2023/12/17/vuex%E4%B8%AD%E5%AD%90%E6%A8%A1%E5%9D%97%E8%B0%83%E7%94%A8%E8%87%AA%E8%BA%AB%E6%95%B0%E6%8D%AE/"/>
    <id>http://example.com/2023/12/17/vuex%E4%B8%AD%E5%AD%90%E6%A8%A1%E5%9D%97%E8%B0%83%E7%94%A8%E8%87%AA%E8%BA%AB%E6%95%B0%E6%8D%AE/</id>
    <published>2023-12-17T02:36:16.000Z</published>
    <updated>2023-12-17T05:41:18.960Z</updated>
    
    <content type="html"><![CDATA[<h5 id="1-构建子模块"><a href="#1-构建子模块" class="headerlink" title="1 构建子模块"></a>1 构建子模块</h5><p>参考方法：<a class="link"   href="https://banlixxx.github.io/2023/12/12/vuex%E6%9E%84%E5%BB%BA%E5%AD%90%E6%A8%A1%E5%9D%97/" >Vuex 构建子模块<i class="fas fa-external-link-alt"></i></a></p><h5 id="2-子模块调用自身数据"><a href="#2-子模块调用自身数据" class="headerlink" title="2 子模块调用自身数据"></a>2 子模块调用自身数据</h5><p>Vuex3 官方文档：<a class="link"   href="https://v3.vuex.vuejs.org/zh/" >https://v3.vuex.vuejs.org/zh/<i class="fas fa-external-link-alt"></i></a><br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; getCartList &#125; <span class="keyword">from</span> <span class="string">&#x27;@/api/cart.js&#x27;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="attr">namespaced</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="title function_">state</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">cartList</span>: []</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">mutations</span>: &#123;</span><br><span class="line">    <span class="title function_">setCartList</span>(<span class="params">state, newList</span>) &#123;</span><br><span class="line">      state.<span class="property">cartList</span> = newList</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">actions</span>: &#123;</span><br><span class="line">    <span class="keyword">async</span> <span class="title function_">getCartAction</span>(<span class="params">context</span>) &#123;</span><br><span class="line">      <span class="keyword">const</span> &#123; data &#125; = <span class="keyword">await</span> <span class="title function_">getCartList</span>()</span><br><span class="line">      data.<span class="property">list</span>.<span class="title function_">forEach</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> &#123;</span><br><span class="line">        item.<span class="property">isChecked</span> = <span class="literal">true</span></span><br><span class="line">      &#125;)</span><br><span class="line">      context.<span class="title function_">commit</span>(<span class="string">&#x27;setCartList&#x27;</span>, data.<span class="property">list</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">getters</span>: &#123;</span><br><span class="line">    <span class="comment">// 求所有的商品累加总数</span></span><br><span class="line">    <span class="title function_">cartTotal</span>(<span class="params">state</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> state.<span class="property">cartList</span>.<span class="title function_">reduce</span>(<span class="function">(<span class="params">sum, item</span>) =&gt;</span> sum + item.<span class="property">goods_num</span>, <span class="number">0</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// 选中的商品</span></span><br><span class="line">    <span class="title function_">selCartList</span>(<span class="params">state</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> state.<span class="property">cartList</span>.<span class="title function_">filter</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> item.<span class="property">isChecked</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// 选中的总数</span></span><br><span class="line">    <span class="title function_">selCount</span>(<span class="params">state, getters</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> getters.<span class="property">selCartList</span>.<span class="title function_">reduce</span>(<span class="function">(<span class="params">sum, item</span>) =&gt;</span> item.<span class="property">goods_num</span> + sum, <span class="number">0</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// 选中的总价</span></span><br><span class="line">    <span class="title function_">selPrice</span>(<span class="params">state, getters</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> getters.<span class="property">selCartList</span>.<span class="title function_">reduce</span>(<span class="function">(<span class="params">sum, item</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> sum + item.<span class="property">goods_num</span> * item.<span class="property">goods</span>.<span class="property">goods_price_min</span></span><br><span class="line">      &#125;, <span class="number">0</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h5 id=&quot;1-构建子模块&quot;&gt;&lt;a href=&quot;#1-构建子模块&quot; class=&quot;headerlink&quot; title=&quot;1 构建子模块&quot;&gt;&lt;/a&gt;1 构建子模块&lt;/h5&gt;&lt;p&gt;参考方法：&lt;a class=&quot;link&quot;   href=&quot;https://banlixxx.gith</summary>
      
    
    
    
    <category term="Vue2" scheme="http://example.com/categories/Vue2/"/>
    
    <category term="Vue2 基础" scheme="http://example.com/categories/Vue2/Vue2-%E5%9F%BA%E7%A1%80/"/>
    
    
    <category term="Vue2" scheme="http://example.com/tags/Vue2/"/>
    
    <category term="Vuex" scheme="http://example.com/tags/Vuex/"/>
    
  </entry>
  
  <entry>
    <title>XR-FRAME - 基础能力 - VisibleLayer 显示和图层</title>
    <link href="http://example.com/2023/12/15/XR-FRAME-%E5%9F%BA%E7%A1%80%E8%83%BD%E5%8A%9B-VisibleLayer%E6%98%BE%E7%A4%BA%E5%92%8C%E5%9B%BE%E5%B1%82/"/>
    <id>http://example.com/2023/12/15/XR-FRAME-%E5%9F%BA%E7%A1%80%E8%83%BD%E5%8A%9B-VisibleLayer%E6%98%BE%E7%A4%BA%E5%92%8C%E5%9B%BE%E5%B1%82/</id>
    <published>2023-12-15T08:00:55.000Z</published>
    <updated>2023-12-15T08:43:10.328Z</updated>
    
    <content type="html"><![CDATA[<h4 id="1-项目地址"><a href="#1-项目地址" class="headerlink" title="1 项目地址"></a>1 项目地址</h4><p>官方项目地址：<a class="link"   href="https://github.com/dtysky/xr-frame-demo/tree/master/miniprogram/components/xr-basic-visible-layer" >https://github.com/dtysky/xr-frame-demo/tree/master/miniprogram/components/xr-basic-visible-layer<i class="fas fa-external-link-alt"></i></a></p><h4 id="2-代码解析"><a href="#2-代码解析" class="headerlink" title="2 代码解析"></a>2 代码解析</h4><p>主要代码：<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&lt;xr-scene id=&quot;xr-scene&quot; bind:ready=&quot;handleReady&quot;&gt;</span><br><span class="line">  &lt;xr-assets bind:progress=&quot;handleAssetsProgress&quot; bind:loaded=&quot;handleAssetsLoaded&quot;&gt;</span><br><span class="line">    &lt;xr-asset-material asset-id=&quot;standard-mat&quot; effect=&quot;standard&quot; /&gt;</span><br><span class="line">  &lt;/xr-assets&gt;</span><br><span class="line">  &lt;xr-node node-id=&quot;camera-target&quot; position=&quot;0 1.25 -5&quot;&gt;&lt;/xr-node&gt;</span><br><span class="line">  &lt;xr-node visible=&quot;&#123;&#123;visibleIndex === 1&#125;&#125;&quot;&gt;</span><br><span class="line">    &lt;xr-mesh node-id=&quot;mesh-plane&quot; position=&quot;0 -0.05 -4&quot; rotation=&quot;0 0 0&quot; scale=&quot;5 1 5&quot; geometry=&quot;plane&quot; material=&quot;standard-mat&quot; uniforms=&quot;u_baseColorFactor:0.48 0.78 0.64 1&quot;&gt;&lt;/xr-mesh&gt;</span><br><span class="line">  &lt;/xr-node&gt;</span><br><span class="line">  &lt;xr-node visible=&quot;&#123;&#123;visibleIndex === 2&#125;&#125;&quot;&gt;</span><br><span class="line">    &lt;xr-mesh id=&quot;cube&quot; node-id=&quot;mesh-cube&quot; position=&quot;-1 0.5 -3.5&quot; scale=&quot;1 1 1&quot; rotation=&quot;0 45 0&quot; geometry=&quot;cube&quot; material=&quot;standard-mat&quot; uniforms=&quot;u_baseColorFactor:0.298 0.764 0.85 1&quot;&gt;&lt;/xr-mesh&gt;</span><br><span class="line">  &lt;/xr-node&gt;</span><br><span class="line">  &lt;xr-node layer=&quot;1&quot;&gt;</span><br><span class="line">    &lt;xr-mesh node-id=&quot;mesh-sphere&quot; position=&quot;0 1.25 -5&quot; scale=&quot;1.25 1.25 1.25&quot; geometry=&quot;sphere&quot; material=&quot;standard-mat&quot; uniforms=&quot;u_baseColorFactor:0.937 0.176 0.368 1&quot;&gt;&lt;/xr-mesh&gt;</span><br><span class="line">    &lt;xr-node layer=&quot;2&quot;&gt;</span><br><span class="line">      &lt;xr-mesh node-id=&quot;mesh-cylinder&quot; position=&quot;1 0.7 -3.5&quot; scale=&quot;1 0.7 1&quot; geometry=&quot;cylinder&quot; material=&quot;standard-mat&quot; uniforms=&quot;u_baseColorFactor:1 0.776 0.364 1&quot;&gt;&lt;/xr-mesh&gt;</span><br><span class="line">    &lt;/xr-node&gt;</span><br><span class="line">  &lt;/xr-node&gt;</span><br><span class="line">  &lt;xr-camera</span><br><span class="line">    id=&quot;camera&quot; node-id=&quot;camera&quot; position=&quot;0 1.6 0&quot; clear-color=&quot;0.925 0.925 0.925 1&quot;</span><br><span class="line">    target=&quot;camera-target&quot; cull-mask=&quot;&#123;&#123;cullMask&#125;&#125;&quot;</span><br><span class="line">    camera-orbit-control=&quot;&quot;</span><br><span class="line">  &gt;&lt;/xr-camera&gt;</span><br><span class="line">  &lt;xr-node node-id=&quot;lights&quot;&gt;</span><br><span class="line">    &lt;xr-light type=&quot;ambient&quot; color=&quot;1 1 1&quot; intensity=&quot;1&quot; /&gt;</span><br><span class="line">    &lt;xr-light type=&quot;directional&quot; rotation=&quot;40 170 0&quot; color=&quot;1 1 1&quot; intensity=&quot;3&quot; /&gt;</span><br><span class="line">  &lt;/xr-node&gt;</span><br><span class="line">&lt;/xr-scene&gt;</span><br></pre></td></tr></table></figure></p><h6 id="2-1-visible"><a href="#2-1-visible" class="headerlink" title="2.1 visible"></a>2.1 visible</h6><p>&emsp;&emsp;当需要一个开关直截了当得让某个节点之下的所有模型或者灯光都显示或者不显示，最方便的方法就是使用 visible，当父节点设置为 false 时，即便子节点显式定义了 true，也会被隐藏。适用于 node、mesh、Light 组件。<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;xr-node visible=&quot;&#123;&#123;visibleIndex === 1&#125;&#125;&quot;&gt;</span><br><span class="line">  &lt;xr-mesh node-id=&quot;mesh-plane&quot; position=&quot;0 -0.05 -4&quot; rotation=&quot;0 0 0&quot; scale=&quot;5 1 5&quot; geometry=&quot;plane&quot; material=&quot;standard-mat&quot; uniforms=&quot;u_baseColorFactor:0.48 0.78 0.64 1&quot;&gt;&lt;/xr-mesh&gt;</span><br><span class="line">&lt;/xr-node&gt;</span><br><span class="line">&lt;xr-node visible=&quot;&#123;&#123;visibleIndex === 2&#125;&#125;&quot;&gt;</span><br><span class="line">  &lt;xr-mesh id=&quot;cube&quot; node-id=&quot;mesh-cube&quot; position=&quot;-1 0.5 -3.5&quot; scale=&quot;1 1 1&quot; rotation=&quot;0 45 0&quot; geometry=&quot;cube&quot; material=&quot;standard-mat&quot; uniforms=&quot;u_baseColorFactor:0.298 0.764 0.85 1&quot;&gt;&lt;/xr-mesh&gt;</span><br><span class="line">&lt;/xr-node&gt;</span><br></pre></td></tr></table></figure></p><h6 id="2-2-layer"><a href="#2-2-layer" class="headerlink" title="2.2 layer"></a>2.2 layer</h6><p>&emsp;&emsp;除了这种场景，在另外一些场景还会有更复杂的需求，比如只是想针对性得剔除掉某一类模型或是灯光，而非按照层级结构，这时候图层 layer 就派上用场了。<br>&emsp;&emsp;对于两个 xr-node 节点，给第一层指定了 layer=1，第二层指定了 layer=2，然后将 xr-camere 节点的 cull-mask 属性（对应于 Camera 组件的 cullMask 数据）设置为 0b011。如此设置的效果应该是第一个 mesh 被渲染，第二个不被渲染。<br>&emsp;&emsp;其中 layer 可以设置 1~32 共 32 个值，而相机的 cullMask 是一个 32 位无符号整数，每一位都代表一个 layer。只有当一个节点从顶层到自身路径中的所有节点都通过了这个 mask 的测试（从父节点到自身节点，这个路径上所有节点的 layer，所对应的 cullMusk 都为 1 时），自身才会被显示出来。这也适用于 mesh、Light 组件。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;xr-node layer=&quot;1&quot;&gt;</span><br><span class="line">  &lt;xr-mesh node-id=&quot;mesh-sphere&quot; position=&quot;0 1.25 -5&quot; scale=&quot;1.25 1.25 1.25&quot; geometry=&quot;sphere&quot; material=&quot;standard-mat&quot; uniforms=&quot;u_baseColorFactor:0.937 0.176 0.368 1&quot;&gt;&lt;/xr-mesh&gt;</span><br><span class="line">  &lt;xr-node layer=&quot;2&quot;&gt;</span><br><span class="line">    &lt;xr-mesh node-id=&quot;mesh-cylinder&quot; position=&quot;1 0.7 -3.5&quot; scale=&quot;1 0.7 1&quot; geometry=&quot;cylinder&quot; material=&quot;standard-mat&quot; uniforms=&quot;u_baseColorFactor:1 0.776 0.364 1&quot;&gt;&lt;/xr-mesh&gt;</span><br><span class="line">  &lt;/xr-node&gt;</span><br><span class="line">&lt;/xr-node&gt;</span><br><span class="line">&lt;xr-camera</span><br><span class="line">  id=&quot;camera&quot; node-id=&quot;camera&quot; position=&quot;0 1.6 0&quot; clear-color=&quot;0.925 0.925 0.925 1&quot;</span><br><span class="line">  target=&quot;camera-target&quot; cull-mask=&quot;&#123;&#123;cullMask&#125;&#125;&quot;</span><br><span class="line">  camera-orbit-control=&quot;&quot;</span><br><span class="line">&gt;&lt;/xr-camera&gt;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h4 id=&quot;1-项目地址&quot;&gt;&lt;a href=&quot;#1-项目地址&quot; class=&quot;headerlink&quot; title=&quot;1 项目地址&quot;&gt;&lt;/a&gt;1 项目地址&lt;/h4&gt;&lt;p&gt;官方项目地址：&lt;a class=&quot;link&quot;   href=&quot;https://github.com/dtys</summary>
      
    
    
    
    <category term="微信小程序" scheme="http://example.com/categories/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/"/>
    
    <category term="xr-frame" scheme="http://example.com/categories/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/xr-frame/"/>
    
    
    <category term="微信小程序" scheme="http://example.com/tags/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/"/>
    
    <category term="xr-frame" scheme="http://example.com/tags/xr-frame/"/>
    
  </entry>
  
  <entry>
    <title>XR-FRAME - 基础能力 - Share 录屏和截屏</title>
    <link href="http://example.com/2023/12/15/XR-FRAME-%E5%9F%BA%E7%A1%80%E8%83%BD%E5%8A%9B-Share%E5%BD%95%E5%B1%8F%E5%92%8C%E6%88%AA%E5%B1%8F/"/>
    <id>http://example.com/2023/12/15/XR-FRAME-%E5%9F%BA%E7%A1%80%E8%83%BD%E5%8A%9B-Share%E5%BD%95%E5%B1%8F%E5%92%8C%E6%88%AA%E5%B1%8F/</id>
    <published>2023-12-15T06:45:39.000Z</published>
    <updated>2023-12-15T07:59:33.022Z</updated>
    
    <content type="html"><![CDATA[<h4 id="1-项目地址"><a href="#1-项目地址" class="headerlink" title="1 项目地址"></a>1 项目地址</h4><p>官方项目地址：<a class="link"   href="https://github.com/dtysky/xr-frame-demo/tree/master/miniprogram/components/xr-basic-share" >https://github.com/dtysky/xr-frame-demo/tree/master/miniprogram/components/xr-basic-share<i class="fas fa-external-link-alt"></i></a></p><h4 id="2-代码解析"><a href="#2-代码解析" class="headerlink" title="2 代码解析"></a>2 代码解析</h4><p>主要代码：<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- wxml文件里的代码较为简单，加载了一个gltf时钟 --&gt;</span><br><span class="line">&lt;xr-scene bind:ready=&quot;handleReady&quot;&gt;</span><br><span class="line">  &lt;xr-asset-load type=&quot;gltf&quot; asset-id=&quot;clock&quot; src=&quot;https://mmbizwxaminiprogram-1258344707.cos.ap-guangzhou.myqcloud.com/xr-frame/demo/clock/scene.gltf&quot; /&gt;</span><br><span class="line"></span><br><span class="line">  &lt;xr-light type=&quot;ambient&quot; color=&quot;1 1 1&quot; intensity=&quot;1&quot; /&gt;</span><br><span class="line">  &lt;xr-light type=&quot;directional&quot; rotation=&quot;40 70 0&quot; color=&quot;1 1 1&quot; intensity=&quot;3&quot; cast-shadow /&gt;</span><br><span class="line"></span><br><span class="line">  &lt;slot&gt;&lt;/slot&gt;</span><br><span class="line">  </span><br><span class="line">  &lt;xr-gltf model=&quot;clock&quot; scale=&quot;0.1 0.1 0.1&quot; rotation=&quot;90 0 0&quot; anim-autoplay /&gt;</span><br><span class="line"></span><br><span class="line">  &lt;xr-node node-id=&quot;target&quot;&gt;&lt;/xr-node&gt;</span><br><span class="line">  &lt;xr-camera node-id=&quot;camera&quot; clear-color=&quot;0.4 0.8 0.6 1&quot; position=&quot;0 0 4&quot; target=&quot;target&quot; camera-orbit-control /&gt;</span><br><span class="line">&lt;/xr-scene&gt;</span><br></pre></td></tr></table></figure></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br></pre></td><td class="code"><pre><span class="line">// 主要逻辑在js中</span><br><span class="line">Component(&#123;</span><br><span class="line">  behaviors: [require(&#x27;../common/share-behavior&#x27;).default],</span><br><span class="line">  // 父传子，父组件传递的参数</span><br><span class="line">  properties: &#123;</span><br><span class="line">  // captureState用来控制截图</span><br><span class="line">    captureState: &#123;</span><br><span class="line">      type: Number,</span><br><span class="line">      value: 0,</span><br><span class="line">      observer: function (newVal, oldVal) &#123;</span><br><span class="line">        if (newVal !== oldVal) &#123;</span><br><span class="line">          if (newVal === 1) &#123;</span><br><span class="line">            // captureState为1时进行截图操作</span><br><span class="line">            this.capture();</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">    // recordState用来控制录屏</span><br><span class="line">    recordState: &#123;</span><br><span class="line">      type: Number,</span><br><span class="line">      value: 0,</span><br><span class="line">      observer: function (newVal, oldVal) &#123;</span><br><span class="line">        if (newVal !== oldVal) &#123;</span><br><span class="line">          if (newVal === 0) &#123;</span><br><span class="line">          // recordState为0时录屏结束</span><br><span class="line">            this.recordEnd();</span><br><span class="line">          &#125; else &#123;</span><br><span class="line">          // recordState为1时录屏开始</span><br><span class="line">            this.recordStart();</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    // 截屏质量</span><br><span class="line">    captureQuality: &#123;</span><br><span class="line">      type: Number,</span><br><span class="line">      value: 0.8,</span><br><span class="line">    &#125;,</span><br><span class="line">    // 截屏格式</span><br><span class="line">    captureType: &#123;</span><br><span class="line">      type: String,</span><br><span class="line">      value: &#x27;jpg&#x27;,</span><br><span class="line">    &#125;,</span><br><span class="line">    // 录屏FPS</span><br><span class="line">    recordFPS: &#123;</span><br><span class="line">      type: Number,</span><br><span class="line">      value: 30,</span><br><span class="line">    &#125;,</span><br><span class="line">    // 录屏尺寸相关</span><br><span class="line">    recordWidth: &#123;</span><br><span class="line">      type: Number,</span><br><span class="line">      value: undefined,</span><br><span class="line">    &#125;,</span><br><span class="line">    // 录屏尺寸相关</span><br><span class="line">    recordHeight: &#123;</span><br><span class="line">      type: Number,</span><br><span class="line">      value: undefined,</span><br><span class="line">    &#125;,</span><br><span class="line">    // 录屏BPS</span><br><span class="line">    recordBPS: &#123;</span><br><span class="line">      type: Number,</span><br><span class="line">      value: 1000,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  data: &#123;</span><br><span class="line">    loaded: false</span><br><span class="line">  &#125;,</span><br><span class="line">  lifetimes: &#123;&#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    handleReady(&#123;detail&#125;) &#123;</span><br><span class="line">      const scene = this.scene = detail.value;</span><br><span class="line">      // share.recordPause() 暂停本次录屏</span><br><span class="line">      const appHide = () =&gt; this.scene.share.recordPause();</span><br><span class="line">      // share.recordResume() 唤醒本次录屏</span><br><span class="line">      const appShow = () =&gt; this.scene.share.recordResume();</span><br><span class="line">      wx.onAppHide(appHide);</span><br><span class="line">      wx.onAppShow(appShow);</span><br><span class="line">      wx.offAppHide(appHide);</span><br><span class="line">      wx.offAppShow(appShow);</span><br><span class="line">      </span><br><span class="line">      // 子传父，子组件向父组件传递参数</span><br><span class="line">      this.triggerEvent(&#x27;sceneReady&#x27;, &#123;width: scene.width, height: scene.height&#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">    // 截屏</span><br><span class="line">    capture() &#123;</span><br><span class="line">      // share.captureToFriends() 直接截屏分享给好友</span><br><span class="line">      // filetype 输出图片编码，可选&#x27;jpg&#x27;、&#x27;png&#x27;</span><br><span class="line">      // quality 输出图片jpg时的品质，0~1</span><br><span class="line">      this.scene.share.captureToFriends(&#123;</span><br><span class="line">        fileType: this.data.captureType,</span><br><span class="line">        quality: this.data.captureQuality</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">    // 开始录屏</span><br><span class="line">    recordStart() &#123;</span><br><span class="line">      console.log(&#x27;recordStart&#x27;)</span><br><span class="line">      // share.recordStart() 启动录屏</span><br><span class="line">      // fps 输出帧率，默认30</span><br><span class="line">      // videoBitsPerSecond 视频比特率，默认1000</span><br><span class="line">      // width 录制视频宽度</span><br><span class="line">      // height 录制视频高度</span><br><span class="line">      this.scene.share.recordStart(&#123;</span><br><span class="line">        fps: this.data.recordFPS,</span><br><span class="line">        videoBitsPerSecond: this.data.recordBPS,</span><br><span class="line">        width: this.data.recordWidth,</span><br><span class="line">        height: this.data.recordHeight</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">    // 停止录屏</span><br><span class="line">    recordEnd() &#123;</span><br><span class="line">      console.log(&#x27;recordEnd&#x27;)</span><br><span class="line">      // share.recordFinishToAlbum() 录屏完成，直接保存到用户相册</span><br><span class="line">      this.scene.share.recordFinishToAlbum();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h4 id=&quot;1-项目地址&quot;&gt;&lt;a href=&quot;#1-项目地址&quot; class=&quot;headerlink&quot; title=&quot;1 项目地址&quot;&gt;&lt;/a&gt;1 项目地址&lt;/h4&gt;&lt;p&gt;官方项目地址：&lt;a class=&quot;link&quot;   href=&quot;https://github.com/dtys</summary>
      
    
    
    
    <category term="微信小程序" scheme="http://example.com/categories/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/"/>
    
    <category term="xr-frame" scheme="http://example.com/categories/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/xr-frame/"/>
    
    
    <category term="微信小程序" scheme="http://example.com/tags/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/"/>
    
    <category term="xr-frame" scheme="http://example.com/tags/xr-frame/"/>
    
  </entry>
  
  <entry>
    <title>Vant 组件 - Checkbox 复选框</title>
    <link href="http://example.com/2023/12/15/vant%E7%BB%84%E4%BB%B6-Checkbox%E5%A4%8D%E9%80%89%E6%A1%86/"/>
    <id>http://example.com/2023/12/15/vant%E7%BB%84%E4%BB%B6-Checkbox%E5%A4%8D%E9%80%89%E6%A1%86/</id>
    <published>2023-12-15T04:23:05.000Z</published>
    <updated>2023-12-15T06:02:18.902Z</updated>
    
    <content type="html"><![CDATA[<h5 id="1-注册安装"><a href="#1-注册安装" class="headerlink" title="1 注册安装"></a>1 注册安装</h5><p>官网：<a class="link"   href="https://vant-contrib.gitee.io/vant/v2/#/zh-CN/checkbox" >https://vant-contrib.gitee.io/vant/v2/#/zh-CN/checkbox<i class="fas fa-external-link-alt"></i></a></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Checkbox</span>, <span class="title class_">CheckboxGroup</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;vant&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">Checkbox</span>);</span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">CheckboxGroup</span>);</span><br></pre></td></tr></table></figure><h5 id="2-使用方式"><a href="#2-使用方式" class="headerlink" title="2 使用方式"></a>2 使用方式</h5><p>通过 v-model 绑定复选框的勾选状态。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;van-checkbox v-model=<span class="string">&quot;checked&quot;</span>&gt;复选框&lt;/van-checkbox&gt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">checked</span>: <span class="literal">true</span>,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h5 id=&quot;1-注册安装&quot;&gt;&lt;a href=&quot;#1-注册安装&quot; class=&quot;headerlink&quot; title=&quot;1 注册安装&quot;&gt;&lt;/a&gt;1 注册安装&lt;/h5&gt;&lt;p&gt;官网：&lt;a class=&quot;link&quot;   href=&quot;https://vant-contrib.gitee.</summary>
      
    
    
    
    <category term="Vue2" scheme="http://example.com/categories/Vue2/"/>
    
    <category term="Vant 组件库" scheme="http://example.com/categories/Vue2/Vant-%E7%BB%84%E4%BB%B6%E5%BA%93/"/>
    
    
    <category term="Vue2" scheme="http://example.com/tags/Vue2/"/>
    
    <category term="Vant 组件库" scheme="http://example.com/tags/Vant-%E7%BB%84%E4%BB%B6%E5%BA%93/"/>
    
  </entry>
  
  <entry>
    <title>请求拦截器统一携带Token</title>
    <link href="http://example.com/2023/12/15/%E8%AF%B7%E6%B1%82%E6%8B%A6%E6%88%AA%E5%99%A8%E7%BB%9F%E4%B8%80%E6%90%BA%E5%B8%A6Token/"/>
    <id>http://example.com/2023/12/15/%E8%AF%B7%E6%B1%82%E6%8B%A6%E6%88%AA%E5%99%A8%E7%BB%9F%E4%B8%80%E6%90%BA%E5%B8%A6Token/</id>
    <published>2023-12-15T03:51:41.000Z</published>
    <updated>2023-12-15T03:54:18.750Z</updated>
    
    <content type="html"><![CDATA[<h5 id="1-配置-Axios"><a href="#1-配置-Axios" class="headerlink" title="1 配置 Axios"></a>1 配置 Axios</h5><p>参考方法：<a class="link"   href="https://banlixxx.github.io/2023/12/10/axios%E5%B0%81%E8%A3%85/" >Axios 封装<i class="fas fa-external-link-alt"></i></a></p><h5 id="2-配置请求拦截器"><a href="#2-配置请求拦截器" class="headerlink" title="2 配置请求拦截器"></a>2 配置请求拦截器</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Toast</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;vant&#x27;</span></span><br><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">&#x27;@/store/index&#x27;</span></span><br><span class="line">...</span><br><span class="line"></span><br><span class="line"><span class="comment">// 添加请求拦截器</span></span><br><span class="line">request.<span class="property">interceptors</span>.<span class="property">request</span>.<span class="title function_">use</span>(</span><br><span class="line">  <span class="keyword">function</span> (<span class="params">config</span>) &#123;</span><br><span class="line">    <span class="comment">// 在发送请求之前做些什么</span></span><br><span class="line">    <span class="title class_">Toast</span>.<span class="title function_">loading</span>(&#123;</span><br><span class="line">      <span class="attr">message</span>: <span class="string">&#x27;请求中...&#x27;</span>,</span><br><span class="line">      <span class="attr">forbidClick</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="attr">loadingType</span>: <span class="string">&#x27;spinner&#x27;</span>,</span><br><span class="line">      <span class="attr">duration</span>: <span class="number">0</span></span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 只要有 token，就在请求时携带，便于请求请求需要授权的接口</span></span><br><span class="line">    <span class="keyword">const</span> token = store.<span class="property">getters</span>.<span class="property">token</span></span><br><span class="line">    <span class="keyword">if</span> (token) &#123;</span><br><span class="line">      config.<span class="property">headers</span>[<span class="string">&#x27;Access-Token&#x27;</span>] = token</span><br><span class="line">      config.<span class="property">headers</span>.<span class="property">platform</span> = <span class="string">&#x27;H5&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> config</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="keyword">function</span> (<span class="params">error</span>) &#123;</span><br><span class="line">    <span class="comment">// 对请求错误做些什么</span></span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(error)</span><br><span class="line">  &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h5 id=&quot;1-配置-Axios&quot;&gt;&lt;a href=&quot;#1-配置-Axios&quot; class=&quot;headerlink&quot; title=&quot;1 配置 Axios&quot;&gt;&lt;/a&gt;1 配置 Axios&lt;/h5&gt;&lt;p&gt;参考方法：&lt;a class=&quot;link&quot;   href=&quot;https://b</summary>
      
    
    
    
    <category term="Vue2" scheme="http://example.com/categories/Vue2/"/>
    
    <category term="Vue2 基础" scheme="http://example.com/categories/Vue2/Vue2-%E5%9F%BA%E7%A1%80/"/>
    
    
    <category term="Vue2" scheme="http://example.com/tags/Vue2/"/>
    
    <category term="Axios" scheme="http://example.com/tags/Axios/"/>
    
  </entry>
  
  <entry>
    <title>Vant组件 - Dialog 弹出框</title>
    <link href="http://example.com/2023/12/15/vant%E7%BB%84%E4%BB%B6-Dialog%E5%BC%B9%E5%87%BA%E6%A1%86/"/>
    <id>http://example.com/2023/12/15/vant%E7%BB%84%E4%BB%B6-Dialog%E5%BC%B9%E5%87%BA%E6%A1%86/</id>
    <published>2023-12-15T03:12:40.000Z</published>
    <updated>2023-12-15T06:02:26.724Z</updated>
    
    <content type="html"><![CDATA[<h5 id="1-注册安装"><a href="#1-注册安装" class="headerlink" title="1 注册安装"></a>1 注册安装</h5><p>官网：<a class="link"   href="https://vant-contrib.gitee.io/vant/v2/#/zh-CN/dialog" >https://vant-contrib.gitee.io/vant/v2/#/zh-CN/dialog<i class="fas fa-external-link-alt"></i></a></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Dialog</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;vant&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 全局注册</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">Dialog</span>);</span><br></pre></td></tr></table></figure><h5 id="2-使用方式"><a href="#2-使用方式" class="headerlink" title="2 使用方式"></a>2 使用方式</h5><p>用于确认消息，包含取消和确认按钮。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Dialog</span>.<span class="title function_">confirm</span>(&#123;</span><br><span class="line">  <span class="attr">title</span>: <span class="string">&#x27;标题&#x27;</span>,</span><br><span class="line">  <span class="attr">message</span>: <span class="string">&#x27;弹窗内容&#x27;</span>,</span><br><span class="line">&#125;)</span><br><span class="line">  .<span class="title function_">then</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// on confirm</span></span><br><span class="line">  &#125;)</span><br><span class="line">  .<span class="title function_">catch</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// on cancel</span></span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure><p>当然，引入 Dialog 组件后，会自动在 Vue 的 prototype 上挂载 $dialog 方法，在所有组件内部都可以直接调用此方法。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="title function_">mounted</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">$dialog</span>.<span class="title function_">alert</span>(&#123;</span><br><span class="line">      <span class="attr">message</span>: <span class="string">&#x27;弹窗内容&#x27;</span>,</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h5 id=&quot;1-注册安装&quot;&gt;&lt;a href=&quot;#1-注册安装&quot; class=&quot;headerlink&quot; title=&quot;1 注册安装&quot;&gt;&lt;/a&gt;1 注册安装&lt;/h5&gt;&lt;p&gt;官网：&lt;a class=&quot;link&quot;   href=&quot;https://vant-contrib.gitee.</summary>
      
    
    
    
    <category term="Vue2" scheme="http://example.com/categories/Vue2/"/>
    
    <category term="Vant 组件库" scheme="http://example.com/categories/Vue2/Vant-%E7%BB%84%E4%BB%B6%E5%BA%93/"/>
    
    
    <category term="Vue2" scheme="http://example.com/tags/Vue2/"/>
    
    <category term="Vant 组件库" scheme="http://example.com/tags/Vant-%E7%BB%84%E4%BB%B6%E5%BA%93/"/>
    
  </entry>
  
  <entry>
    <title>XR-FRAME - 基础能力 - Interaction交互</title>
    <link href="http://example.com/2023/12/14/XR-FRAME-%E5%9F%BA%E7%A1%80%E8%83%BD%E5%8A%9B-Interaction%E4%BA%A4%E4%BA%92/"/>
    <id>http://example.com/2023/12/14/XR-FRAME-%E5%9F%BA%E7%A1%80%E8%83%BD%E5%8A%9B-Interaction%E4%BA%A4%E4%BA%92/</id>
    <published>2023-12-14T06:54:48.000Z</published>
    <updated>2023-12-15T08:43:08.614Z</updated>
    
    <content type="html"><![CDATA[<h4 id="1-项目地址"><a href="#1-项目地址" class="headerlink" title="1 项目地址"></a>1 项目地址</h4><p>官方项目地址：<a class="link"   href="https://github.com/dtysky/xr-frame-demo/tree/master/miniprogram/components/xr-basic-touch" >https://github.com/dtysky/xr-frame-demo/tree/master/miniprogram/components/xr-basic-touch<i class="fas fa-external-link-alt"></i></a></p><h4 id="2-代码解析"><a href="#2-代码解析" class="headerlink" title="2 代码解析"></a>2 代码解析</h4><p>主要代码：<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&lt;xr-scene id=&quot;xr-scene&quot; bind:tick=&quot;handleTick&quot; bind:ready=&quot;handleReady&quot;&gt;</span><br><span class="line">  &lt;xr-assets bind:progress=&quot;handleAssetsProgress&quot; bind:loaded=&quot;handleAssetsLoaded&quot;&gt;</span><br><span class="line">    &lt;xr-asset-load type=&quot;texture&quot; asset-id=&quot;earth-texture&quot; src=&quot;https://mmbizwxaminiprogram-1258344707.cos.ap-guangzhou.myqcloud.com/xr-frame/demo/2k_earth_daymap.jpeg&quot; /&gt;</span><br><span class="line">    &lt;xr-asset-load type=&quot;texture&quot; asset-id=&quot;moon-texture&quot; src=&quot;https://mmbizwxaminiprogram-1258344707.cos.ap-guangzhou.myqcloud.com/xr-frame/demo/2k_moon.jpeg&quot; /&gt;</span><br><span class="line">    &lt;xr-asset-load type=&quot;texture&quot; asset-id=&quot;sky&quot; src=&quot;https://mmbizwxaminiprogram-1258344707.cos.ap-guangzhou.myqcloud.com/xr-frame/demo/dark-cosmos.jpg&quot; /&gt;</span><br><span class="line">    &lt;xr-asset-material asset-id=&quot;standard-mat&quot; effect=&quot;standard&quot; /&gt;</span><br><span class="line">    &lt;xr-asset-material asset-id=&quot;earth-mat&quot; effect=&quot;standard&quot; uniforms=&quot;u_baseColorMap: earth-texture&quot; render-queue=&quot;501&quot;/&gt;</span><br><span class="line">    &lt;xr-asset-material asset-id=&quot;earth-silhouette&quot; effect=&quot;simple&quot; uniforms=&quot;u_baseColorFactor: 1.0 0.5 0 1.0&quot; states=&quot;depthTestWrite: false&quot; render-queue=&quot;500&quot;/&gt;</span><br><span class="line">    &lt;xr-asset-material asset-id=&quot;moon-mat&quot; effect=&quot;standard&quot; uniforms=&quot;u_baseColorMap: moon-texture&quot; render-queue=&quot;503&quot;/&gt;</span><br><span class="line">    &lt;xr-asset-material asset-id=&quot;moon-silhouette&quot; effect=&quot;simple&quot; uniforms=&quot;u_baseColorFactor: 0.476 0.82 0.957 1.0&quot; states=&quot;depthTestWrite: false&quot; render-queue=&quot;502&quot;/&gt;</span><br><span class="line">  &lt;/xr-assets&gt;</span><br><span class="line">  &lt;xr-env sky-map=&quot;sky&quot; is-sky2d/&gt;</span><br><span class="line">  &lt;xr-node&gt;</span><br><span class="line">    &lt;xr-mesh node-id=&quot;mesh-earth&quot; position=&quot;0 0 0&quot; scale=&quot;8 8 8&quot; geometry=&quot;sphere&quot; material=&quot;earth-mat&quot; bind:touch-shape=&quot;handleTouchEarth&quot; bind:untouch-shape=&quot;handleUntouchEarth&quot; bind:drag-shape=&quot;handleEarthRotation&quot; sphere-shape receive-shadow cast-shadow&gt;&lt;/xr-mesh&gt;</span><br><span class="line">    &lt;xr-mesh node-id=&quot;earth-silhouette&quot; scale=&quot;8.15 8.15 8.15&quot; geometry=&quot;sphere&quot; material=&quot;earth-silhouette&quot; visible=&quot;&#123;&#123;touchingEarth&#125;&#125;&quot;&gt;&lt;/xr-mesh&gt;</span><br><span class="line">    &lt;xr-mesh node-id=&quot;mesh-moon&quot; position=&quot;10 0 0&quot; scale=&quot;1.5 1.5 1.5&quot; rotation=&quot;0 90 0&quot; geometry=&quot;sphere&quot; material=&quot;moon-mat&quot; bind:drag-shape=&quot;handleDragMoon&quot; bind:touch-shape=&quot;handleTouchMoon&quot; bind:untouch-shape=&quot;handleUntouchMoon&quot; sphere-shape=&quot;radius: 1.5&quot; receive-shadow cast-shadow&gt;&lt;/xr-mesh&gt;</span><br><span class="line">    &lt;xr-mesh node-id=&quot;moon-silhouette&quot; scale=&quot;1.1 1.1 1.1&quot; geometry=&quot;sphere&quot; material=&quot;moon-silhouette&quot; visible=&quot;&#123;&#123;touchingMoon&#125;&#125;&quot;&gt;&lt;/xr-mesh&gt;</span><br><span class="line">    &lt;xr-camera</span><br><span class="line">      id=&quot;camera&quot; node-id=&quot;camera&quot; position=&quot;0 20 -35&quot; clear-color=&quot;0 0 0 1&quot;</span><br><span class="line">      target=&quot;mesh-earth&quot;</span><br><span class="line">      background=&quot;skybox&quot;</span><br><span class="line">    &gt;&lt;/xr-camera&gt;</span><br><span class="line">  &lt;/xr-node&gt;</span><br><span class="line">  &lt;xr-node node-id=&quot;lights&quot;&gt;</span><br><span class="line">    &lt;xr-light type=&quot;ambient&quot; color=&quot;1 1 1&quot; intensity=&quot;0.1&quot; /&gt;</span><br><span class="line">    &lt;xr-light id=&quot;directional-light&quot; type=&quot;directional&quot; rotation=&quot;0 60 0&quot; color=&quot;1 1 1&quot; intensity=&quot;5&quot;  shadow-distance=&quot;40&quot; cast-shadow shadow-bias=&quot;0.004&quot;/&gt;</span><br><span class="line">  &lt;/xr-node&gt;</span><br><span class="line">&lt;/xr-scene&gt;</span><br></pre></td></tr></table></figure></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line">Component(&#123;</span><br><span class="line">  behaviors: [require(&#x27;../common/share-behavior&#x27;).default],</span><br><span class="line">  properties: &#123;</span><br><span class="line">    a: Number,</span><br><span class="line">  &#125;,</span><br><span class="line">  data: &#123;</span><br><span class="line">    loaded: false,</span><br><span class="line">    touchingMoon: false,</span><br><span class="line">    touchingEarth: false,</span><br><span class="line">    θ: Math.PI,</span><br><span class="line">    r: 10,</span><br><span class="line">    ω: 5e-4,</span><br><span class="line">    outerRing: 20,</span><br><span class="line">    innerRing: 10</span><br><span class="line">  &#125;,</span><br><span class="line">  lifetimes: &#123;&#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    handleReady(&#123;detail&#125;) &#123;</span><br><span class="line">      const xrScene = this.scene = detail.value;</span><br><span class="line">      console.log(&#x27;xr-scene&#x27;, xrScene);</span><br><span class="line">    &#125;,</span><br><span class="line">    handleAssetsProgress: function(&#123;detail&#125;) &#123;</span><br><span class="line">      console.log(&#x27;assets progress&#x27;, detail.value);</span><br><span class="line">    &#125;,</span><br><span class="line">    handleAssetsLoaded: function(&#123;detail&#125;) &#123;</span><br><span class="line">      console.log(&#x27;assets loaded&#x27;, detail.value);</span><br><span class="line">      this.setData(&#123;loaded: true&#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">    handleTouchEarth: function() &#123;</span><br><span class="line">      this.setData(&#123;</span><br><span class="line">        touchingEarth: true</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">    handleUntouchEarth: function() &#123;</span><br><span class="line">      this.setData(&#123;</span><br><span class="line">        touchingEarth: false</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">    handleEarthRotation: function(&#123;detail&#125;) &#123;</span><br><span class="line">        const &#123; target, deltaX &#125; = detail.value;</span><br><span class="line">        target._components.transform.rotation.y += deltaX / 100;</span><br><span class="line">    &#125;,</span><br><span class="line">    handleDragMoon: function(&#123;detail&#125;) &#123;</span><br><span class="line">        const &#123; dir, target, camera &#125; = detail.value;</span><br><span class="line">        const cameraPos = camera.el._components.transform.worldPosition;</span><br><span class="line">        const k = -cameraPos.y / dir[1];</span><br><span class="line">        const x = cameraPos.x + k * dir[0];</span><br><span class="line">        const z = cameraPos.z + k * dir[2];</span><br><span class="line">        const len = Math.sqrt(x * x + z * z);</span><br><span class="line">        if (len &gt; this.data.innerRing) &#123;</span><br><span class="line">            const transform = target._components.transform;</span><br><span class="line">            const scale = len &gt; this.data.outerRing ? this.data.outerRing / len : 1.0;</span><br><span class="line">            transform.position.x = x * scale;</span><br><span class="line">            transform.position.z = z * scale;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    handleTouchMoon: function() &#123;</span><br><span class="line">        this.setData(&#123;touchingMoon: true&#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">    handleUntouchMoon: function() &#123;</span><br><span class="line">        const moon = this.scene.getNodeById(&quot;mesh-moon&quot;);</span><br><span class="line">        const transform = moon.el._components.transform;</span><br><span class="line">        const x = transform.position.x;</span><br><span class="line">        const z = transform.position.z;</span><br><span class="line">        const len = Math.sqrt(x * x + z * z);</span><br><span class="line">        this.setData(&#123;</span><br><span class="line">            r: len,</span><br><span class="line">            θ: x &lt; 0 ? Math.atan(z / x) + Math.PI : Math.atan(z / x),</span><br><span class="line">            ω: Math.sqrt(2.5e-4 / (len * len * len))</span><br><span class="line">        &#125;);</span><br><span class="line">        this.setData(&#123;touchingMoon: false&#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">    handleTick: function(&#123;detail&#125;) &#123;</span><br><span class="line">        if (this.data.touchingMoon || !this.scene) return;</span><br><span class="line">        const deltaTime = detail.value;</span><br><span class="line">        const moon = this.scene.getNodeById(&quot;mesh-moon&quot;);</span><br><span class="line">        const transform = moon.el._components.transform;</span><br><span class="line">        const x = Math.cos(this.data.θ) * this.data.r;</span><br><span class="line">        const z = Math.sin(this.data.θ) * this.data.r;</span><br><span class="line">        transform.position.x = x;</span><br><span class="line">        transform.position.z = z;</span><br><span class="line">        transform.rotation.y -= this.data.ω * deltaTime;</span><br><span class="line">        this.setData(&#123;</span><br><span class="line">            θ: this.data.θ + this.data.ω * deltaTime</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h5 id="2-1-地球模块"><a href="#2-1-地球模块" class="headerlink" title="2.1 地球模块"></a>2.1 地球模块</h5><h6 id="2-1-1-地球-加载资源"><a href="#2-1-1-地球-加载资源" class="headerlink" title="2.1.1 地球 - 加载资源"></a>2.1.1 地球 - 加载资源</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;xr-asset-load type=&quot;texture&quot; asset-id=&quot;earth-texture&quot; src=&quot;https://mmbizwxaminiprogram-1258344707.cos.ap-guangzhou.myqcloud.com/xr-frame/demo/2k_earth_daymap.jpeg&quot; /&gt;</span><br><span class="line">&lt;xr-asset-material asset-id=&quot;earth-mat&quot; effect=&quot;standard&quot; uniforms=&quot;u_baseColorMap: earth-texture&quot; render-queue=&quot;501&quot;/&gt;</span><br><span class="line">&lt;xr-asset-material asset-id=&quot;earth-silhouette&quot; effect=&quot;simple&quot; uniforms=&quot;u_baseColorFactor: 1.0 0.5 0 1.0&quot; states=&quot;depthTestWrite: false&quot; render-queue=&quot;500&quot;/&gt;</span><br></pre></td></tr></table></figure><p>&emsp;&emsp;首先去加载图片，命名 asset-id 为 earth-texture；之后加载了两种材质，材质 earth-mat 用于生成地球网格，通过 uniforms 绑定了刚刚加载的图片 earth-texture，材质 earth-silhouette 用于生成点击地球时出现的轮廓的网格。</p><h6 id="2-1-2-地球-生成网格"><a href="#2-1-2-地球-生成网格" class="headerlink" title="2.1.2 地球 - 生成网格"></a>2.1.2 地球 - 生成网格</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;xr-mesh node-id=&quot;mesh-earth&quot; position=&quot;0 0 0&quot; scale=&quot;8 8 8&quot; geometry=&quot;sphere&quot; material=&quot;earth-mat&quot; bind:touch-shape=&quot;handleTouchEarth&quot; bind:untouch-shape=&quot;handleUntouchEarth&quot; bind:drag-shape=&quot;handleEarthRotation&quot; sphere-shape receive-shadow cast-shadow&gt;&lt;/xr-mesh&gt;</span><br><span class="line">&lt;xr-mesh node-id=&quot;earth-silhouette&quot; scale=&quot;8.15 8.15 8.15&quot; geometry=&quot;sphere&quot; material=&quot;earth-silhouette&quot; visible=&quot;&#123;&#123;touchingEarth&#125;&#125;&quot;&gt;&lt;/xr-mesh&gt;</span><br></pre></td></tr></table></figure><p>&emsp;&emsp;通过 material 绑定不同的材质，生成了地球网格和轮廓网格。</p><h6 id="2-1-3-地球-事件解析"><a href="#2-1-3-地球-事件解析" class="headerlink" title="2.1.3 地球 - 事件解析"></a>2.1.3 地球 - 事件解析</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">handleTouchEarth: function() &#123;</span><br><span class="line">  this.setData(&#123;</span><br><span class="line">    touchingEarth: true</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;,</span><br><span class="line">handleUntouchEarth: function() &#123;</span><br><span class="line">  this.setData(&#123;</span><br><span class="line">    touchingEarth: false</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;,</span><br><span class="line">handleEarthRotation: function(&#123;detail&#125;) &#123;</span><br><span class="line">    const &#123; target, deltaX &#125; = detail.value;</span><br><span class="line">    target._components.transform.rotation.y += deltaX / 100;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><p>&emsp;&emsp;地球网格上绑定了三个事件处理函数：<br>&emsp;&emsp;通过手指的触摸与松开地球网格，触发的事件函数 handleTouchEarth 和事件函数 handleUntouchEarth，可以改变轮廓网格上绑定的 touchingEarth 的值，来控制轮廓网格的现实与隐藏。<br>&emsp;&emsp;通过手指对地球网格的拖拽，触发的事件函数 handleEarthRotation，可以改变地球的角度。其中 target 可以获取到地球网格，deltaX 为用户手指在屏幕上划过的距离，按照一定的比例，通过 deltaX 来改变地球网格的 transform.rotation.y，使得地球网格旋转起来。</p><h5 id="2-2-月球模块"><a href="#2-2-月球模块" class="headerlink" title="2.2 月球模块"></a>2.2 月球模块</h5><h6 id="2-2-1-月球-加载资源"><a href="#2-2-1-月球-加载资源" class="headerlink" title="2.2.1 月球 - 加载资源"></a>2.2.1 月球 - 加载资源</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;xr-asset-load type=&quot;texture&quot; asset-id=&quot;moon-texture&quot; src=&quot;https://mmbizwxaminiprogram-1258344707.cos.ap-guangzhou.myqcloud.com/xr-frame/demo/2k_moon.jpeg&quot; /&gt;</span><br><span class="line">&lt;xr-asset-material asset-id=&quot;moon-mat&quot; effect=&quot;standard&quot; uniforms=&quot;u_baseColorMap: moon-texture&quot; render-queue=&quot;503&quot;/&gt;</span><br><span class="line">&lt;xr-asset-material asset-id=&quot;moon-silhouette&quot; effect=&quot;simple&quot; uniforms=&quot;u_baseColorFactor: 0.476 0.82 0.957 1.0&quot; states=&quot;depthTestWrite: false&quot; render-queue=&quot;502&quot;/&gt;</span><br></pre></td></tr></table></figure><p>&emsp;&emsp;同样的方法加载资源，生成月球网格和点击时出现的轮廓的网格。</p><h6 id="2-2-2-月球-生成网格"><a href="#2-2-2-月球-生成网格" class="headerlink" title="2.2.2 月球 - 生成网格"></a>2.2.2 月球 - 生成网格</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;xr-mesh node-id=&quot;mesh-moon&quot; position=&quot;10 0 0&quot; scale=&quot;1.5 1.5 1.5&quot; rotation=&quot;0 90 0&quot; geometry=&quot;sphere&quot; material=&quot;moon-mat&quot; bind:drag-shape=&quot;handleDragMoon&quot; bind:touch-shape=&quot;handleTouchMoon&quot; bind:untouch-shape=&quot;handleUntouchMoon&quot; sphere-shape=&quot;radius: 1.5&quot; receive-shadow cast-shadow&gt;&lt;/xr-mesh&gt;</span><br><span class="line">&lt;xr-mesh node-id=&quot;moon-silhouette&quot; scale=&quot;1.1 1.1 1.1&quot; geometry=&quot;sphere&quot; material=&quot;moon-silhouette&quot; visible=&quot;&#123;&#123;touchingMoon&#125;&#125;&quot;&gt;&lt;/xr-mesh&gt;</span><br></pre></td></tr></table></figure><h6 id="2-2-3-月球-事件解析"><a href="#2-2-3-月球-事件解析" class="headerlink" title="2.2.3 月球 - 事件解析"></a>2.2.3 月球 - 事件解析</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">handleDragMoon: function(&#123;detail&#125;) &#123;</span><br><span class="line">    const &#123; dir, target, camera &#125; = detail.value;</span><br><span class="line">    const cameraPos = camera.el._components.transform.worldPosition;</span><br><span class="line">    const k = -cameraPos.y / dir[1];</span><br><span class="line">    const x = cameraPos.x + k * dir[0];</span><br><span class="line">    const z = cameraPos.z + k * dir[2];</span><br><span class="line">    const len = Math.sqrt(x * x + z * z);</span><br><span class="line">    if (len &gt; this.data.innerRing) &#123;</span><br><span class="line">        const transform = target._components.transform;</span><br><span class="line">        const scale = len &gt; this.data.outerRing ? this.data.outerRing / len : 1.0;</span><br><span class="line">        transform.position.x = x * scale;</span><br><span class="line">        transform.position.z = z * scale;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br><span class="line">handleTouchMoon: function() &#123;</span><br><span class="line">    this.setData(&#123;touchingMoon: true&#125;);</span><br><span class="line">&#125;,</span><br><span class="line">handleUntouchMoon: function() &#123;</span><br><span class="line">    const moon = this.scene.getNodeById(&quot;mesh-moon&quot;);</span><br><span class="line">    const transform = moon.el._components.transform;</span><br><span class="line">    const x = transform.position.x;</span><br><span class="line">    const z = transform.position.z;</span><br><span class="line">    const len = Math.sqrt(x * x + z * z);</span><br><span class="line">    this.setData(&#123;</span><br><span class="line">        r: len,</span><br><span class="line">        θ: x &lt; 0 ? Math.atan(z / x) + Math.PI : Math.atan(z / x),</span><br><span class="line">        ω: Math.sqrt(2.5e-4 / (len * len * len))</span><br><span class="line">    &#125;);</span><br><span class="line">    this.setData(&#123;touchingMoon: false&#125;);</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><p>&emsp;&emsp;月球网格上绑定了三个事件处理函数：<br>&emsp;&emsp;通过手指的触摸与松开月球网格，触发的事件函数 handleTouchMoon 和事件函数 handleUntouchMoon，可以改变轮廓网格上绑定的 touchingMoon 的值，来控制轮廓网格的现实与隐藏。当然，因为月球网格要围绕地球公转，所以在松开手指时，要更新月球到地球的距离 r、月球公转时所需要的角度 θ、公转的角速度 ω，其中<code>ω: Math.sqrt(2.5e-4 / (len * len * len))</code>为天体运动的基本公式，</p><script type="math/tex; mode=display">ma=mω^2r=F=\frac{GMm}{r}^2</script><p>&emsp;&emsp;通过手指对月球网格的拖拽，触发的事件函数 handleDragMoon，可以改变月球到地球的距离。具体的计算方法如下：<br>&emsp;&emsp;dir 是由相机向地球和月球所在的三维世界发射出的一条射线的单位向量，通过手指在屏幕上的滑动可以改变射线的方向，该射线与平面 $y=0$ 的交点，即为月球网格的所在位置（在不受到最大、最小距离限制时）；cameraPos 是相机的所在的坐标，即射线上的一个点；有了直线的向量和一个点，可知直线方程为:</p><script type="math/tex; mode=display">\frac{x-cameraPos.x}{dir[0]} = \frac{y-cameraPos.y}{dir[1]} = \frac{z-cameraPos.z}{dir[2]}</script><p>&emsp;&emsp;假设该直线与平面 $y=0$ 的交点为 $(x_{0}, 0, z_{0})$，那么可知：</p><script type="math/tex; mode=display">x_{0} = - \frac{cameraPos.y}{dir[1]} dir[0]+cameraPos.x</script><script type="math/tex; mode=display">z_{0} = - \frac{cameraPos.y}{dir[1]} dir[2]+cameraPos.z</script><p>&emsp;&emsp;即与代码中的 x 与 z 对应，再计算出与地球的距离 len。当 len 小于 this.data.innerRing，手指的拖动是不会改变月球的位置的；当 len 大于 this.data.innerRing 时，将刚刚计算出的 x 与 z 赋值给月球网格的 transform，来改变月球网格的坐标；但当 len 大于 this.data.outerRing 时，按照一定的比例 scale，去改变月球的 transform。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">handleTick: function(&#123;detail&#125;) &#123;</span><br><span class="line">  if (this.data.touchingMoon || !this.scene) return;</span><br><span class="line">  const deltaTime = detail.value;</span><br><span class="line">  const moon = this.scene.getNodeById(&quot;mesh-moon&quot;);</span><br><span class="line">  const transform = moon.el._components.transform;</span><br><span class="line">  const x = Math.cos(this.data.θ) * this.data.r;</span><br><span class="line">  const z = Math.sin(this.data.θ) * this.data.r;</span><br><span class="line">  transform.position.x = x;</span><br><span class="line">  transform.position.z = z;</span><br><span class="line">  transform.rotation.y -= this.data.ω * deltaTime;</span><br><span class="line">  this.setData(&#123;</span><br><span class="line">    θ: this.data.θ + this.data.ω * deltaTime</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&emsp;&emsp;最后的函数 handleTick 绑定给了 xr-scene，来实现月球公转和触碰月球时停止公转的操作。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h4 id=&quot;1-项目地址&quot;&gt;&lt;a href=&quot;#1-项目地址&quot; class=&quot;headerlink&quot; title=&quot;1 项目地址&quot;&gt;&lt;/a&gt;1 项目地址&lt;/h4&gt;&lt;p&gt;官方项目地址：&lt;a class=&quot;link&quot;   href=&quot;https://github.com/dtys</summary>
      
    
    
    
    <category term="微信小程序" scheme="http://example.com/categories/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/"/>
    
    <category term="xr-frame" scheme="http://example.com/categories/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/xr-frame/"/>
    
    
    <category term="微信小程序" scheme="http://example.com/tags/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/"/>
    
    <category term="xr-frame" scheme="http://example.com/tags/xr-frame/"/>
    
  </entry>
  
  <entry>
    <title>Vant 组件 - ActionSheet 动作面板</title>
    <link href="http://example.com/2023/12/14/vant%E7%BB%84%E4%BB%B6-ActionSheet%E5%8A%A8%E4%BD%9C%E9%9D%A2%E6%9D%BF/"/>
    <id>http://example.com/2023/12/14/vant%E7%BB%84%E4%BB%B6-ActionSheet%E5%8A%A8%E4%BD%9C%E9%9D%A2%E6%9D%BF/</id>
    <published>2023-12-14T03:43:42.000Z</published>
    <updated>2023-12-15T06:02:20.611Z</updated>
    
    <content type="html"><![CDATA[<h5 id="1-注册安装"><a href="#1-注册安装" class="headerlink" title="1 注册安装"></a>1 注册安装</h5><p>官网：<a class="link"   href="https://vant-contrib.gitee.io/vant/v2/#/zh-CN/action-sheet" >https://vant-contrib.gitee.io/vant/v2/#/zh-CN/action-sheet<i class="fas fa-external-link-alt"></i></a></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">ActionSheet</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;vant&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">ActionSheet</span>)</span><br></pre></td></tr></table></figure><h5 id="2-使用方式"><a href="#2-使用方式" class="headerlink" title="2 使用方式"></a>2 使用方式</h5><p>动作面板通过 actions 属性来定义选项，actions 属性是一个由对象构成的数组，数组中的每个对象配置一列，对象格式见文档下方表格。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;van-cell is-link title=<span class="string">&quot;基础用法&quot;</span> @click=<span class="string">&quot;show = true&quot;</span> /&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">van-action-sheet</span> <span class="attr">v-model</span>=<span class="string">&quot;show&quot;</span> <span class="attr">:actions</span>=<span class="string">&quot;actions&quot;</span> @<span class="attr">select</span>=<span class="string">&quot;onSelect&quot;</span> /&gt;</span></span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Toast</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;vant&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">show</span>: <span class="literal">false</span>,</span><br><span class="line">      <span class="attr">actions</span>: [&#123; <span class="attr">name</span>: <span class="string">&#x27;选项一&#x27;</span> &#125;, &#123; <span class="attr">name</span>: <span class="string">&#x27;选项二&#x27;</span> &#125;, &#123; <span class="attr">name</span>: <span class="string">&#x27;选项三&#x27;</span> &#125;],</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">methods</span>: &#123;</span><br><span class="line">    <span class="title function_">onSelect</span>(<span class="params">item</span>) &#123;</span><br><span class="line">      <span class="comment">// 默认情况下点击选项时不会自动收起</span></span><br><span class="line">      <span class="comment">// 可以通过 close-on-click-action 属性开启自动收起</span></span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">show</span> = <span class="literal">false</span>;</span><br><span class="line">      <span class="title class_">Toast</span>(item.<span class="property">name</span>);</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h5 id=&quot;1-注册安装&quot;&gt;&lt;a href=&quot;#1-注册安装&quot; class=&quot;headerlink&quot; title=&quot;1 注册安装&quot;&gt;&lt;/a&gt;1 注册安装&lt;/h5&gt;&lt;p&gt;官网：&lt;a class=&quot;link&quot;   href=&quot;https://vant-contrib.gitee.</summary>
      
    
    
    
    <category term="Vue2" scheme="http://example.com/categories/Vue2/"/>
    
    <category term="Vant 组件库" scheme="http://example.com/categories/Vue2/Vant-%E7%BB%84%E4%BB%B6%E5%BA%93/"/>
    
    
    <category term="Vue2" scheme="http://example.com/tags/Vue2/"/>
    
    <category term="Vant 组件库" scheme="http://example.com/tags/Vant-%E7%BB%84%E4%BB%B6%E5%BA%93/"/>
    
  </entry>
  
  <entry>
    <title>XR-FRAME - 基础能力 - Video视频纹理</title>
    <link href="http://example.com/2023/12/13/XR-FRAME-%E5%9F%BA%E7%A1%80%E8%83%BD%E5%8A%9B-Video%E8%A7%86%E9%A2%91%E7%BA%B9%E7%90%86/"/>
    <id>http://example.com/2023/12/13/XR-FRAME-%E5%9F%BA%E7%A1%80%E8%83%BD%E5%8A%9B-Video%E8%A7%86%E9%A2%91%E7%BA%B9%E7%90%86/</id>
    <published>2023-12-13T08:10:15.000Z</published>
    <updated>2023-12-14T06:55:35.054Z</updated>
    
    <content type="html"><![CDATA[<h5 id="1-项目地址"><a href="#1-项目地址" class="headerlink" title="1 项目地址"></a>1 项目地址</h5><p>官方项目地址：<a class="link"   href="https://github.com/dtysky/xr-frame-demo/tree/master/miniprogram/components/xr-basic-video" >https://github.com/dtysky/xr-frame-demo/tree/master/miniprogram/components/xr-basic-video<i class="fas fa-external-link-alt"></i></a></p><h5 id="2-代码解析"><a href="#2-代码解析" class="headerlink" title="2 代码解析"></a>2 代码解析</h5><p>主要代码：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">&lt;xr-scene id=&quot;xr-scene&quot; bind:ready=&quot;handleReady&quot;&gt;</span><br><span class="line">  &lt;xr-assets bind:progress=&quot;handleAssetsProgress&quot; bind:loaded=&quot;handleAssetsLoaded&quot;&gt;</span><br><span class="line">    &lt;xr-asset-load</span><br><span class="line">      type=&quot;video-texture&quot; asset-id=&quot;cat&quot;</span><br><span class="line">      src=&quot;https://mmbizwxaminiprogram-1258344707.cos.ap-guangzhou.myqcloud.com/xr-frame/demo/videos/cat.mp4&quot; options=&quot;autoPlay:true,loop:true,abortAudio:false,placeHolder:https://mmbizwxaminiprogram-1258344707.cos.ap-guangzhou.myqcloud.com/xr-frame/demo/videos/cat.jpg&quot;</span><br><span class="line">    /&gt;</span><br><span class="line">    &lt;xr-asset-load</span><br><span class="line">      type=&quot;video-texture&quot; asset-id=&quot;skybox&quot;</span><br><span class="line">      src=&quot;https://mmbizwxaminiprogram-1258344707.cos.ap-guangzhou.myqcloud.com/xr-frame/demo/videos/office-skybox.mp4&quot; options=&quot;autoPlay:true,loop:true,placeHolder:https://mmbizwxaminiprogram-1258344707.cos.ap-guangzhou.myqcloud.com/xr-frame/demo/videos/office-skybox.jpg&quot;</span><br><span class="line">    /&gt;</span><br><span class="line">    &lt;xr-asset-material asset-id=&quot;standard-mat&quot; effect=&quot;standard&quot; /&gt;</span><br><span class="line">  &lt;/xr-assets&gt;</span><br><span class="line">  &lt;xr-env sky-map=&quot;video-skybox&quot; /&gt;</span><br><span class="line">  &lt;xr-node&gt;</span><br><span class="line">    &lt;xr-node node-id=&quot;target&quot; /&gt;</span><br><span class="line">    &lt;xr-mesh</span><br><span class="line">      node-id=&quot;mesh-cube&quot; scale=&quot;1.6 0.9 0.9&quot;</span><br><span class="line">      geometry=&quot;cube&quot; material=&quot;standard-mat&quot;</span><br><span class="line">      uniforms=&quot;u_baseColorMap:video-cat&quot;</span><br><span class="line">      cube-shape=&quot;autoFit:true&quot;</span><br><span class="line">      bind:touch-shape=&quot;handleTouchCube&quot;</span><br><span class="line">    /&gt;</span><br><span class="line">    &lt;xr-camera</span><br><span class="line">      id=&quot;camera&quot; node-id=&quot;camera&quot; position=&quot;0 0 3&quot; clear-color=&quot;0.925 0.925 0.925 1&quot;</span><br><span class="line">      target=&quot;target&quot; background=&quot;skybox&quot; camera-orbit-control=&quot;&quot;</span><br><span class="line">    &gt;&lt;/xr-camera&gt;</span><br><span class="line">  &lt;/xr-node&gt;</span><br><span class="line">  &lt;xr-node node-id=&quot;lights&quot;&gt;</span><br><span class="line">    &lt;xr-light type=&quot;ambient&quot; color=&quot;1 1 1&quot; intensity=&quot;1&quot; /&gt;</span><br><span class="line">    &lt;xr-light type=&quot;directional&quot; rotation=&quot;40 0 0&quot; color=&quot;1 1 1&quot; intensity=&quot;3&quot;/&gt;</span><br><span class="line">  &lt;/xr-node&gt;</span><br><span class="line">&lt;/xr-scene&gt;</span><br></pre></td></tr></table></figure><h6 id="2-1-通过加载器创建"><a href="#2-1-通过加载器创建" class="headerlink" title="2.1 通过加载器创建"></a>2.1 通过加载器创建</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;xr-asset-load</span><br><span class="line">  type=&quot;video-texture&quot; asset-id=&quot;cat&quot;</span><br><span class="line">  src=&quot;https://mmbizwxaminiprogram-1258344707.cos.ap-guangzhou.myqcloud.com/xr-frame/demo/videos/cat.mp4&quot; </span><br><span class="line">  options=&quot;autoPlay:true,loop:true,abortAudio:false,placeHolder:https://mmbizwxaminiprogram-1258344707.cos.ap-guangzhou.myqcloud.com/xr-frame/demo/videos/cat.jpg&quot;</span><br><span class="line">/&gt;</span><br><span class="line"></span><br><span class="line">// 或者使用代码加载视频</span><br><span class="line">scene.assets.loadAsset(&#123;</span><br><span class="line">  type: &#x27;video-texture&#x27;, assetId: &#x27;vt&#x27;, src: &#x27;/assets/video.mp4&#x27;,</span><br><span class="line">  options: &#123;autoPlay: true&#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>&emsp;&emsp;注意到视频纹理的几个选项，autoPlay 开启后视频加载成功时会自动播放，loop 开启时会循环播放，abortAudio 用于指定是否要禁止声音（默认禁止），placeHolder 则是作为视频尚未加载成功时的一个占位图，可选。特别注意，placeHolder 的尺寸必须和视频完全一致！！！</p><h6 id="2-2-代码创建"><a href="#2-2-代码创建" class="headerlink" title="2.2 代码创建"></a>2.2 代码创建</h6><p>&emsp;&emsp;视频纹理也可以手动在代码中创建。注意这是个异步方法，在有placeHolder时会在图片加载完毕时返回，否则将在视频准备好时返回。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">const vt = await createVideoTexture(&#123;src, autoPlay, loop, placeHolder&#125;);</span><br></pre></td></tr></table></figure><p>&emsp;&emsp;对视频加以控制。注意，如果是自己创建的视频资源，请务必自己调用release方法释放！！</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">// 开始播放，异步方法</span><br><span class="line">await vt.play();</span><br><span class="line"></span><br><span class="line">// 从`pos`秒开始播放，异步方法</span><br><span class="line">await vt.seek(pos);</span><br><span class="line"></span><br><span class="line">// 停止播放</span><br><span class="line">vt.stop();</span><br><span class="line"></span><br><span class="line">// 释放视频</span><br><span class="line">vt.release();</span><br><span class="line"></span><br><span class="line">// 在播放结束并且非loop的情况下，会执行</span><br><span class="line">vt.onEnd = () =&gt; &#123;&#125;;</span><br><span class="line"></span><br><span class="line">// 在基础库`v2.33.0`及以上，提供了暂停/唤醒方法</span><br><span class="line">// 同时可以配合新暴露的播放状态使用</span><br><span class="line">const xrSystem = wx.getXrFrameSystem();</span><br><span class="line">if (vt.state === xrSystem.EVideoState.Playing) &#123;</span><br><span class="line">  vt.pause();</span><br><span class="line">&#125; else if (vt.state === xrSystem.EVideoState.Paused) &#123;</span><br><span class="line">  vt.resume();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&emsp;&emsp;添加到资源系统中。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">const vt = await createVideoTexture(&#123;src, autoPlay, loop, placeHolder&#125;);</span><br><span class="line"></span><br><span class="line">// 当然，也可以添加到资源系统中</span><br><span class="line">scene.assets.addAsset(&#x27;video-texture&#x27;, &#x27;vt&#x27;, vt);</span><br></pre></td></tr></table></figure><h6 id="2-3-在-mesh-上挂载视频"><a href="#2-3-在-mesh-上挂载视频" class="headerlink" title="2.3 在 mesh 上挂载视频"></a>2.3 在 mesh 上挂载视频</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;xr-mesh</span><br><span class="line">  node-id=&quot;mesh-cube&quot; scale=&quot;1.6 0.9 0.9&quot;</span><br><span class="line">  geometry=&quot;cube&quot; material=&quot;standard-mat&quot;</span><br><span class="line">  uniforms=&quot;u_baseColorMap:video-cat&quot;</span><br><span class="line">  cube-shape=&quot;autoFit:true&quot;</span><br><span class="line">  bind:touch-shape=&quot;handleTouchCube&quot;</span><br><span class="line">/&gt;</span><br></pre></td></tr></table></figure><p>&emsp;&emsp;其中 uniforms 里绑定了相应的 asset-id。</p><h6 id="2-4-在-env-上挂载视频"><a href="#2-4-在-env-上挂载视频" class="headerlink" title="2.4 在 env 上挂载视频"></a>2.4 在 env 上挂载视频</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;xr-env sky-map=&quot;video-skybox&quot; /&gt;</span><br><span class="line"></span><br><span class="line">&lt;xr-camera</span><br><span class="line">  id=&quot;camera&quot; node-id=&quot;camera&quot; position=&quot;0 0 3&quot; clear-color=&quot;0.925 0.925 0.925 1&quot;</span><br><span class="line">  target=&quot;target&quot; background=&quot;skybox&quot; camera-orbit-control=&quot;&quot;</span><br><span class="line">&gt;&lt;/xr-camera&gt;</span><br></pre></td></tr></table></figure><p>&emsp;&emsp;其中 env、camera 都绑定了相应的 asset-id，作为天空盒呈现。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h5 id=&quot;1-项目地址&quot;&gt;&lt;a href=&quot;#1-项目地址&quot; class=&quot;headerlink&quot; title=&quot;1 项目地址&quot;&gt;&lt;/a&gt;1 项目地址&lt;/h5&gt;&lt;p&gt;官方项目地址：&lt;a class=&quot;link&quot;   href=&quot;https://github.com/dtys</summary>
      
    
    
    
    <category term="微信小程序" scheme="http://example.com/categories/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/"/>
    
    <category term="xr-frame" scheme="http://example.com/categories/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/xr-frame/"/>
    
    
    <category term="微信小程序" scheme="http://example.com/tags/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/"/>
    
    <category term="xr-frame" scheme="http://example.com/tags/xr-frame/"/>
    
  </entry>
  
  <entry>
    <title>XR-FRAME - 基础能力 - Animation动画</title>
    <link href="http://example.com/2023/12/13/XR-FRAME-%E5%9F%BA%E7%A1%80%E8%83%BD%E5%8A%9B-Animation%E5%8A%A8%E7%94%BB/"/>
    <id>http://example.com/2023/12/13/XR-FRAME-%E5%9F%BA%E7%A1%80%E8%83%BD%E5%8A%9B-Animation%E5%8A%A8%E7%94%BB/</id>
    <published>2023-12-13T06:55:58.000Z</published>
    <updated>2023-12-14T06:55:11.526Z</updated>
    
    <content type="html"><![CDATA[<h5 id="1-项目地址"><a href="#1-项目地址" class="headerlink" title="1 项目地址"></a>1 项目地址</h5><p>官方项目地址：<a class="link"   href="https://github.com/dtysky/xr-frame-demo/tree/master/miniprogram/components/xr-basic-animation" >https://github.com/dtysky/xr-frame-demo/tree/master/miniprogram/components/xr-basic-animation<i class="fas fa-external-link-alt"></i></a></p><h5 id="2-代码解析"><a href="#2-代码解析" class="headerlink" title="2 代码解析"></a>2 代码解析</h5><p>主要代码：</p><p>index.wxml 文件<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">&lt;xr-scene id=&quot;xr-scene&quot; bind:ready=&quot;handleReady&quot;&gt;</span><br><span class="line">  &lt;xr-assets bind:progress=&quot;handleAssetsProgress&quot; bind:loaded=&quot;handleAssetsLoaded&quot;&gt;</span><br><span class="line">    &lt;xr-asset-load asset-id=&quot;basic-anim&quot; type=&quot;keyframe&quot; src=&quot;/assets/animation/basic-animation.json&quot;/&gt;</span><br><span class="line">    &lt;xr-asset-load type=&quot;texture&quot; asset-id=&quot;waifu&quot; src=&quot;/assets/waifu.png&quot; /&gt;</span><br><span class="line">    &lt;xr-asset-material asset-id=&quot;standard-mat&quot; effect=&quot;standard&quot; /&gt;</span><br><span class="line">  &lt;/xr-assets&gt;</span><br><span class="line">  &lt;xr-node&gt;</span><br><span class="line">    &lt;xr-node node-id=&quot;camera-target&quot; position=&quot;0 0 0&quot;&gt;&lt;/xr-node&gt;</span><br><span class="line">    &lt;xr-mesh</span><br><span class="line">      node-id=&quot;mesh-plane&quot; position=&quot;0 -0.8 0&quot; rotation=&quot;0 0 0&quot; scale=&quot;10 1 8&quot; geometry=&quot;plane&quot; material=&quot;standard-mat&quot; uniforms=&quot;u_baseColorFactor:0.48 0.78 0.64 1&quot; states=&quot;cullOn: false&quot;</span><br><span class="line">      anim-keyframe=&quot;basic-anim&quot; anim-autoplay=&quot;clip:plane, speed:4&quot;</span><br><span class="line">      receive-shadow</span><br><span class="line">    &gt;&lt;/xr-mesh&gt;</span><br><span class="line">    &lt;xr-mesh</span><br><span class="line">      node-id=&quot;mesh-cube&quot; position=&quot;-3 0 2&quot; scale=&quot;1 1 1&quot; rotation=&quot;0 0 0&quot; geometry=&quot;cube&quot; material=&quot;standard-mat&quot; uniforms=&quot;u_baseColorFactor:0.298 0.764 0.85 1&quot;</span><br><span class="line">      anim-keyframe=&quot;basic-anim&quot; anim-clipmap=&quot;default:cube&quot; anim-autoplay=&quot;clip:cube, speed:2&quot;</span><br><span class="line">      cast-shadow</span><br><span class="line">    &gt;&lt;/xr-mesh&gt;</span><br><span class="line">    ......</span><br><span class="line">    &lt;xr-mesh node-id=&quot;mesh-light-cube&quot; position=&quot;-5 1 0&quot; scale=&quot;0.5 10 10&quot; rotation=&quot;0 0 0&quot; geometry=&quot;cube&quot; material=&quot;standard-mat&quot; uniforms=&quot;u_baseColorFactor:0.3 0.3 0.3 1, u_baseColorMap: waifu&quot;&gt;&lt;/xr-mesh&gt;</span><br><span class="line">    &lt;xr-camera</span><br><span class="line">      id=&quot;camera&quot; node-id=&quot;camera&quot; position=&quot;5 3 0&quot; clear-color=&quot;0.925 0.925 0.925 1&quot;</span><br><span class="line">      target=&quot;camera-target&quot;</span><br><span class="line">      camera-orbit-control=&quot;&quot;</span><br><span class="line">    &gt;&lt;/xr-camera&gt;</span><br><span class="line">  &lt;/xr-node&gt;</span><br><span class="line">  &lt;xr-node node-id=&quot;lights&quot;&gt;</span><br><span class="line">    &lt;xr-light type=&quot;ambient&quot; color=&quot;1 1 1&quot; intensity=&quot;1&quot; /&gt;</span><br><span class="line">    &lt;xr-light type=&quot;directional&quot; rotation=&quot;30 230 0&quot; color=&quot;1 1 1&quot; intensity=&quot;3&quot; cast-shadow/&gt;</span><br><span class="line">    &lt;xr-light</span><br><span class="line">      type=&quot;spot&quot; position=&quot;-4 1 0&quot; rotation=&quot;0 -90 0&quot; color=&quot;0 1 0&quot; range=&quot;20&quot; intensity=&quot;100&quot; inner-cone-angle=&quot;20&quot; outer-cone-angle=&quot;60&quot;</span><br><span class="line">      anim-keyframe=&quot;basic-anim&quot; anim-autoplay=&quot;clip:spotLight, speed:2&quot;</span><br><span class="line">    /&gt;</span><br><span class="line">&lt;/xr-node&gt;</span><br><span class="line">&lt;/xr-scene&gt;</span><br></pre></td></tr></table></figure></p><p>basic-animation.json 文件<br><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;keyframe&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;cube&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;0&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;position&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="number">-3</span><span class="punctuation">,</span> <span class="number">0</span><span class="punctuation">,</span> <span class="number">2</span><span class="punctuation">]</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;50&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;rotation&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="number">0</span><span class="punctuation">,</span> <span class="number">0</span><span class="punctuation">,</span> <span class="number">0</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;scale&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="number">1</span><span class="punctuation">,</span> <span class="number">1</span><span class="punctuation">,</span> <span class="number">1</span><span class="punctuation">]</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;100&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;position&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="number">3</span><span class="punctuation">,</span> <span class="number">0</span><span class="punctuation">,</span> <span class="number">2</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;rotation&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="number">0</span><span class="punctuation">,</span> <span class="number">3.14</span><span class="punctuation">,</span> <span class="number">0</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;scale&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="number">1.4</span><span class="punctuation">,</span> <span class="number">1.4</span><span class="punctuation">,</span> <span class="number">1.4</span><span class="punctuation">]</span></span><br><span class="line">      <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    ......</span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;animation&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;default&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;keyframe&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cube&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;duration&quot;</span><span class="punctuation">:</span> <span class="number">1</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;ease&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ease-in-out&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;loop&quot;</span><span class="punctuation">:</span> <span class="number">400000</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;delay&quot;</span><span class="punctuation">:</span> <span class="number">1</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;direction&quot;</span><span class="punctuation">:</span> <span class="string">&quot;both&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    ......</span><br><span class="line">    <span class="attr">&quot;spotLight&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;keyframe&quot;</span><span class="punctuation">:</span> <span class="string">&quot;spotLight&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;duration&quot;</span><span class="punctuation">:</span> <span class="number">2</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;ease&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ease-in-out&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;loop&quot;</span><span class="punctuation">:</span> <span class="number">400000</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;delay&quot;</span><span class="punctuation">:</span> <span class="number">1</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;direction&quot;</span><span class="punctuation">:</span> <span class="string">&quot;both&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure></p><h6 id="2-1-首先定义动画"><a href="#2-1-首先定义动画" class="headerlink" title="2.1 首先定义动画"></a>2.1 首先定义动画</h6><p>&emsp;&emsp;可以看到其中有两个部分：keyframe 和 animation。<br>&emsp;&emsp;keyframe 中定义了帧动画具体的行为，本质上类似于 css3 中的 keyframes，其中进度的范围是 0~100，每个进度下是动画具体影响的键和值。属性的值仅仅支持 number、number-array 和 color 类型的数据，可以有 position、rotation、scale、material(material.u_baseColorFactor) 等。<br>&emsp;&emsp;animation 中定义了暴露给 animator 的片段，其中第一级的每个键都是片段的名字，它对应的值就是其作为动画播放时的一些参数。keyframe 定义这个片段对应于上面定义的哪个 keyframe，duration 是以秒为单位的时长，loop 是默认循环次数（-1为永远循环），delay 是播放延迟，direction 是播放方向，默认 forwards，可选 backwards 和 both（在循环时交替前向反向），ease 则是时间函数，决定动画的插值曲线。</p><h6 id="2-2-把动画作为资源引入-xml"><a href="#2-2-把动画作为资源引入-xml" class="headerlink" title="2.2 把动画作为资源引入 xml"></a>2.2 把动画作为资源引入 xml</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;xr-asset-load asset-id=&quot;basic-anim&quot; type=&quot;keyframe&quot; src=&quot;/assets/animation/basic-animation.json&quot;/&gt;</span><br></pre></td></tr></table></figure><p>&emsp;&emsp;其中 asset-id 为给资源绑定的 id，type 为 keyframe 类型。</p><h6 id="2-3-给-mesh-或-light-等绑定动画"><a href="#2-3-给-mesh-或-light-等绑定动画" class="headerlink" title="2.3 给 mesh 或 light 等绑定动画"></a>2.3 给 mesh 或 light 等绑定动画</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;xr-mesh</span><br><span class="line">  node-id=&quot;mesh-cube&quot; position=&quot;-3 0 2&quot; scale=&quot;1 1 1&quot; rotation=&quot;0 0 0&quot; geometry=&quot;cube&quot; material=&quot;standard-mat&quot; uniforms=&quot;u_baseColorFactor:0.298 0.764 0.85 1&quot;</span><br><span class="line">  anim-keyframe=&quot;basic-anim&quot; anim-clipmap=&quot;default:cube&quot; anim-autoplay=&quot;clip:cube, speed:2&quot;</span><br><span class="line">  cast-shadow</span><br><span class="line">&gt;&lt;/xr-mesh&gt;</span><br><span class="line"></span><br><span class="line">&lt;xr-light</span><br><span class="line">  type=&quot;spot&quot; position=&quot;-4 1 0&quot; rotation=&quot;0 -90 0&quot; color=&quot;0 1 0&quot; range=&quot;20&quot; intensity=&quot;100&quot; inner-cone-angle=&quot;20&quot; outer-cone-angle=&quot;60&quot;</span><br><span class="line">  anim-keyframe=&quot;basic-anim&quot; anim-autoplay=&quot;clip:spotLight, speed:2&quot;</span><br><span class="line">/&gt;</span><br></pre></td></tr></table></figure><p>&emsp;&emsp;其中 anim-keyframe 绑定了 asset-id，anim-autoplay 绑定了动画名。<br>&emsp;&emsp;anim-autoplay 指定了是否要默认播放以及默认播放的片段和参数，如果不写 clip 数据则会播放所有的片段。anim-clipmap 则是给默认加载的动画指定一个片段映射，而这个默认的动画就是 anim-keyframe 指定的。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h5 id=&quot;1-项目地址&quot;&gt;&lt;a href=&quot;#1-项目地址&quot; class=&quot;headerlink&quot; title=&quot;1 项目地址&quot;&gt;&lt;/a&gt;1 项目地址&lt;/h5&gt;&lt;p&gt;官方项目地址：&lt;a class=&quot;link&quot;   href=&quot;https://github.com/dtys</summary>
      
    
    
    
    <category term="微信小程序" scheme="http://example.com/categories/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/"/>
    
    <category term="xr-frame" scheme="http://example.com/categories/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/xr-frame/"/>
    
    
    <category term="微信小程序" scheme="http://example.com/tags/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/"/>
    
    <category term="xr-frame" scheme="http://example.com/tags/xr-frame/"/>
    
  </entry>
  
  <entry>
    <title>编程式导航</title>
    <link href="http://example.com/2023/12/13/%E7%BC%96%E7%A8%8B%E5%BC%8F%E5%AF%BC%E8%88%AA/"/>
    <id>http://example.com/2023/12/13/%E7%BC%96%E7%A8%8B%E5%BC%8F%E5%AF%BC%E8%88%AA/</id>
    <published>2023-12-13T06:03:04.000Z</published>
    <updated>2023-12-14T02:45:37.818Z</updated>
    
    <content type="html"><![CDATA[<h4 id="1-基本跳转"><a href="#1-基本跳转" class="headerlink" title="1 基本跳转"></a>1 基本跳转</h4><h5 id="1-1-path-路径跳转"><a href="#1-1-path-路径跳转" class="headerlink" title="1.1 path 路径跳转"></a>1.1 path 路径跳转</h5><h6 id="1-1-1-配置路由"><a href="#1-1-1-配置路由" class="headerlink" title="1.1.1 配置路由"></a>1.1.1 配置路由</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// router/index.js中</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">path</span>: <span class="string">&#x27;/path&#x27;</span>,</span><br><span class="line">  <span class="attr">component</span>: ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="1-1-2-路径跳转"><a href="#1-1-2-路径跳转" class="headerlink" title="1.1.2 路径跳转"></a>1.1.2 路径跳转</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">push</span>(<span class="string">&#x27;/path&#x27;</span>)</span><br></pre></td></tr></table></figure><h5 id="1-2-name-命名路由跳转"><a href="#1-2-name-命名路由跳转" class="headerlink" title="1.2 name 命名路由跳转"></a>1.2 name 命名路由跳转</h5><h6 id="1-2-1-配置路由"><a href="#1-2-1-配置路由" class="headerlink" title="1.2.1 配置路由"></a>1.2.1 配置路由</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// router/index.js中</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;路由名&#x27;</span>,</span><br><span class="line">  <span class="attr">path</span>: <span class="string">&#x27;/path&#x27;</span>,</span><br><span class="line">  <span class="attr">component</span>: ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="1-2-2-路由跳转"><a href="#1-2-2-路由跳转" class="headerlink" title="1.2.2 路由跳转"></a>1.2.2 路由跳转</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">push</span>(&#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;路由名&#x27;</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h4 id="2-路由传参"><a href="#2-路由传参" class="headerlink" title="2 路由传参"></a>2 路由传参</h4><h5 id="2-1-path-路径跳转传参-查询参数传参"><a href="#2-1-path-路径跳转传参-查询参数传参" class="headerlink" title="2.1 path 路径跳转传参 - 查询参数传参"></a>2.1 path 路径跳转传参 - 查询参数传参</h5><h6 id="2-1-1-配置路由"><a href="#2-1-1-配置路由" class="headerlink" title="2.1.1 配置路由"></a>2.1.1 配置路由</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">path</span>: <span class="string">&#x27;/path&#x27;</span>,</span><br><span class="line">  <span class="attr">component</span>: ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="2-1-2-跳转传参"><a href="#2-1-2-跳转传参" class="headerlink" title="2.1.2 跳转传参"></a>2.1.2 跳转传参</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">push</span>(<span class="string">&#x27;/path?参数名1=参数值1&amp;参数名2=参数值2&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 或者</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">push</span>(&#123;</span><br><span class="line">  <span class="attr">path</span>: <span class="string">&#x27;/path&#x27;</span>,</span><br><span class="line">  <span class="attr">query</span>: &#123;</span><br><span class="line">    参数名<span class="number">1</span>: 参数值<span class="number">1</span>,</span><br><span class="line">    参数名<span class="number">2</span>: 参数值<span class="number">2</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h6 id="2-1-3-对应组件接收传递过来的值"><a href="#2-1-3-对应组件接收传递过来的值" class="headerlink" title="2.1.3 对应组件接收传递过来的值"></a>2.1.3 对应组件接收传递过来的值</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$route.<span class="property">query</span>.参数名</span><br></pre></td></tr></table></figure><h5 id="2-2-path-路径跳转传参-动态路由传参"><a href="#2-2-path-路径跳转传参-动态路由传参" class="headerlink" title="2.2 path 路径跳转传参 - 动态路由传参"></a>2.2 path 路径跳转传参 - 动态路由传参</h5><h6 id="2-2-1-配置路由"><a href="#2-2-1-配置路由" class="headerlink" title="2.2.1 配置路由"></a>2.2.1 配置路由</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">path</span>: <span class="string">&#x27;/path/:参数名&#x27;</span>,</span><br><span class="line">  <span class="attr">component</span>: ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="2-2-2-跳转传参"><a href="#2-2-2-跳转传参" class="headerlink" title="2.2.2 跳转传参"></a>2.2.2 跳转传参</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">push</span>(<span class="string">&#x27;/path/参数值&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 或者</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">push</span>(&#123;</span><br><span class="line">  <span class="attr">path</span>: <span class="string">&#x27;/path/参数值&#x27;</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h6 id="2-2-3-对应组件接收传递过来的值"><a href="#2-2-3-对应组件接收传递过来的值" class="headerlink" title="2.2.3 对应组件接收传递过来的值"></a>2.2.3 对应组件接收传递过来的值</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$route.<span class="property">params</span>.参数名</span><br></pre></td></tr></table></figure><h5 id="2-3-name-命名路由跳转传参-查询参数传参"><a href="#2-3-name-命名路由跳转传参-查询参数传参" class="headerlink" title="2.3 name 命名路由跳转传参 - 查询参数传参"></a>2.3 name 命名路由跳转传参 - 查询参数传参</h5><h6 id="2-3-1-配置路由"><a href="#2-3-1-配置路由" class="headerlink" title="2.3.1 配置路由"></a>2.3.1 配置路由</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;路由名&#x27;</span>,</span><br><span class="line">  <span class="attr">path</span>: <span class="string">&#x27;/path&#x27;</span>,</span><br><span class="line">  <span class="attr">component</span>: ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="2-3-2-跳转传参"><a href="#2-3-2-跳转传参" class="headerlink" title="2.3.2 跳转传参"></a>2.3.2 跳转传参</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">push</span>(&#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;路由名&#x27;</span>,</span><br><span class="line">  <span class="attr">query</span>: &#123;</span><br><span class="line">    参数名<span class="number">1</span>: 参数值<span class="number">1</span>,</span><br><span class="line">    参数名<span class="number">2</span>: 参数值<span class="number">2</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h6 id="2-3-3-对应组件接收传递过来的值"><a href="#2-3-3-对应组件接收传递过来的值" class="headerlink" title="2.3.3 对应组件接收传递过来的值"></a>2.3.3 对应组件接收传递过来的值</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$route.<span class="property">query</span>.参数名</span><br></pre></td></tr></table></figure><h5 id="2-4-name-命名路由跳转传参-动态路由传参"><a href="#2-4-name-命名路由跳转传参-动态路由传参" class="headerlink" title="2.4 name 命名路由跳转传参 - 动态路由传参"></a>2.4 name 命名路由跳转传参 - 动态路由传参</h5><h6 id="2-4-1-配置路由"><a href="#2-4-1-配置路由" class="headerlink" title="2.4.1 配置路由"></a>2.4.1 配置路由</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;路由名&#x27;</span>,</span><br><span class="line">  <span class="attr">path</span>: <span class="string">&#x27;/path/:参数名&#x27;</span>,</span><br><span class="line">  <span class="attr">component</span>: ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="2-4-2-跳转传参"><a href="#2-4-2-跳转传参" class="headerlink" title="2.4.2 跳转传参"></a>2.4.2 跳转传参</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">push</span>(&#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;路由名&#x27;</span>,</span><br><span class="line">  <span class="attr">params</span>: &#123;</span><br><span class="line">    参数名: 参数值</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h6 id="2-4-3-对应组件接收传递过来的值"><a href="#2-4-3-对应组件接收传递过来的值" class="headerlink" title="2.4.3 对应组件接收传递过来的值"></a>2.4.3 对应组件接收传递过来的值</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$route.<span class="property">params</span>.参数名</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h4 id=&quot;1-基本跳转&quot;&gt;&lt;a href=&quot;#1-基本跳转&quot; class=&quot;headerlink&quot; title=&quot;1 基本跳转&quot;&gt;&lt;/a&gt;1 基本跳转&lt;/h4&gt;&lt;h5 id=&quot;1-1-path-路径跳转&quot;&gt;&lt;a href=&quot;#1-1-path-路径跳转&quot; class=&quot;he</summary>
      
    
    
    
    <category term="Vue2" scheme="http://example.com/categories/Vue2/"/>
    
    <category term="Vue2 基础" scheme="http://example.com/categories/Vue2/Vue2-%E5%9F%BA%E7%A1%80/"/>
    
    
    <category term="Vue2" scheme="http://example.com/tags/Vue2/"/>
    
  </entry>
  
  <entry>
    <title>声明式导航-跳转传参</title>
    <link href="http://example.com/2023/12/13/%E5%A3%B0%E6%98%8E%E5%BC%8F%E5%AF%BC%E8%88%AA-%E8%B7%B3%E8%BD%AC%E4%BC%A0%E5%8F%82/"/>
    <id>http://example.com/2023/12/13/%E5%A3%B0%E6%98%8E%E5%BC%8F%E5%AF%BC%E8%88%AA-%E8%B7%B3%E8%BD%AC%E4%BC%A0%E5%8F%82/</id>
    <published>2023-12-13T04:14:39.000Z</published>
    <updated>2023-12-13T04:48:01.791Z</updated>
    
    <content type="html"><![CDATA[<h5 id="1-查询参数传参"><a href="#1-查询参数传参" class="headerlink" title="1 查询参数传参"></a>1 查询参数传参</h5><h6 id="1-1-配置动态路由"><a href="#1-1-配置动态路由" class="headerlink" title="1.1 配置动态路由"></a>1.1 配置动态路由</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// router/index.js中</span></span><br><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> <span class="title class_">VueRouter</span>(&#123;</span><br><span class="line">  <span class="attr">routes</span>: [</span><br><span class="line">    ...,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">path</span>: <span class="string">&#x27;/search&#x27;</span>,</span><br><span class="line">      <span class="attr">component</span>: <span class="title class_">Search</span></span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h6 id="1-2-配置导航链接"><a href="#1-2-配置导航链接" class="headerlink" title="1.2 配置导航链接"></a>1.2 配置导航链接</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">to=<span class="string">&quot;/search?参数名=参数值&quot;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h6 id="1-3-对应组件接收传递过来的值"><a href="#1-3-对应组件接收传递过来的值" class="headerlink" title="1.3 对应组件接收传递过来的值"></a>1.3 对应组件接收传递过来的值</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$route.<span class="property">query</span>.参数名</span><br></pre></td></tr></table></figure><h5 id="2-动态路由传参"><a href="#2-动态路由传参" class="headerlink" title="2 动态路由传参"></a>2 动态路由传参</h5><h6 id="2-1-配置动态路由"><a href="#2-1-配置动态路由" class="headerlink" title="2.1 配置动态路由"></a>2.1 配置动态路由</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// router/index.js中</span></span><br><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> <span class="title class_">VueRouter</span>(&#123;</span><br><span class="line">  <span class="attr">routes</span>: [</span><br><span class="line">    ...,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">path</span>: <span class="string">&#x27;/search/:参数名&#x27;</span>,</span><br><span class="line">      <span class="attr">component</span>: <span class="title class_">Search</span></span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h6 id="2-2-配置导航链接"><a href="#2-2-配置导航链接" class="headerlink" title="2.2 配置导航链接"></a>2.2 配置导航链接</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">to=<span class="string">&quot;/search/参数值&quot;</span></span><br></pre></td></tr></table></figure><h6 id="2-3-对应组件接收传递过来的值"><a href="#2-3-对应组件接收传递过来的值" class="headerlink" title="2.3 对应组件接收传递过来的值"></a>2.3 对应组件接收传递过来的值</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$route.<span class="property">params</span>.参数名</span><br></pre></td></tr></table></figure><h5 id="3-两种传参方式的区别"><a href="#3-两种传参方式的区别" class="headerlink" title="3 两种传参方式的区别"></a>3 两种传参方式的区别</h5><h6 id="3-1-查询参数传参"><a href="#3-1-查询参数传参" class="headerlink" title="3.1 查询参数传参"></a>3.1 查询参数传参</h6><p>比较适合传多个参数<br>跳转：<code>to=&quot;/path?参数名1=参数值1&amp;参数名2=参数值2&quot;</code><br>获取：<code>$route.query.参数名</code></p><h6 id="3-2-动态路由传参"><a href="#3-2-动态路由传参" class="headerlink" title="3.2 动态路由传参"></a>3.2 动态路由传参</h6><p>传单个参数比较方便<br>配置动态路由：<code>path: &quot;/path/:参数名&quot;</code><br>跳转：<code>to=&quot;/path/参数值&quot;</code><br>获取：<code>$route.params.参数名</code></p><h5 id="4-小问题"><a href="#4-小问题" class="headerlink" title="4 小问题"></a>4 小问题</h5><p>问题：配置了路由<code>path:&quot;/path/:id&quot;</code>，为什么<code>to=&quot;/path&quot;</code>，会未匹配到组件，显示空白？<br>原因：<code>/path/:id</code>表示必须要传参，如果不传参也希望匹配，可以加个可选符“？”，<code>&#123;path: &quot;/path/:id?&quot;, component: ...&#125;</code></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h5 id=&quot;1-查询参数传参&quot;&gt;&lt;a href=&quot;#1-查询参数传参&quot; class=&quot;headerlink&quot; title=&quot;1 查询参数传参&quot;&gt;&lt;/a&gt;1 查询参数传参&lt;/h5&gt;&lt;h6 id=&quot;1-1-配置动态路由&quot;&gt;&lt;a href=&quot;#1-1-配置动态路由&quot; class=&quot;</summary>
      
    
    
    
    <category term="Vue2" scheme="http://example.com/categories/Vue2/"/>
    
    <category term="Vue2 基础" scheme="http://example.com/categories/Vue2/Vue2-%E5%9F%BA%E7%A1%80/"/>
    
    
    <category term="Vue2" scheme="http://example.com/tags/Vue2/"/>
    
  </entry>
  
  <entry>
    <title>props中默认为对象时的写法</title>
    <link href="http://example.com/2023/12/13/props%E4%B8%AD%E9%BB%98%E8%AE%A4%E4%B8%BA%E5%AF%B9%E8%B1%A1%E6%97%B6%E7%9A%84%E5%86%99%E6%B3%95/"/>
    <id>http://example.com/2023/12/13/props%E4%B8%AD%E9%BB%98%E8%AE%A4%E4%B8%BA%E5%AF%B9%E8%B1%A1%E6%97%B6%E7%9A%84%E5%86%99%E6%B3%95/</id>
    <published>2023-12-13T03:18:14.000Z</published>
    <updated>2023-12-13T03:19:23.985Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;GoodsItem&#x27;</span>,</span><br><span class="line">  <span class="attr">props</span>: &#123;</span><br><span class="line">    <span class="attr">item</span>: &#123;</span><br><span class="line">      <span class="attr">type</span>: <span class="title class_">Object</span>,</span><br><span class="line">      <span class="comment">// 写成函数</span></span><br><span class="line">      <span class="attr">default</span>: <span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;&#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;l</summary>
      
    
    
    
    <category term="Vue2" scheme="http://example.com/categories/Vue2/"/>
    
    <category term="Vue2 基础" scheme="http://example.com/categories/Vue2/Vue2-%E5%9F%BA%E7%A1%80/"/>
    
    
    <category term="Vue2" scheme="http://example.com/tags/Vue2/"/>
    
  </entry>
  
  <entry>
    <title>Vant 组件 - Grid 宫格</title>
    <link href="http://example.com/2023/12/13/vant%E7%BB%84%E4%BB%B6-Grid%E5%AE%AB%E6%A0%BC/"/>
    <id>http://example.com/2023/12/13/vant%E7%BB%84%E4%BB%B6-Grid%E5%AE%AB%E6%A0%BC/</id>
    <published>2023-12-13T02:31:33.000Z</published>
    <updated>2023-12-15T06:02:39.493Z</updated>
    
    <content type="html"><![CDATA[<h5 id="1-注册安装"><a href="#1-注册安装" class="headerlink" title="1 注册安装"></a>1 注册安装</h5><p>官网：<a class="link"   href="https://vant-contrib.gitee.io/vant/v2/#/zh-CN/grid" >https://vant-contrib.gitee.io/vant/v2/#/zh-CN/grid<i class="fas fa-external-link-alt"></i></a></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Grid</span>, <span class="title class_">GridItem</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;vant&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">Grid</span>)</span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">GridItem</span>)</span><br></pre></td></tr></table></figure><h5 id="2-使用方式"><a href="#2-使用方式" class="headerlink" title="2 使用方式"></a>2 使用方式</h5><p>通过 icon 属性设置格子内的图标，text 属性设置文字内容。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;van-grid&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">van-grid-item</span> <span class="attr">icon</span>=<span class="string">&quot;photo-o&quot;</span> <span class="attr">text</span>=<span class="string">&quot;文字&quot;</span> /&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">van-grid-item</span> <span class="attr">icon</span>=<span class="string">&quot;photo-o&quot;</span> <span class="attr">text</span>=<span class="string">&quot;文字&quot;</span> /&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">van-grid-item</span> <span class="attr">icon</span>=<span class="string">&quot;photo-o&quot;</span> <span class="attr">text</span>=<span class="string">&quot;文字&quot;</span> /&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">van-grid-item</span> <span class="attr">icon</span>=<span class="string">&quot;photo-o&quot;</span> <span class="attr">text</span>=<span class="string">&quot;文字&quot;</span> /&gt;</span></span></span><br><span class="line">&lt;/van-grid&gt;</span><br></pre></td></tr></table></figure></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h5 id=&quot;1-注册安装&quot;&gt;&lt;a href=&quot;#1-注册安装&quot; class=&quot;headerlink&quot; title=&quot;1 注册安装&quot;&gt;&lt;/a&gt;1 注册安装&lt;/h5&gt;&lt;p&gt;官网：&lt;a class=&quot;link&quot;   href=&quot;https://vant-contrib.gitee.</summary>
      
    
    
    
    <category term="Vue2" scheme="http://example.com/categories/Vue2/"/>
    
    <category term="Vant 组件库" scheme="http://example.com/categories/Vue2/Vant-%E7%BB%84%E4%BB%B6%E5%BA%93/"/>
    
    
    <category term="Vue2" scheme="http://example.com/tags/Vue2/"/>
    
    <category term="Vant 组件库" scheme="http://example.com/tags/Vant-%E7%BB%84%E4%BB%B6%E5%BA%93/"/>
    
  </entry>
  
  <entry>
    <title>Vant 组件 - Swipe 轮播</title>
    <link href="http://example.com/2023/12/13/vant%E7%BB%84%E4%BB%B6-Swipe%E8%BD%AE%E6%92%AD/"/>
    <id>http://example.com/2023/12/13/vant%E7%BB%84%E4%BB%B6-Swipe%E8%BD%AE%E6%92%AD/</id>
    <published>2023-12-13T02:27:34.000Z</published>
    <updated>2023-12-15T06:03:03.475Z</updated>
    
    <content type="html"><![CDATA[<h5 id="1-注册安装"><a href="#1-注册安装" class="headerlink" title="1 注册安装"></a>1 注册安装</h5><p>官网：<a class="link"   href="https://vant-contrib.gitee.io/vant/v2/#/zh-CN/swipe" >https://vant-contrib.gitee.io/vant/v2/#/zh-CN/swipe<i class="fas fa-external-link-alt"></i></a></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Swipe</span>, <span class="title class_">SwipeItem</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;vant&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">Swipe</span>)</span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">SwipeItem</span>)</span><br></pre></td></tr></table></figure><h5 id="2-使用方式"><a href="#2-使用方式" class="headerlink" title="2 使用方式"></a>2 使用方式</h5><p>每个 SwipeItem 代表一张轮播卡片，可以通过 autoplay 属性设置自动轮播的间隔。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;van-swipe <span class="keyword">class</span>=<span class="string">&quot;my-swipe&quot;</span> :autoplay=<span class="string">&quot;3000&quot;</span> indicator-color=<span class="string">&quot;white&quot;</span>&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">van-swipe-item</span>&gt;</span>1<span class="tag">&lt;/<span class="name">van-swipe-item</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">van-swipe-item</span>&gt;</span>2<span class="tag">&lt;/<span class="name">van-swipe-item</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">van-swipe-item</span>&gt;</span>3<span class="tag">&lt;/<span class="name">van-swipe-item</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">van-swipe-item</span>&gt;</span>4<span class="tag">&lt;/<span class="name">van-swipe-item</span>&gt;</span></span></span><br><span class="line">&lt;/van-swipe&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="selector-class">.my-swipe</span> <span class="selector-class">.van-swipe-item</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="attribute">color</span>: <span class="number">#fff</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="attribute">font-size</span>: <span class="number">20px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="attribute">line-height</span>: <span class="number">150px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="attribute">text-align</span>: center;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="attribute">background-color</span>: <span class="number">#39a9ed</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br></pre></td></tr></table></figure></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h5 id=&quot;1-注册安装&quot;&gt;&lt;a href=&quot;#1-注册安装&quot; class=&quot;headerlink&quot; title=&quot;1 注册安装&quot;&gt;&lt;/a&gt;1 注册安装&lt;/h5&gt;&lt;p&gt;官网：&lt;a class=&quot;link&quot;   href=&quot;https://vant-contrib.gitee.</summary>
      
    
    
    
    <category term="Vue2" scheme="http://example.com/categories/Vue2/"/>
    
    <category term="Vant 组件库" scheme="http://example.com/categories/Vue2/Vant-%E7%BB%84%E4%BB%B6%E5%BA%93/"/>
    
    
    <category term="Vue2" scheme="http://example.com/tags/Vue2/"/>
    
    <category term="Vant 组件库" scheme="http://example.com/tags/Vant-%E7%BB%84%E4%BB%B6%E5%BA%93/"/>
    
  </entry>
  
  <entry>
    <title>Vant 组件 - Search 搜索框</title>
    <link href="http://example.com/2023/12/13/vant%E7%BB%84%E4%BB%B6-Search%E6%90%9C%E7%B4%A2%E6%A1%86/"/>
    <id>http://example.com/2023/12/13/vant%E7%BB%84%E4%BB%B6-Search%E6%90%9C%E7%B4%A2%E6%A1%86/</id>
    <published>2023-12-13T02:23:14.000Z</published>
    <updated>2023-12-15T06:02:52.760Z</updated>
    
    <content type="html"><![CDATA[<h5 id="1-注册安装"><a href="#1-注册安装" class="headerlink" title="1 注册安装"></a>1 注册安装</h5><p>官网：<a class="link"   href="https://vant-contrib.gitee.io/vant/v2/#/zh-CN/search" >https://vant-contrib.gitee.io/vant/v2/#/zh-CN/search<i class="fas fa-external-link-alt"></i></a></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Search</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;vant&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">Search</span>)</span><br></pre></td></tr></table></figure><h5 id="2-使用方式"><a href="#2-使用方式" class="headerlink" title="2 使用方式"></a>2 使用方式</h5><p>v-model 用于控制搜索框中的文字，background 可以自定义搜索框外部背景色。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;van-search v-model=<span class="string">&quot;value&quot;</span> placeholder=<span class="string">&quot;请输入搜索关键词&quot;</span> /&gt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">value</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h5 id=&quot;1-注册安装&quot;&gt;&lt;a href=&quot;#1-注册安装&quot; class=&quot;headerlink&quot; title=&quot;1 注册安装&quot;&gt;&lt;/a&gt;1 注册安装&lt;/h5&gt;&lt;p&gt;官网：&lt;a class=&quot;link&quot;   href=&quot;https://vant-contrib.gitee.</summary>
      
    
    
    
    <category term="Vue2" scheme="http://example.com/categories/Vue2/"/>
    
    <category term="Vant 组件库" scheme="http://example.com/categories/Vue2/Vant-%E7%BB%84%E4%BB%B6%E5%BA%93/"/>
    
    
    <category term="Vue2" scheme="http://example.com/tags/Vue2/"/>
    
    <category term="Vant 组件库" scheme="http://example.com/tags/Vant-%E7%BB%84%E4%BB%B6%E5%BA%93/"/>
    
  </entry>
  
  <entry>
    <title>XR-FRAME - 基础能力 - Light多光源</title>
    <link href="http://example.com/2023/12/12/XR-FRAME-%E5%9F%BA%E7%A1%80%E8%83%BD%E5%8A%9B-Light%E5%A4%9A%E5%85%89%E6%BA%90/"/>
    <id>http://example.com/2023/12/12/XR-FRAME-%E5%9F%BA%E7%A1%80%E8%83%BD%E5%8A%9B-Light%E5%A4%9A%E5%85%89%E6%BA%90/</id>
    <published>2023-12-12T08:24:22.000Z</published>
    <updated>2023-12-14T07:10:30.096Z</updated>
    
    <content type="html"><![CDATA[<h5 id="1-项目地址"><a href="#1-项目地址" class="headerlink" title="1 项目地址"></a>1 项目地址</h5><p>官方项目地址：<a class="link"   href="https://github.com/dtysky/xr-frame-demo/tree/master/miniprogram/components/xr-basic-light" >https://github.com/dtysky/xr-frame-demo/tree/master/miniprogram/components/xr-basic-light<i class="fas fa-external-link-alt"></i></a></p><h5 id="2-代码解析"><a href="#2-代码解析" class="headerlink" title="2 代码解析"></a>2 代码解析</h5><p>主要代码：<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;xr-scene id=&quot;xr-scene&quot; bind:ready=&quot;handleReady&quot;&gt;</span><br><span class="line">  &lt;xr-assets bind:progress=&quot;handleAssetsProgress&quot; bind:loaded=&quot;handleAssetsLoaded&quot;&gt;</span><br><span class="line">    &lt;xr-asset-material asset-id=&quot;standard-mat&quot; effect=&quot;standard&quot; /&gt;</span><br><span class="line">  &lt;/xr-assets&gt;</span><br><span class="line">  &lt;xr-node&gt;</span><br><span class="line">    &lt;xr-node node-id=&quot;camera-target&quot; position=&quot;0 0 0&quot;&gt;&lt;/xr-node&gt;</span><br><span class="line">    &lt;xr-mesh node-id=&quot;mesh-cube-floor&quot; position=&quot;2 -1.01 0&quot; rotation=&quot;0 0 0&quot; scale=&quot;10 1 10&quot; geometry=&quot;cube&quot; material=&quot;standard-mat&quot; uniforms=&quot;u_baseColorFactor:0.2 0.2 0.2 1&quot; states=&quot;cullOn: false&quot;&gt;&lt;/xr-mesh&gt;</span><br><span class="line">    &lt;xr-mesh node-id=&quot;mesh-cube&quot; position=&quot;0.6 -0.25 0.8&quot; rotation=&quot;0 30 0&quot; scale=&quot;0.5 0.5 0.5&quot; geometry=&quot;cube&quot; material=&quot;standard-mat&quot; uniforms=&quot;u_baseColorFactor:1 1 1 1&quot;&gt;&lt;/xr-mesh&gt;</span><br><span class="line">    &lt;xr-mesh node-id=&quot;mesh-sphere&quot; position=&quot;2 -0.15 -1&quot; scale=&quot;0.4 0.4 0.4&quot; geometry=&quot;sphere&quot; material=&quot;standard-mat&quot; uniforms=&quot;u_baseColorFactor:1 1 1 1&quot;&gt;&lt;/xr-mesh&gt;</span><br><span class="line">    &lt;xr-mesh node-id=&quot;mesh-cylinder&quot; position=&quot;-0.2 -0.2 -0.8&quot; scale=&quot;0.5 0.4 0.5&quot; geometry=&quot;cylinder&quot; material=&quot;standard-mat&quot; uniforms=&quot;u_baseColorFactor:1 1 1 1&quot;&gt;&lt;/xr-mesh&gt;</span><br><span class="line">    &lt;xr-mesh node-id=&quot;mesh-cube-far&quot; position=&quot;3 -0.25 1&quot; rotation=&quot;0 -30 0&quot; scale=&quot;0.5 0.5 0.5&quot; geometry=&quot;cube&quot; material=&quot;standard-mat&quot; uniforms=&quot;u_baseColorFactor:1 1 1 1&quot;&gt;&lt;/xr-mesh&gt;</span><br><span class="line">    &lt;xr-camera</span><br><span class="line">      id=&quot;camera&quot; node-id=&quot;camera&quot; position=&quot;-2 1 0&quot; clear-color=&quot;0 0 0 1&quot;</span><br><span class="line">      target=&quot;camera-target&quot;</span><br><span class="line">      camera-orbit-control=&quot;&quot;</span><br><span class="line">    &gt;&lt;/xr-camera&gt;</span><br><span class="line">  &lt;/xr-node&gt;</span><br><span class="line">  &lt;xr-node node-id=&quot;lights&quot;&gt;</span><br><span class="line">    &lt;xr-light type=&quot;ambient&quot; color=&quot;1 1 1&quot; intensity=&quot;0.1&quot; /&gt;</span><br><span class="line">    &lt;xr-light type=&quot;directional&quot; rotation=&quot;40 170 0&quot; color=&quot;1 1 1&quot; intensity=&quot;0.2&quot; /&gt;</span><br><span class="line">    &lt;xr-light type=&quot;point&quot; position=&quot;0 0 0&quot; color=&quot;1 0 0&quot; range=&quot;3&quot; intensity=&quot;3&quot; /&gt;</span><br><span class="line">    &lt;xr-light type=&quot;point&quot; position=&quot;2 0 1&quot; color=&quot;0 1 0&quot; range=&quot;3&quot; intensity=&quot;3&quot; /&gt;</span><br><span class="line">    &lt;xr-light type=&quot;spot&quot; position=&quot;0 0 0&quot; color=&quot;0 0 1&quot; range=&quot;12&quot; intensity=&quot;12&quot; rotation=&quot;0 120 0&quot; inner-cone-angle=&quot;30&quot; outer-cone-angle=&quot;35&quot; /&gt;</span><br><span class="line">  &lt;/xr-node&gt;</span><br><span class="line">&lt;/xr-scene&gt;</span><br></pre></td></tr></table></figure></p><h6 id="2-1-灯光"><a href="#2-1-灯光" class="headerlink" title="2.1 灯光"></a>2.1 灯光</h6><p>&emsp;&emsp;环境光：类型是 ambient，支持颜色 color 和亮度 intensity，直接影响物体的基础颜色和亮度。<br>&emsp;&emsp;平行光：类型是 directional，支持颜色 color 和亮度 intensity，以及通过旋转 rotation 决定的方向，为物体表面通过不同光照算法提供明暗。<br>&emsp;&emsp;点光源：类型是 point，支持颜色 color 和亮度 intensity，以及 position 决定的位置和 range 决定的照亮范围。<br>&emsp;&emsp;聚光灯：类型是 spot，支持颜色 color 和亮度 intensity，以及 position 决定的位置、rotation 决定的方向、range 决定的照亮范围，和 inner-cone-angle 与 outer-cone-angle 决定的锥角。</p><h6 id="2-2-阴影"><a href="#2-2-阴影" class="headerlink" title="2.2 阴影"></a>2.2 阴影</h6><p>&emsp;&emsp;阴影是灯光和网格的协作结果，只有主平行光能够产生阴影。<br>&emsp;&emsp;给需要接收阴影的 xr-mesh 开启 receive-shadow，给需要产生阴影的 xr-mesh 开启 cast-shadow，最后开启主光源的 cast-shadow 总开关允许灯光产生阴影。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h5 id=&quot;1-项目地址&quot;&gt;&lt;a href=&quot;#1-项目地址&quot; class=&quot;headerlink&quot; title=&quot;1 项目地址&quot;&gt;&lt;/a&gt;1 项目地址&lt;/h5&gt;&lt;p&gt;官方项目地址：&lt;a class=&quot;link&quot;   href=&quot;https://github.com/dtys</summary>
      
    
    
    
    <category term="微信小程序" scheme="http://example.com/categories/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/"/>
    
    <category term="xr-frame" scheme="http://example.com/categories/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/xr-frame/"/>
    
    
    <category term="微信小程序" scheme="http://example.com/tags/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/"/>
    
    <category term="xr-frame" scheme="http://example.com/tags/xr-frame/"/>
    
  </entry>
  
  <entry>
    <title>XR-FRAME - 基础能力 - Alpha 透明画布</title>
    <link href="http://example.com/2023/12/12/XR-FRAME-%E5%9F%BA%E7%A1%80%E8%83%BD%E5%8A%9B-Alpha%E9%80%8F%E6%98%8E%E7%94%BB%E5%B8%83/"/>
    <id>http://example.com/2023/12/12/XR-FRAME-%E5%9F%BA%E7%A1%80%E8%83%BD%E5%8A%9B-Alpha%E9%80%8F%E6%98%8E%E7%94%BB%E5%B8%83/</id>
    <published>2023-12-12T06:56:33.000Z</published>
    <updated>2023-12-12T08:18:35.097Z</updated>
    
    <content type="html"><![CDATA[<h5 id="1-项目地址"><a href="#1-项目地址" class="headerlink" title="1 项目地址"></a>1 项目地址</h5><p>官方项目地址：<a class="link"   href="https://github.com/dtysky/xr-frame-demo/tree/master/miniprogram/components/xr-basic-alpha" >https://github.com/dtysky/xr-frame-demo/tree/master/miniprogram/components/xr-basic-alpha<i class="fas fa-external-link-alt"></i></a></p><h5 id="2-代码解析"><a href="#2-代码解析" class="headerlink" title="2 代码解析"></a>2 代码解析</h5><p>主要代码：<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;xr-scene render-system=&quot;alpha:true&quot; bind:ready=&quot;handleReady&quot;&gt;</span><br><span class="line">  &lt;xr-node&gt;</span><br><span class="line">    &lt;xr-mesh id=&quot;cube&quot; node-id=&quot;mesh-cube&quot; position=&quot;-0.5 0 0&quot; geometry=&quot;cube&quot; uniforms=&quot;u_baseColorFactor:0.298 0.764 0.85 &#123;&#123;cubeAlpha&#125;&#125;&quot; states=&quot;alphaMode:BLEND&quot; /&gt;</span><br><span class="line">    &lt;xr-mesh node-id=&quot;mesh-sphere&quot; position=&quot;0.5 0 0&quot; geometry=&quot;sphere&quot; uniforms=&quot;u_baseColorFactor:0.937 0.176 0.368 &#123;&#123;sphereAlpha&#125;&#125;&quot; states=&quot;alphaMode:BLEND&quot; /&gt;</span><br><span class="line">    &lt;xr-node node-id=&quot;target&quot; position=&quot;0 0 0&quot; /&gt;</span><br><span class="line">    &lt;xr-camera</span><br><span class="line">      id=&quot;camera&quot; node-id=&quot;camera&quot; position=&quot;0 2 2&quot; clear-color=&quot;&#123;&#123;clearColor&#125;&#125;&quot;</span><br><span class="line">      target=&quot;target&quot; camera-orbit-control=&quot;&quot;</span><br><span class="line">    &gt;&lt;/xr-camera&gt;</span><br><span class="line">  &lt;/xr-node&gt;</span><br><span class="line">  &lt;xr-node node-id=&quot;lights&quot;&gt;</span><br><span class="line">    &lt;xr-light type=&quot;ambient&quot; color=&quot;1 1 1&quot; intensity=&quot;1&quot; /&gt;</span><br><span class="line">    &lt;xr-light type=&quot;directional&quot; rotation=&quot;40 170 0&quot; color=&quot;1 1 1&quot; intensity=&quot;3&quot; /&gt;</span><br><span class="line">  &lt;/xr-node&gt;</span><br><span class="line">&lt;/xr-scene&gt;</span><br></pre></td></tr></table></figure></p><p>&emsp;&emsp;这段代码中开启了 render-system 的 alpha 属性，并且将 xr-camera 元素上的 clear-color 的透明通道设置了一个非零的值，还开启了 xr-mesh 的 BLEND 混合和设置了 baseColor 的透明通道。<br>&emsp;&emsp;有时候需要让画布有一定的透明度，来和画布后面的背景混合，即<code>render-system=&quot;alpha:true&quot;</code>。render-system 为渲染系统；alpha，是否支持画布输出透明通道，并且能够和背景混合。xml 中数据类型为 boolean。<br>&emsp;&emsp;<code>states=&quot;alphaMode:BLEND&quot;</code>给网格开启透明混合。states 为初始要写入的渲染状态，xml 中的数据类型为 map，目前支持 renderQueue、cullOn、depthTestOn、depthTestWrite、alphaMode、alphaCutOff，alphaMode 和 alphaCutOff 遵循 glTF 标准；alphaMode，透明模式，材质支持的渲染状态，类型有 ‘OPAQUE’、’BLEND’、’MASK’。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h5 id=&quot;1-项目地址&quot;&gt;&lt;a href=&quot;#1-项目地址&quot; class=&quot;headerlink&quot; title=&quot;1 项目地址&quot;&gt;&lt;/a&gt;1 项目地址&lt;/h5&gt;&lt;p&gt;官方项目地址：&lt;a class=&quot;link&quot;   href=&quot;https://github.com/dtys</summary>
      
    
    
    
    <category term="微信小程序" scheme="http://example.com/categories/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/"/>
    
    <category term="xr-frame" scheme="http://example.com/categories/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/xr-frame/"/>
    
    
    <category term="微信小程序" scheme="http://example.com/tags/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/"/>
    
    <category term="xr-frame" scheme="http://example.com/tags/xr-frame/"/>
    
  </entry>
  
  <entry>
    <title>Vant 组件定制主题的方法</title>
    <link href="http://example.com/2023/12/12/vant%E7%BB%84%E4%BB%B6%E5%AE%9A%E5%88%B6%E4%B8%BB%E9%A2%98%E7%9A%84%E6%96%B9%E6%B3%95/"/>
    <id>http://example.com/2023/12/12/vant%E7%BB%84%E4%BB%B6%E5%AE%9A%E5%88%B6%E4%B8%BB%E9%A2%98%E7%9A%84%E6%96%B9%E6%B3%95/</id>
    <published>2023-12-12T04:31:48.000Z</published>
    <updated>2023-12-12T04:54:43.034Z</updated>
    
    <content type="html"><![CDATA[<h5 id="1-官网地址"><a href="#1-官网地址" class="headerlink" title="1 官网地址"></a>1 官网地址</h5><p>官网：<a class="link"   href="https://vant-contrib.gitee.io/vant/v2/#/zh-CN/theme" >https://vant-contrib.gitee.io/vant/v2/#/zh-CN/theme<i class="fas fa-external-link-alt"></i></a></p><h5 id="2-引入样式源文件"><a href="#2-引入样式源文件" class="headerlink" title="2 引入样式源文件"></a>2 引入样式源文件</h5><h6 id="2-1-按需引入"><a href="#2-1-按需引入" class="headerlink" title="2.1 按需引入"></a>2.1 按需引入</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 在 babel.config.js 中配置按需引入样式源文件，注意 babel6 不支持按需引入样式，请手动引入样式。</span></span><br><span class="line"><span class="comment">// 注：检查是否安装babel-plugin-import</span></span><br><span class="line"><span class="comment">// 安装插件</span></span><br><span class="line"><span class="comment">// npm i babel-plugin-import -D</span></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">plugins</span>: [</span><br><span class="line">    [</span><br><span class="line">      <span class="string">&#x27;import&#x27;</span>,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">libraryName</span>: <span class="string">&#x27;vant&#x27;</span>,</span><br><span class="line">        <span class="attr">libraryDirectory</span>: <span class="string">&#x27;es&#x27;</span>,</span><br><span class="line">        <span class="comment">// 指定样式路径</span></span><br><span class="line">        <span class="attr">style</span>: <span class="function">(<span class="params">name</span>) =&gt;</span> <span class="string">`<span class="subst">$&#123;name&#125;</span>/style/less`</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="string">&#x27;vant&#x27;</span>,</span><br><span class="line">    ],</span><br><span class="line">  ],</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h6 id="2-2-手动引入"><a href="#2-2-手动引入" class="headerlink" title="2.2 手动引入"></a>2.2 手动引入</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// main.js</span></span><br><span class="line"><span class="comment">// 引入全部样式</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;vant/lib/index.less&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 引入单个组件样式</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;vant/lib/button/style/less&#x27;</span>;</span><br></pre></td></tr></table></figure><h5 id="3-修改样式变量"><a href="#3-修改样式变量" class="headerlink" title="3 修改样式变量"></a>3 修改样式变量</h5><h6 id="3-1-新建主题样式文件"><a href="#3-1-新建主题样式文件" class="headerlink" title="3.1 新建主题样式文件"></a>3.1 新建主题样式文件</h6><p>新建 /src/styles/theme.less，修改自己需要的样式<br><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">@border-color:</span> <span class="variable">@gray-3</span>;</span><br><span class="line"><span class="variable">@border-width-base:</span> <span class="number">1px</span>;</span><br><span class="line"><span class="variable">@border-radius-sm:</span> <span class="number">2px</span>;</span><br><span class="line"><span class="variable">@border-radius-md:</span> <span class="number">4px</span>;</span><br><span class="line"><span class="variable">@border-radius-lg:</span> <span class="number">8px</span>;</span><br><span class="line"><span class="variable">@border-radius-max:</span> <span class="number">999px</span>;</span><br></pre></td></tr></table></figure></p><h6 id="3-2-在-vue-config-js-中引入"><a href="#3-2-在-vue-config-js-中引入" class="headerlink" title="3.2 在 vue.config.js 中引入"></a>3.2 在 vue.config.js 中引入</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// vue.config.js</span></span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">Path</span> =  path.<span class="title function_">join</span>(__dirname, <span class="string">&#x27;./src/styles/theme.less&#x27;</span>)</span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">css</span>: &#123;</span><br><span class="line">    <span class="attr">loaderOptions</span>: &#123;</span><br><span class="line">      <span class="attr">less</span>: &#123;</span><br><span class="line">        <span class="comment">// 若 less-loader 版本小于 6.0，请移除 lessOptions 这一级，直接配置选项。</span></span><br><span class="line">        <span class="attr">lessOptions</span>: &#123;</span><br><span class="line">          <span class="attr">modifyVars</span>: &#123;</span><br><span class="line">            <span class="comment">// 直接覆盖变量</span></span><br><span class="line">            <span class="string">&#x27;text-color&#x27;</span>: <span class="string">&#x27;#111&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;border-color&#x27;</span>: <span class="string">&#x27;#eee&#x27;</span>,</span><br><span class="line">            <span class="comment">// 或者可以通过 less 文件覆盖（文件路径为绝对路径）</span></span><br><span class="line">            <span class="attr">hack</span>: <span class="string">`true; @import &quot;<span class="subst">$&#123;Path&#125;</span>&quot;;`</span>,</span><br><span class="line">          &#125;,</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h5 id=&quot;1-官网地址&quot;&gt;&lt;a href=&quot;#1-官网地址&quot; class=&quot;headerlink&quot; title=&quot;1 官网地址&quot;&gt;&lt;/a&gt;1 官网地址&lt;/h5&gt;&lt;p&gt;官网：&lt;a class=&quot;link&quot;   href=&quot;https://vant-contrib.gitee.</summary>
      
    
    
    
    <category term="Vue2" scheme="http://example.com/categories/Vue2/"/>
    
    <category term="Vant 组件库" scheme="http://example.com/categories/Vue2/Vant-%E7%BB%84%E4%BB%B6%E5%BA%93/"/>
    
    
    <category term="Vue2" scheme="http://example.com/tags/Vue2/"/>
    
    <category term="Vant 组件库" scheme="http://example.com/tags/Vant-%E7%BB%84%E4%BB%B6%E5%BA%93/"/>
    
  </entry>
  
</feed>
